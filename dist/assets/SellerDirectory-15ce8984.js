import{b as U,u as G,r as a,v as q,w as E,x as F,m as H,g as W,c as $,j as e,L as K}from"./index-e04eb9d8.js";import{L as V}from"./LocationSelector-d619b197.js";import{B}from"./BackToHomeButton-1e011a6b.js";const Y=()=>{var z;const{getUniqueSellers:D,isRestrictedMode:j,toggleRestriction:I}=U(),{t:o}=G(),[w]=a.useState(()=>{const t=D();let l=[...t.map(r=>({...r,id:r.contactMobile||r.name,location:r.location.includes(",")?r.location:`${r.district||"Unknown"}, ${r.state||"Unknown"}`}))];const n=q(),s=["Wheat","Rice","Sugarcane","Cotton","Tomato","Onion","Soybean","Maize","Turmeric","Gram","Ginger","Bajra"];for(let r=0;r<500;r++){const g=t.length>0?t[r%t.length]:{name:"Seller"},b=s[Math.floor(Math.random()*s.length)],x=s[Math.floor(Math.random()*s.length)],C=g.products?g.products:[b,x!==b?x:null].filter(Boolean),u=n[Math.floor(Math.random()*n.length)],c=E(u),d=c.length>0?c[Math.floor(Math.random()*c.length)]:"Unknown",p=F(u,d),R=p.length>0?p[Math.floor(Math.random()*p.length)]:"Main City";l.push({...g,id:`mock-seller-${r}`,name:`${g.name||"Farmer"} (Mock ${r+1})`,contactMobile:"9123456789",products:C,state:u,district:d,tehsil:R,location:`${R}, ${d}, ${u}`,isMock:!0})}return l}),[N]=H(),S=((z=N.get("search"))==null?void 0:z.toLowerCase())||"",[f,k]=a.useState(""),[i,M]=a.useState(""),[m,_]=a.useState(""),[y,L]=a.useState(""),[A,T]=a.useState(9),h=a.useMemo(()=>w.filter(t=>{const l=!f||t.state===f,n=!i||t.district===i,s=!m||t.tehsil===m,r=y.toLowerCase(),g=W(r),b=!y||t.products.some(c=>{const d=c.toLowerCase();return g.some(p=>d.includes(p))}),x=S.toLowerCase(),C=W(x),u=!S||t.name.toLowerCase().includes(x)||t.location.toLowerCase().includes(x)||t.products.some(c=>{const d=c.toLowerCase();return C.some(p=>d.includes(p))});return l&&n&&s&&u&&b}),[f,i,m,w,S,y]),v=h.slice(0,A),O=()=>{T(t=>t+9)},P=a.useMemo(()=>{const t=new Set([...Object.keys($),...Object.values($)]);return Array.from(t).sort()},[]);return e.jsxs("div",{className:"container fade-in",style:{padding:"var(--spacing-xl) 0"},children:[e.jsx(B,{compact:!0}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0},children:o("verified_sellers")}),e.jsx("p",{style:{color:"#666"},children:o("find_sellers_desc")})]}),e.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"8px",border:"1px dashed #ccc",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"bold"},children:"ðŸ‘‘ Admin:"}),e.jsx("button",{onClick:I,style:{backgroundColor:j?"#e53935":"#43a047",color:"white",border:"none",padding:"5px 15px",borderRadius:"20px",cursor:"pointer",fontSize:"0.8rem"},children:j?"Restricted ON":"Free Access ON"})]})]}),e.jsxs("div",{className:"card",style:{padding:"1.5rem",backgroundColor:"#e8f5e9",border:"1px solid #c8e6c9",display:"flex",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#2e7d32"},children:["ðŸŒ¾ ",o("product_label"),":"]}),e.jsx("input",{type:"text",list:"crop-suggestions",placeholder:"e.g. Tomato, Wheat...",value:y,onChange:t=>L(t.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #aaa",fontSize:"1rem"}}),e.jsx("datalist",{id:"crop-suggestions",children:P.map((t,l)=>e.jsx("option",{value:t},l))})]}),e.jsxs("div",{style:{flex:2,minWidth:"300px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#2e7d32"},children:["ðŸ“ ",o("location"),":"]}),e.jsx(V,{selectedState:f,selectedDistrict:i,selectedTehsil:m,onLocationChange:t=>{k(t.state),M(t.district),_(t.tehsil),T(9)},showTehsil:!0,vertical:!1})]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",flexWrap:"wrap",gap:"10px"},children:[e.jsxs("span",{style:{color:"#666",fontSize:"0.9rem"},children:[o("found_sellers"),": ",e.jsx("strong",{children:h.length}),i&&` (${i})`,m&&` -> ${m}`]}),h.length>0&&e.jsxs("button",{onClick:()=>{k(""),M(""),_(""),L("")},style:{background:"white",border:"1px solid var(--color-primary)",color:"var(--color-primary)",cursor:"pointer",fontSize:"0.85rem",fontWeight:"bold",padding:"6px 16px",borderRadius:"20px",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px"},onMouseOver:t=>{t.target.style.backgroundColor="var(--color-primary)",t.target.style.color="white"},onMouseOut:t=>{t.target.style.backgroundColor="white",t.target.style.color="var(--color-primary)"},children:["ðŸ”„ ",o("reset_filters")]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"2rem"},children:[v.map((t,l)=>e.jsxs("div",{className:"card",style:{padding:"0",overflow:"hidden"},children:[e.jsxs("div",{style:{backgroundColor:"var(--color-primary-light)",padding:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",color:"var(--color-primary)",fontWeight:"bold"},children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"var(--color-surface)"},children:t.name}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px",color:"rgba(255,255,255,0.9)",fontSize:"0.9rem"},children:e.jsxs("span",{children:["ðŸ“ ",t.location]})}),e.jsxs("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.8rem",marginTop:"2px"},children:["â­ ",t.rating," Rating"]})]})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("strong",{style:{display:"block",fontSize:"0.9rem",color:"#666",marginBottom:"5px"},children:[o("deals_in"),":"]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:t.products.map((n,s)=>e.jsx("span",{style:{backgroundColor:"#f0f4c3",color:"#558b2f",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8rem"},children:n},s))})]}),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"1rem 0"}}),j?e.jsxs("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeeba",color:"#856404",padding:"10px",borderRadius:"5px",textAlign:"center",fontSize:"0.9rem"},children:["ðŸ”’ ",e.jsx("strong",{children:o("contact_hidden")}),e.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.8rem"},children:o("upgrade_premium")}),e.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"10px",fontSize:"0.8rem",padding:"5px"},children:o("unlock_access")})]}):e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs("a",{href:t.contactMobile?`tel:${t.contactMobile}`:"#",className:"btn btn-outline",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",textDecoration:"none"},onClick:n=>{t.contactMobile||(n.preventDefault(),alert("Contact number hidden or not available."))},children:["ðŸ“ž ",o("call_now")]}),e.jsxs("a",{href:t.contactMobile?`https://wa.me/${t.contactMobile}?text=Hi ${t.name}, I found your profile on KisanBazaar.`:"#",target:"_blank",rel:"noopener noreferrer",className:"btn",style:{flex:1,backgroundColor:"#25D366",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",textDecoration:"none"},onClick:n=>{t.contactMobile||(n.preventDefault(),alert("Contact number hidden or not available."))},children:["ðŸ’¬ ",o("whatsapp")]})]})]})]},t.id)),h.length===0&&e.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"#666"},children:[e.jsx("h3",{children:o("no_sellers_found")}),e.jsx("p",{children:o("try_changing_location")}),i==="All"&&e.jsx(K,{to:"/sell",className:"btn btn-primary",children:o("list_product")})]})]}),v.length<h.length&&e.jsxs("div",{style:{textAlign:"center",marginTop:"3rem"},children:[e.jsxs("button",{onClick:O,className:"btn btn-outline",style:{padding:"0.8rem 3rem",fontSize:"1.1rem"},children:[o("load_more_sellers")," (â¬‡ï¸)"]}),e.jsxs("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.8rem"},children:[o("showing_sellers_count")," ",v.length," / ",h.length]})]}),e.jsx("div",{style:{marginTop:"2rem"},children:e.jsx(B,{})})]})};export{Y as default};
