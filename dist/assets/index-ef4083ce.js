function Nw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qg={exports:{}},wl={},Wg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),Lw=Symbol.for("react.portal"),Ow=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),zw=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),qw=Symbol.for("react.memo"),Ww=Symbol.for("react.lazy"),cp=Symbol.iterator;function Hw(t){return t===null||typeof t!="object"?null:(t=cp&&t[cp]||t["@@iterator"],typeof t=="function"?t:null)}var Hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kg=Object.assign,Gg={};function Li(t,e,n){this.props=t,this.context=e,this.refs=Gg,this.updater=n||Hg}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qg(){}Qg.prototype=Li.prototype;function kh(t,e,n){this.props=t,this.context=e,this.refs=Gg,this.updater=n||Hg}var xh=kh.prototype=new Qg;xh.constructor=kh;Kg(xh,Li.prototype);xh.isPureReactComponent=!0;var hp=Array.isArray,Yg=Object.prototype.hasOwnProperty,Ah={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function Xg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Yg.call(e,r)&&!Jg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yo,type:t,key:s,ref:o,props:i,_owner:Ah.current}}function Kw(t,e){return{$$typeof:yo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bh(t){return typeof t=="object"&&t!==null&&t.$$typeof===yo}function Gw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dp=/\/+/g;function Eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gw(""+t.key):e.toString(36)}function da(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yo:case Lw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Eu(o,0):r,hp(i)?(n="",t!=null&&(n=t.replace(dp,"$&/")+"/"),da(i,e,n,"",function(h){return h})):i!=null&&(bh(i)&&(i=Kw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hp(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Eu(s,l);o+=da(s,e,n,u,i)}else if(u=Hw(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Eu(s,l++),o+=da(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zo(t,e,n){if(t==null)return t;var r=[],i=0;return da(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},fa={transition:null},Yw={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:fa,ReactCurrentOwner:Ah};function Zg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:zo,forEach:function(t,e,n){zo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zo(t,function(){e++}),e},toArray:function(t){return zo(t,function(e){return e})||[]},only:function(t){if(!bh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Li;Z.Fragment=Ow;Z.Profiler=Fw;Z.PureComponent=kh;Z.StrictMode=jw;Z.Suspense=$w;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yw;Z.act=Zg;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Yg.call(e,u)&&!Jg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:yo,type:t.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:Uw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bw,_context:t},t.Consumer=t};Z.createElement=Xg;Z.createFactory=function(t){var e=Xg.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:zw,render:t}};Z.isValidElement=bh;Z.lazy=function(t){return{$$typeof:Ww,_payload:{_status:-1,_result:t},_init:Qw}};Z.memo=function(t,e){return{$$typeof:qw,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=fa.transition;fa.transition={};try{t()}finally{fa.transition=e}};Z.unstable_act=Zg;Z.useCallback=function(t,e){return lt.current.useCallback(t,e)};Z.useContext=function(t){return lt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return lt.current.useEffect(t,e)};Z.useId=function(){return lt.current.useId()};Z.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return lt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};Z.useRef=function(t){return lt.current.useRef(t)};Z.useState=function(t){return lt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return lt.current.useTransition()};Z.version="18.3.1";Wg.exports=Z;var N=Wg.exports;const Ch=Mw(N),Jw=Nw({__proto__:null,default:Ch},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=N,Zw=Symbol.for("react.element"),e1=Symbol.for("react.fragment"),t1=Object.prototype.hasOwnProperty,n1=Xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r1={key:!0,ref:!0,__self:!0,__source:!0};function e_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)t1.call(e,r)&&!r1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zw,type:t,key:s,ref:o,props:i,_owner:n1.current}}wl.Fragment=e1;wl.jsx=e_;wl.jsxs=e_;qg.exports=wl;var E=qg.exports,t_={exports:{}},Tt={},n_={exports:{}},r_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var J=z.length;z.push(K);e:for(;0<J;){var ge=J-1>>>1,Ae=z[ge];if(0<i(Ae,K))z[ge]=K,z[J]=Ae,J=ge;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],J=z.pop();if(J!==K){z[0]=J;e:for(var ge=0,Ae=z.length,pr=Ae>>>1;ge<pr;){var kt=2*(ge+1)-1,mr=z[kt],Vt=kt+1,In=z[Vt];if(0>i(mr,J))Vt<Ae&&0>i(In,mr)?(z[ge]=In,z[Vt]=J,ge=Vt):(z[ge]=mr,z[kt]=J,ge=kt);else if(Vt<Ae&&0>i(In,J))z[ge]=In,z[Vt]=J,ge=Vt;else break e}}return K}function i(z,K){var J=z.sortIndex-K.sortIndex;return J!==0?J:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,m=3,w=!1,P=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=z)r(h),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(h)}}function R(z){if(b=!1,T(z),!P)if(n(u)!==null)P=!0,ln(L);else{var K=n(h);K!==null&&un(R,K.startTime-z)}}function L(z,K){P=!1,b&&(b=!1,I(y),y=-1),w=!0;var J=m;try{for(T(K),p=n(u);p!==null&&(!(p.expirationTime>K)||z&&!A());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,m=p.priorityLevel;var Ae=ge(p.expirationTime<=K);K=t.unstable_now(),typeof Ae=="function"?p.callback=Ae:p===n(u)&&r(u),T(K)}else r(u);p=n(u)}if(p!==null)var pr=!0;else{var kt=n(h);kt!==null&&un(R,kt.startTime-K),pr=!1}return pr}finally{p=null,m=J,w=!1}}var F=!1,S=null,y=-1,g=5,x=-1;function A(){return!(t.unstable_now()-x<g)}function C(){if(S!==null){var z=t.unstable_now();x=z;var K=!0;try{K=S(!0,z)}finally{K?k():(F=!1,S=null)}}else F=!1}var k;if(typeof v=="function")k=function(){v(C)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Te=xe.port2;xe.port1.onmessage=C,k=function(){Te.postMessage(null)}}else k=function(){D(C,0)};function ln(z){S=z,F||(F=!0,k())}function un(z,K){y=D(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){P||w||(P=!0,ln(L))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var J=m;m=K;try{return z()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=m;m=z;try{return K()}finally{m=J}},t.unstable_scheduleCallback=function(z,K,J){var ge=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ge+J:ge):J=ge,z){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=J+Ae,z={id:f++,callback:K,priorityLevel:z,startTime:J,expirationTime:Ae,sortIndex:-1},J>ge?(z.sortIndex=J,e(h,z),n(u)===null&&z===n(h)&&(b?(I(y),y=-1):b=!0,un(R,J-ge))):(z.sortIndex=Ae,e(u,z),P||w||(P=!0,ln(L))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var K=m;return function(){var J=m;m=K;try{return z.apply(this,arguments)}finally{m=J}}}})(r_);n_.exports=r_;var i1=n_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1=N,St=i1;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,$s={};function Fr(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for($s[t]=e,t=0;t<e.length;t++)i_.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=Object.prototype.hasOwnProperty,o1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp={},pp={};function a1(t){return rc.call(pp,t)?!0:rc.call(fp,t)?!1:o1.test(t)?pp[t]=!0:(fp[t]=!0,!1)}function l1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u1(t,e,n,r){if(e===null||typeof e>"u"||l1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Rh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ph,Rh);Ge[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ph,Rh);Ge[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ph,Rh);Ge[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dh(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u1(e,n,i,r)&&(n=null),r||i===null?a1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sn=s1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Mh=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),a_=Symbol.for("react.offscreen"),mp=Symbol.iterator;function cs(t){return t===null||typeof t!="object"?null:(t=mp&&t[mp]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Su;function Es(t){if(Su===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Su=e&&e[1]||""}return`
`+Su+t}var Tu=!1;function Iu(t,e){if(!t||Tu)return"";Tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Tu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function c1(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=Iu(t.type,!1),t;case 11:return t=Iu(t.type.render,!1),t;case 1:return t=Iu(t.type,!0),t;default:return""}}function ac(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Xr:return"Portal";case ic:return"Profiler";case Vh:return"StrictMode";case sc:return"Suspense";case oc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o_:return(t.displayName||"Context")+".Consumer";case s_:return(t._context.displayName||"Context")+".Provider";case Nh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mh:return e=t.displayName||null,e!==null?e:ac(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return ac(t(e))}catch{}}return null}function h1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ac(e);case 8:return e===Vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d1(t){var e=l_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qo(t){t._valueTracker||(t._valueTracker=d1(t))}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lc(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c_(t,e){e=e.checked,e!=null&&Dh(t,"checked",e,!1)}function uc(t,e){c_(t,e);var n=er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cc(t,e.type,n):e.hasOwnProperty("defaultValue")&&cc(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _p(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cc(t,e,n){(e!=="number"||Pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ss=Array.isArray;function ci(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ss(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:er(n)}}function h_(t,e){var n=er(e.value),r=er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wo,f_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f1=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(t){f1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cs[e]=Cs[t]})});function p_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cs.hasOwnProperty(t)&&Cs[t]?(""+e).trim():e+"px"}function m_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=p_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var p1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(t,e){if(e){if(p1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function pc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gc=null,hi=null,di=null;function wp(t){if(t=Eo(t)){if(typeof gc!="function")throw Error(B(280));var e=t.stateNode;e&&(e=kl(e),gc(t.stateNode,t.type,e))}}function g_(t){hi?di?di.push(t):di=[t]:hi=t}function __(){if(hi){var t=hi,e=di;if(di=hi=null,wp(t),e)for(t=0;t<e.length;t++)wp(e[t])}}function y_(t,e){return t(e)}function v_(){}var ku=!1;function w_(t,e,n){if(ku)return t(e,n);ku=!0;try{return y_(t,e,n)}finally{ku=!1,(hi!==null||di!==null)&&(v_(),__())}}function Ws(t,e){var n=t.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var _c=!1;if(mn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){_c=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{_c=!1}function m1(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Ps=!1,Ra=null,Da=!1,yc=null,g1={onError:function(t){Ps=!0,Ra=t}};function _1(t,e,n,r,i,s,o,l,u){Ps=!1,Ra=null,m1.apply(g1,arguments)}function y1(t,e,n,r,i,s,o,l,u){if(_1.apply(this,arguments),Ps){if(Ps){var h=Ra;Ps=!1,Ra=null}else throw Error(B(198));Da||(Da=!0,yc=h)}}function Br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function E_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ep(t){if(Br(t)!==t)throw Error(B(188))}function v1(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ep(i),t;if(s===r)return Ep(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function S_(t){return t=v1(t),t!==null?T_(t):null}function T_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T_(t);if(e!==null)return e;t=t.sibling}return null}var I_=St.unstable_scheduleCallback,Sp=St.unstable_cancelCallback,w1=St.unstable_shouldYield,E1=St.unstable_requestPaint,Pe=St.unstable_now,S1=St.unstable_getCurrentPriorityLevel,Oh=St.unstable_ImmediatePriority,k_=St.unstable_UserBlockingPriority,Va=St.unstable_NormalPriority,T1=St.unstable_LowPriority,x_=St.unstable_IdlePriority,El=null,Xt=null;function I1(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(El,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:A1,k1=Math.log,x1=Math.LN2;function A1(t){return t>>>=0,t===0?32:31-(k1(t)/x1|0)|0}var Ho=64,Ko=4194304;function Ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ts(l):(s&=o,s!==0&&(r=Ts(s)))}else o=n&~i,o!==0?r=Ts(o):s!==0&&(r=Ts(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jt(e),i=1<<n,r|=t[n],e&=~i;return r}function b1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-jt(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=b1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function vc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A_(){var t=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),t}function xu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function P1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var oe=0;function b_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C_,Fh,P_,R_,D_,wc=!1,Go=[],Bn=null,Un=null,zn=null,Hs=new Map,Ks=new Map,Nn=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(e.pointerId)}}function ds(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eo(e),e!==null&&Fh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D1(t,e,n,r,i){switch(e){case"focusin":return Bn=ds(Bn,t,e,n,r,i),!0;case"dragenter":return Un=ds(Un,t,e,n,r,i),!0;case"mouseover":return zn=ds(zn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hs.set(s,ds(Hs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ks.set(s,ds(Ks.get(s)||null,t,e,n,r,i)),!0}return!1}function V_(t){var e=Ir(t.target);if(e!==null){var n=Br(e);if(n!==null){if(e=n.tag,e===13){if(e=E_(n),e!==null){t.blockedOn=e,D_(t.priority,function(){P_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ec(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return e=Eo(n),e!==null&&Fh(e),t.blockedOn=n,!1;e.shift()}return!0}function Ip(t,e,n){pa(t)&&n.delete(e)}function V1(){wc=!1,Bn!==null&&pa(Bn)&&(Bn=null),Un!==null&&pa(Un)&&(Un=null),zn!==null&&pa(zn)&&(zn=null),Hs.forEach(Ip),Ks.forEach(Ip)}function fs(t,e){t.blockedOn===e&&(t.blockedOn=null,wc||(wc=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,V1)))}function Gs(t){function e(i){return fs(i,t)}if(0<Go.length){fs(Go[0],t);for(var n=1;n<Go.length;n++){var r=Go[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bn!==null&&fs(Bn,t),Un!==null&&fs(Un,t),zn!==null&&fs(zn,t),Hs.forEach(e),Ks.forEach(e),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)V_(n),n.blockedOn===null&&Nn.shift()}var fi=Sn.ReactCurrentBatchConfig,Ma=!0;function N1(t,e,n,r){var i=oe,s=fi.transition;fi.transition=null;try{oe=1,Bh(t,e,n,r)}finally{oe=i,fi.transition=s}}function M1(t,e,n,r){var i=oe,s=fi.transition;fi.transition=null;try{oe=4,Bh(t,e,n,r)}finally{oe=i,fi.transition=s}}function Bh(t,e,n,r){if(Ma){var i=Ec(t,e,n,r);if(i===null)Lu(t,e,r,La,n),Tp(t,r);else if(D1(i,t,e,n,r))r.stopPropagation();else if(Tp(t,r),e&4&&-1<R1.indexOf(t)){for(;i!==null;){var s=Eo(i);if(s!==null&&C_(s),s=Ec(t,e,n,r),s===null&&Lu(t,e,r,La,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lu(t,e,r,null,n)}}var La=null;function Ec(t,e,n,r){if(La=null,t=Lh(r),t=Ir(t),t!==null)if(e=Br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=E_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return La=t,null}function N_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S1()){case Oh:return 1;case k_:return 4;case Va:case T1:return 16;case x_:return 536870912;default:return 16}default:return 16}}var Ln=null,Uh=null,ma=null;function M_(){if(ma)return ma;var t,e=Uh,n=e.length,r,i="value"in Ln?Ln.value:Ln.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ma=i.slice(t,1<r?1-r:void 0)}function ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function kp(){return!1}function It(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qo:kp,this.isPropagationStopped=kp,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=It(Oi),wo=Ee({},Oi,{view:0,detail:0}),L1=It(wo),Au,bu,ps,Sl=Ee({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(Au=t.screenX-ps.screenX,bu=t.screenY-ps.screenY):bu=Au=0,ps=t),Au)},movementY:function(t){return"movementY"in t?t.movementY:bu}}),xp=It(Sl),O1=Ee({},Sl,{dataTransfer:0}),j1=It(O1),F1=Ee({},wo,{relatedTarget:0}),Cu=It(F1),B1=Ee({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=It(B1),z1=Ee({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$1=It(z1),q1=Ee({},Oi,{data:0}),Ap=It(q1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K1[t])?!!e[t]:!1}function $h(){return G1}var Q1=Ee({},wo,{key:function(t){if(t.key){var e=W1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(t){return t.type==="keypress"?ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y1=It(Q1),J1=Ee({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=It(J1),X1=Ee({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),Z1=It(X1),eE=Ee({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tE=It(eE),nE=Ee({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rE=It(nE),iE=[9,13,27,32],qh=mn&&"CompositionEvent"in window,Rs=null;mn&&"documentMode"in document&&(Rs=document.documentMode);var sE=mn&&"TextEvent"in window&&!Rs,L_=mn&&(!qh||Rs&&8<Rs&&11>=Rs),Cp=String.fromCharCode(32),Pp=!1;function O_(t,e){switch(t){case"keyup":return iE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function oE(t,e){switch(t){case"compositionend":return j_(e);case"keypress":return e.which!==32?null:(Pp=!0,Cp);case"textInput":return t=e.data,t===Cp&&Pp?null:t;default:return null}}function aE(t,e){if(ei)return t==="compositionend"||!qh&&O_(t,e)?(t=M_(),ma=Uh=Ln=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L_&&e.locale!=="ko"?null:e.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lE[t.type]:e==="textarea"}function F_(t,e,n,r){g_(r),e=Oa(e,"onChange"),0<e.length&&(n=new zh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ds=null,Qs=null;function uE(t){Y_(t,0)}function Tl(t){var e=ri(t);if(u_(e))return t}function cE(t,e){if(t==="change")return e}var B_=!1;if(mn){var Pu;if(mn){var Ru="oninput"in document;if(!Ru){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Ru=typeof Dp.oninput=="function"}Pu=Ru}else Pu=!1;B_=Pu&&(!document.documentMode||9<document.documentMode)}function Vp(){Ds&&(Ds.detachEvent("onpropertychange",U_),Qs=Ds=null)}function U_(t){if(t.propertyName==="value"&&Tl(Qs)){var e=[];F_(e,Qs,t,Lh(t)),w_(uE,e)}}function hE(t,e,n){t==="focusin"?(Vp(),Ds=e,Qs=n,Ds.attachEvent("onpropertychange",U_)):t==="focusout"&&Vp()}function dE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(Qs)}function fE(t,e){if(t==="click")return Tl(e)}function pE(t,e){if(t==="input"||t==="change")return Tl(e)}function mE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:mE;function Ys(t,e){if(zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rc.call(e,i)||!zt(t[i],e[i]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,e){var n=Np(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Np(n)}}function z_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $_(){for(var t=window,e=Pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pa(t.document)}return e}function Wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gE(t){var e=$_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&z_(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Mp(n,s);var o=Mp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _E=mn&&"documentMode"in document&&11>=document.documentMode,ti=null,Sc=null,Vs=null,Tc=!1;function Lp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tc||ti==null||ti!==Pa(r)||(r=ti,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&Ys(Vs,r)||(Vs=r,r=Oa(Sc,"onSelect"),0<r.length&&(e=new zh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function Yo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},Du={},q_={};mn&&(q_=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Il(t){if(Du[t])return Du[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q_)return Du[t]=e[n];return t}var W_=Il("animationend"),H_=Il("animationiteration"),K_=Il("animationstart"),G_=Il("transitionend"),Q_=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(t,e){Q_.set(t,e),Fr(e,[t])}for(var Vu=0;Vu<Op.length;Vu++){var Nu=Op[Vu],yE=Nu.toLowerCase(),vE=Nu[0].toUpperCase()+Nu.slice(1);lr(yE,"on"+vE)}lr(W_,"onAnimationEnd");lr(H_,"onAnimationIteration");lr(K_,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr(G_,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function jp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y1(r,e,void 0,t),t.currentTarget=null}function Y_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;jp(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;jp(i,l,h),s=u}}}if(Da)throw t=yc,Da=!1,yc=null,t}function he(t,e){var n=e[bc];n===void 0&&(n=e[bc]=new Set);var r=t+"__bubble";n.has(r)||(J_(e,t,2,!1),n.add(r))}function Mu(t,e,n){var r=0;e&&(r|=4),J_(n,t,r,e)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Js(t){if(!t[Jo]){t[Jo]=!0,i_.forEach(function(n){n!=="selectionchange"&&(wE.has(n)||Mu(n,!1,t),Mu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jo]||(e[Jo]=!0,Mu("selectionchange",!1,e))}}function J_(t,e,n,r){switch(N_(e)){case 1:var i=N1;break;case 4:i=M1;break;default:i=Bh}n=i.bind(null,e,n,t),i=void 0,!_c||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ir(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}w_(function(){var h=s,f=Lh(n),p=[];e:{var m=Q_.get(t);if(m!==void 0){var w=zh,P=t;switch(t){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":w=Y1;break;case"focusin":P="focus",w=Cu;break;case"focusout":P="blur",w=Cu;break;case"beforeblur":case"afterblur":w=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=j1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Z1;break;case W_:case H_:case K_:w=U1;break;case G_:w=tE;break;case"scroll":w=L1;break;case"wheel":w=rE;break;case"copy":case"cut":case"paste":w=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=bp}var b=(e&4)!==0,D=!b&&t==="scroll",I=b?m!==null?m+"Capture":null:m;b=[];for(var v=h,T;v!==null;){T=v;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,I!==null&&(R=Ws(v,I),R!=null&&b.push(Xs(v,R,T)))),D)break;v=v.return}0<b.length&&(m=new w(m,P,null,n,f),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==mc&&(P=n.relatedTarget||n.fromElement)&&(Ir(P)||P[gn]))break e;if((w||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,w?(P=n.relatedTarget||n.toElement,w=h,P=P?Ir(P):null,P!==null&&(D=Br(P),P!==D||P.tag!==5&&P.tag!==6)&&(P=null)):(w=null,P=h),w!==P)){if(b=xp,R="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(b=bp,R="onPointerLeave",I="onPointerEnter",v="pointer"),D=w==null?m:ri(w),T=P==null?m:ri(P),m=new b(R,v+"leave",w,n,f),m.target=D,m.relatedTarget=T,R=null,Ir(f)===h&&(b=new b(I,v+"enter",P,n,f),b.target=T,b.relatedTarget=D,R=b),D=R,w&&P)t:{for(b=w,I=P,v=0,T=b;T;T=Kr(T))v++;for(T=0,R=I;R;R=Kr(R))T++;for(;0<v-T;)b=Kr(b),v--;for(;0<T-v;)I=Kr(I),T--;for(;v--;){if(b===I||I!==null&&b===I.alternate)break t;b=Kr(b),I=Kr(I)}b=null}else b=null;w!==null&&Fp(p,m,w,b,!1),P!==null&&D!==null&&Fp(p,D,P,b,!0)}}e:{if(m=h?ri(h):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var L=cE;else if(Rp(m))if(B_)L=pE;else{L=dE;var F=hE}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=fE);if(L&&(L=L(t,h))){F_(p,L,n,f);break e}F&&F(t,m,h),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&cc(m,"number",m.value)}switch(F=h?ri(h):window,t){case"focusin":(Rp(F)||F.contentEditable==="true")&&(ti=F,Sc=h,Vs=null);break;case"focusout":Vs=Sc=ti=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Lp(p,n,f);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Lp(p,n,f)}var S;if(qh)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ei?O_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(L_&&n.locale!=="ko"&&(ei||y!=="onCompositionStart"?y==="onCompositionEnd"&&ei&&(S=M_()):(Ln=f,Uh="value"in Ln?Ln.value:Ln.textContent,ei=!0)),F=Oa(h,y),0<F.length&&(y=new Ap(y,t,null,n,f),p.push({event:y,listeners:F}),S?y.data=S:(S=j_(n),S!==null&&(y.data=S)))),(S=sE?oE(t,n):aE(t,n))&&(h=Oa(h,"onBeforeInput"),0<h.length&&(f=new Ap("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=S))}Y_(p,e)})}function Xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ws(t,n),s!=null&&r.unshift(Xs(t,s,i)),s=Ws(t,e),s!=null&&r.push(Xs(t,s,i))),t=t.return}return r}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Ws(n,s),u!=null&&o.unshift(Xs(n,u,l))):i||(u=Ws(n,s),u!=null&&o.push(Xs(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EE=/\r\n?/g,SE=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(EE,`
`).replace(SE,"")}function Xo(t,e,n){if(e=Bp(e),Bp(t)!==e&&n)throw Error(B(425))}function ja(){}var Ic=null,kc=null;function xc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ac=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(kE)}:Ac;function kE(t){setTimeout(function(){throw t})}function Ou(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gs(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ji,Zs="__reactProps$"+ji,gn="__reactContainer$"+ji,bc="__reactEvents$"+ji,xE="__reactListeners$"+ji,AE="__reactHandles$"+ji;function Ir(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zp(t);t!==null;){if(n=t[Jt])return n;t=zp(t)}return e}t=n,n=t.parentNode}return null}function Eo(t){return t=t[Jt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function kl(t){return t[Zs]||null}var Cc=[],ii=-1;function ur(t){return{current:t}}function pe(t){0>ii||(t.current=Cc[ii],Cc[ii]=null,ii--)}function ue(t,e){ii++,Cc[ii]=t.current,t.current=e}var tr={},rt=ur(tr),pt=ur(!1),Dr=tr;function Ei(t,e){var n=t.type.contextTypes;if(!n)return tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function Fa(){pe(pt),pe(rt)}function $p(t,e,n){if(rt.current!==tr)throw Error(B(168));ue(rt,e),ue(pt,n)}function X_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,h1(t)||"Unknown",i));return Ee({},n,r)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,Dr=rt.current,ue(rt,t),ue(pt,pt.current),!0}function qp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=X_(t,e,Dr),r.__reactInternalMemoizedMergedChildContext=t,pe(pt),pe(rt),ue(rt,t)):pe(pt),ue(pt,n)}var hn=null,xl=!1,ju=!1;function Z_(t){hn===null?hn=[t]:hn.push(t)}function bE(t){xl=!0,Z_(t)}function cr(){if(!ju&&hn!==null){ju=!0;var t=0,e=oe;try{var n=hn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,xl=!1}catch(i){throw hn!==null&&(hn=hn.slice(t+1)),I_(Oh,cr),i}finally{oe=e,ju=!1}}return null}var si=[],oi=0,Ua=null,za=0,xt=[],At=0,Vr=null,dn=1,fn="";function Er(t,e){si[oi++]=za,si[oi++]=Ua,Ua=t,za=e}function ey(t,e,n){xt[At++]=dn,xt[At++]=fn,xt[At++]=Vr,Vr=t;var r=dn;t=fn;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var s=32-jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dn=1<<32-jt(e)+i|n<<i|r,fn=s+t}else dn=1<<s|n<<i|r,fn=t}function Hh(t){t.return!==null&&(Er(t,1),ey(t,1,0))}function Kh(t){for(;t===Ua;)Ua=si[--oi],si[oi]=null,za=si[--oi],si[oi]=null;for(;t===Vr;)Vr=xt[--At],xt[At]=null,fn=xt[--At],xt[At]=null,dn=xt[--At],xt[At]=null}var Et=null,vt=null,_e=!1,Ot=null;function ty(t,e){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,vt=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vr!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Et=t,vt=null,!0):!1;default:return!1}}function Pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rc(t){if(_e){var e=vt;if(e){var n=e;if(!Wp(t,e)){if(Pc(t))throw Error(B(418));e=$n(n.nextSibling);var r=Et;e&&Wp(t,e)?ty(r,n):(t.flags=t.flags&-4097|2,_e=!1,Et=t)}}else{if(Pc(t))throw Error(B(418));t.flags=t.flags&-4097|2,_e=!1,Et=t}}}function Hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function Zo(t){if(t!==Et)return!1;if(!_e)return Hp(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xc(t.type,t.memoizedProps)),e&&(e=vt)){if(Pc(t))throw ny(),Error(B(418));for(;e;)ty(t,e),e=$n(e.nextSibling)}if(Hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=$n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=Et?$n(t.stateNode.nextSibling):null;return!0}function ny(){for(var t=vt;t;)t=$n(t.nextSibling)}function Si(){vt=Et=null,_e=!1}function Gh(t){Ot===null?Ot=[t]:Ot.push(t)}var CE=Sn.ReactCurrentBatchConfig;function ms(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ea(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kp(t){var e=t._init;return e(t._payload)}function ry(t){function e(I,v){if(t){var T=I.deletions;T===null?(I.deletions=[v],I.flags|=16):T.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=Kn(I,v),I.index=0,I.sibling=null,I}function s(I,v,T){return I.index=T,t?(T=I.alternate,T!==null?(T=T.index,T<v?(I.flags|=2,v):T):(I.flags|=2,v)):(I.flags|=1048576,v)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,v,T,R){return v===null||v.tag!==6?(v=Wu(T,I.mode,R),v.return=I,v):(v=i(v,T),v.return=I,v)}function u(I,v,T,R){var L=T.type;return L===Zr?f(I,v,T.props.children,R,T.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Dn&&Kp(L)===v.type)?(R=i(v,T.props),R.ref=ms(I,v,T),R.return=I,R):(R=Ta(T.type,T.key,T.props,null,I.mode,R),R.ref=ms(I,v,T),R.return=I,R)}function h(I,v,T,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Hu(T,I.mode,R),v.return=I,v):(v=i(v,T.children||[]),v.return=I,v)}function f(I,v,T,R,L){return v===null||v.tag!==7?(v=Cr(T,I.mode,R,L),v.return=I,v):(v=i(v,T),v.return=I,v)}function p(I,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wu(""+v,I.mode,T),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:return T=Ta(v.type,v.key,v.props,null,I.mode,T),T.ref=ms(I,null,v),T.return=I,T;case Xr:return v=Hu(v,I.mode,T),v.return=I,v;case Dn:var R=v._init;return p(I,R(v._payload),T)}if(Ss(v)||cs(v))return v=Cr(v,I.mode,T,null),v.return=I,v;ea(I,v)}return null}function m(I,v,T,R){var L=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:l(I,v,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $o:return T.key===L?u(I,v,T,R):null;case Xr:return T.key===L?h(I,v,T,R):null;case Dn:return L=T._init,m(I,v,L(T._payload),R)}if(Ss(T)||cs(T))return L!==null?null:f(I,v,T,R,null);ea(I,T)}return null}function w(I,v,T,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return I=I.get(T)||null,l(v,I,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $o:return I=I.get(R.key===null?T:R.key)||null,u(v,I,R,L);case Xr:return I=I.get(R.key===null?T:R.key)||null,h(v,I,R,L);case Dn:var F=R._init;return w(I,v,T,F(R._payload),L)}if(Ss(R)||cs(R))return I=I.get(T)||null,f(v,I,R,L,null);ea(v,R)}return null}function P(I,v,T,R){for(var L=null,F=null,S=v,y=v=0,g=null;S!==null&&y<T.length;y++){S.index>y?(g=S,S=null):g=S.sibling;var x=m(I,S,T[y],R);if(x===null){S===null&&(S=g);break}t&&S&&x.alternate===null&&e(I,S),v=s(x,v,y),F===null?L=x:F.sibling=x,F=x,S=g}if(y===T.length)return n(I,S),_e&&Er(I,y),L;if(S===null){for(;y<T.length;y++)S=p(I,T[y],R),S!==null&&(v=s(S,v,y),F===null?L=S:F.sibling=S,F=S);return _e&&Er(I,y),L}for(S=r(I,S);y<T.length;y++)g=w(S,I,y,T[y],R),g!==null&&(t&&g.alternate!==null&&S.delete(g.key===null?y:g.key),v=s(g,v,y),F===null?L=g:F.sibling=g,F=g);return t&&S.forEach(function(A){return e(I,A)}),_e&&Er(I,y),L}function b(I,v,T,R){var L=cs(T);if(typeof L!="function")throw Error(B(150));if(T=L.call(T),T==null)throw Error(B(151));for(var F=L=null,S=v,y=v=0,g=null,x=T.next();S!==null&&!x.done;y++,x=T.next()){S.index>y?(g=S,S=null):g=S.sibling;var A=m(I,S,x.value,R);if(A===null){S===null&&(S=g);break}t&&S&&A.alternate===null&&e(I,S),v=s(A,v,y),F===null?L=A:F.sibling=A,F=A,S=g}if(x.done)return n(I,S),_e&&Er(I,y),L;if(S===null){for(;!x.done;y++,x=T.next())x=p(I,x.value,R),x!==null&&(v=s(x,v,y),F===null?L=x:F.sibling=x,F=x);return _e&&Er(I,y),L}for(S=r(I,S);!x.done;y++,x=T.next())x=w(S,I,y,x.value,R),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?y:x.key),v=s(x,v,y),F===null?L=x:F.sibling=x,F=x);return t&&S.forEach(function(C){return e(I,C)}),_e&&Er(I,y),L}function D(I,v,T,R){if(typeof T=="object"&&T!==null&&T.type===Zr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $o:e:{for(var L=T.key,F=v;F!==null;){if(F.key===L){if(L=T.type,L===Zr){if(F.tag===7){n(I,F.sibling),v=i(F,T.props.children),v.return=I,I=v;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Dn&&Kp(L)===F.type){n(I,F.sibling),v=i(F,T.props),v.ref=ms(I,F,T),v.return=I,I=v;break e}n(I,F);break}else e(I,F);F=F.sibling}T.type===Zr?(v=Cr(T.props.children,I.mode,R,T.key),v.return=I,I=v):(R=Ta(T.type,T.key,T.props,null,I.mode,R),R.ref=ms(I,v,T),R.return=I,I=R)}return o(I);case Xr:e:{for(F=T.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(I,v.sibling),v=i(v,T.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=Hu(T,I.mode,R),v.return=I,I=v}return o(I);case Dn:return F=T._init,D(I,v,F(T._payload),R)}if(Ss(T))return P(I,v,T,R);if(cs(T))return b(I,v,T,R);ea(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,T),v.return=I,I=v):(n(I,v),v=Wu(T,I.mode,R),v.return=I,I=v),o(I)):n(I,v)}return D}var Ti=ry(!0),iy=ry(!1),$a=ur(null),qa=null,ai=null,Qh=null;function Yh(){Qh=ai=qa=null}function Jh(t){var e=$a.current;pe($a),t._currentValue=e}function Dc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pi(t,e){qa=t,Qh=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Qh!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(qa===null)throw Error(B(308));ai=t,qa.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var kr=null;function Xh(t){kr===null?kr=[t]:kr.push(t)}function sy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xh(e)):(n.next=i.next,i.next=n),e.interleaved=n,_n(t,r)}function _n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vn=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_n(t,n)}return i=r.interleaved,i===null?(e.next=e,Xh(r)):(e.next=i.next,i.next=e),r.interleaved=e,_n(t,n)}function _a(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jh(t,n)}}function Gp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wa(t,e,n,r){var i=t.updateQueue;Vn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=h=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,b=l;switch(m=e,w=n,b.tag){case 1:if(P=b.payload,typeof P=="function"){p=P.call(w,p,m);break e}p=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=b.payload,m=typeof P=="function"?P.call(w,p,m):P,m==null)break e;p=Ee({},p,m);break e;case 2:Vn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=w,u=p):f=f.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mr|=o,t.lanes=o,t.memoizedState=p}}function Qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var So={},Zt=ur(So),eo=ur(So),to=ur(So);function xr(t){if(t===So)throw Error(B(174));return t}function ed(t,e){switch(ue(to,e),ue(eo,t),ue(Zt,So),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dc(e,t)}pe(Zt),ue(Zt,e)}function Ii(){pe(Zt),pe(eo),pe(to)}function ay(t){xr(to.current);var e=xr(Zt.current),n=dc(e,t.type);e!==n&&(ue(eo,t),ue(Zt,n))}function td(t){eo.current===t&&(pe(Zt),pe(eo))}var ye=ur(0);function Ha(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fu=[];function nd(){for(var t=0;t<Fu.length;t++)Fu[t]._workInProgressVersionPrimary=null;Fu.length=0}var ya=Sn.ReactCurrentDispatcher,Bu=Sn.ReactCurrentBatchConfig,Nr=0,ve=null,Oe=null,ze=null,Ka=!1,Ns=!1,no=0,PE=0;function Je(){throw Error(B(321))}function rd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zt(t[n],e[n]))return!1;return!0}function id(t,e,n,r,i,s){if(Nr=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ya.current=t===null||t.memoizedState===null?NE:ME,t=n(r,i),Ns){s=0;do{if(Ns=!1,no=0,25<=s)throw Error(B(301));s+=1,ze=Oe=null,e.updateQueue=null,ya.current=LE,t=n(r,i)}while(Ns)}if(ya.current=Ga,e=Oe!==null&&Oe.next!==null,Nr=0,ze=Oe=ve=null,Ka=!1,e)throw Error(B(300));return t}function sd(){var t=no!==0;return no=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ve.memoizedState=ze=t:ze=ze.next=t,ze}function Dt(){if(Oe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=ze===null?ve.memoizedState:ze.next;if(e!==null)ze=e,Oe=t;else{if(t===null)throw Error(B(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ze===null?ve.memoizedState=ze=t:ze=ze.next=t}return ze}function ro(t,e){return typeof e=="function"?e(t):e}function Uu(t){var e=Dt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((Nr&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,ve.lanes|=f,Mr|=f}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,zt(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,Mr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zu(t){var e=Dt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zt(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ly(){}function uy(t,e){var n=ve,r=Dt(),i=e(),s=!zt(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,od(dy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,io(9,hy.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(B(349));Nr&30||cy(n,e,i)}return i}function cy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hy(t,e,n,r){e.value=n,e.getSnapshot=r,fy(e)&&py(t)}function dy(t,e,n){return n(function(){fy(e)&&py(t)})}function fy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zt(t,n)}catch{return!0}}function py(t){var e=_n(t,1);e!==null&&Ft(e,t,1,-1)}function Yp(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},e.queue=t,t=t.dispatch=VE.bind(null,ve,t),[e.memoizedState,t]}function io(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function my(){return Dt().memoizedState}function va(t,e,n,r){var i=Qt();ve.flags|=t,i.memoizedState=io(1|e,n,void 0,r===void 0?null:r)}function Al(t,e,n,r){var i=Dt();r=r===void 0?null:r;var s=void 0;if(Oe!==null){var o=Oe.memoizedState;if(s=o.destroy,r!==null&&rd(r,o.deps)){i.memoizedState=io(e,n,s,r);return}}ve.flags|=t,i.memoizedState=io(1|e,n,s,r)}function Jp(t,e){return va(8390656,8,t,e)}function od(t,e){return Al(2048,8,t,e)}function gy(t,e){return Al(4,2,t,e)}function _y(t,e){return Al(4,4,t,e)}function yy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vy(t,e,n){return n=n!=null?n.concat([t]):null,Al(4,4,yy.bind(null,e,t),n)}function ad(){}function wy(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ey(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sy(t,e,n){return Nr&21?(zt(n,e)||(n=A_(),ve.lanes|=n,Mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function RE(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=Bu.transition;Bu.transition={};try{t(!1),e()}finally{oe=n,Bu.transition=r}}function Ty(){return Dt().memoizedState}function DE(t,e,n){var r=Hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Iy(t))ky(e,n);else if(n=sy(t,e,n,r),n!==null){var i=at();Ft(n,t,r,i),xy(n,e,r)}}function VE(t,e,n){var r=Hn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Iy(t))ky(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,zt(l,o)){var u=e.interleaved;u===null?(i.next=i,Xh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=sy(t,e,i,r),n!==null&&(i=at(),Ft(n,t,r,i),xy(n,e,r))}}function Iy(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function ky(t,e){Ns=Ka=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jh(t,n)}}var Ga={readContext:Rt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},NE={readContext:Rt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:Jp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,va(4194308,4,yy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return va(4194308,4,t,e)},useInsertionEffect:function(t,e){return va(4,2,t,e)},useMemo:function(t,e){var n=Qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DE.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:Yp,useDebugValue:ad,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=Yp(!1),e=t[0];return t=RE.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=Qt();if(_e){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),$e===null)throw Error(B(349));Nr&30||cy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jp(dy.bind(null,r,s,t),[t]),r.flags|=2048,io(9,hy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qt(),e=$e.identifierPrefix;if(_e){var n=fn,r=dn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=no++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ME={readContext:Rt,useCallback:wy,useContext:Rt,useEffect:od,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:_y,useMemo:Ey,useReducer:Uu,useRef:my,useState:function(){return Uu(ro)},useDebugValue:ad,useDeferredValue:function(t){var e=Dt();return Sy(e,Oe.memoizedState,t)},useTransition:function(){var t=Uu(ro)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:Ty,unstable_isNewReconciler:!1},LE={readContext:Rt,useCallback:wy,useContext:Rt,useEffect:od,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:_y,useMemo:Ey,useReducer:zu,useRef:my,useState:function(){return zu(ro)},useDebugValue:ad,useDeferredValue:function(t){var e=Dt();return Oe===null?e.memoizedState=t:Sy(e,Oe.memoizedState,t)},useTransition:function(){var t=zu(ro)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:Ty,unstable_isNewReconciler:!1};function Mt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bl={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),i=Hn(t),s=pn(r,i);s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(Ft(e,t,i,r),_a(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),i=Hn(t),s=pn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(Ft(e,t,i,r),_a(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=Hn(t),i=pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=qn(t,i,r),e!==null&&(Ft(e,t,r,n),_a(e,t,r))}};function Xp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ys(n,r)||!Ys(i,s):!0}function Ay(t,e,n){var r=!1,i=tr,s=e.contextType;return typeof s=="object"&&s!==null?s=Rt(s):(i=mt(e)?Dr:rt.current,r=e.contextTypes,s=(r=r!=null)?Ei(t,i):tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function Nc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rt(s):(s=mt(e)?Dr:rt.current,i.context=Ei(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bl.enqueueReplaceState(i,i.state,null),Wa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,e){try{var n="",r=e;do n+=c1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $u(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OE=typeof WeakMap=="function"?WeakMap:Map;function by(t,e,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ya||(Ya=!0,Wc=r),Mc(t,e)},n}function Cy(t,e,n){n=pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mc(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function em(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JE.bind(null,t,e,n),e.then(t,t))}function tm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pn(-1,1),e.tag=2,qn(n,e,1))),n.lanes|=1),t)}var jE=Sn.ReactCurrentOwner,ft=!1;function ot(t,e,n,r){e.child=t===null?iy(e,null,n,r):Ti(e,t.child,n,r)}function rm(t,e,n,r,i){n=n.render;var s=e.ref;return pi(e,i),r=id(t,e,n,r,s,i),n=sd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(_e&&n&&Hh(e),e.flags|=1,ot(t,e,r,i),e.child)}function im(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!md(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Py(t,e,s,r,i)):(t=Ta(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(o,r)&&t.ref===e.ref)return yn(t,e,i)}return e.flags|=1,t=Kn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Py(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ys(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,yn(t,e,i)}return Lc(t,e,n,r,i)}function Ry(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ui,yt),yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(ui,yt),yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(ui,yt),yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ue(ui,yt),yt|=r;return ot(t,e,i,n),e.child}function Dy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lc(t,e,n,r,i){var s=mt(n)?Dr:rt.current;return s=Ei(e,s),pi(e,i),n=id(t,e,n,r,s,i),r=sd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(_e&&r&&Hh(e),e.flags|=1,ot(t,e,n,i),e.child)}function sm(t,e,n,r,i){if(mt(n)){var s=!0;Ba(e)}else s=!1;if(pi(e,i),e.stateNode===null)wa(t,e),Ay(e,n,r),Nc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Rt(h):(h=mt(n)?Dr:rt.current,h=Ei(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Zp(e,o,r,h),Vn=!1;var m=e.memoizedState;o.state=m,Wa(e,r,o,i),u=e.memoizedState,l!==r||m!==u||pt.current||Vn?(typeof f=="function"&&(Vc(e,n,f,r),u=e.memoizedState),(l=Vn||Xp(e,n,l,r,m,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Mt(e.type,l),o.props=h,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Rt(u):(u=mt(n)?Dr:rt.current,u=Ei(e,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Zp(e,o,r,u),Vn=!1,m=e.memoizedState,o.state=m,Wa(e,r,o,i);var P=e.memoizedState;l!==p||m!==P||pt.current||Vn?(typeof w=="function"&&(Vc(e,n,w,r),P=e.memoizedState),(h=Vn||Xp(e,n,h,r,m,P,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Oc(t,e,n,r,s,i)}function Oc(t,e,n,r,i,s){Dy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qp(e,n,!1),yn(t,e,s);r=e.stateNode,jE.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ti(e,t.child,null,s),e.child=Ti(e,null,l,s)):ot(t,e,l,s),e.memoizedState=r.state,i&&qp(e,n,!0),e.child}function Vy(t){var e=t.stateNode;e.pendingContext?$p(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$p(t,e.context,!1),ed(t,e.containerInfo)}function om(t,e,n,r,i){return Si(),Gh(i),e.flags|=256,ot(t,e,n,r),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ny(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ye,i&1),t===null)return Rc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rl(o,r,0,null),t=Cr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fc(n),e.memoizedState=jc,t):ld(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FE(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Kn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Kn(l,s):(s=Cr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jc,r}return s=t.child,t=s.sibling,r=Kn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ld(t,e){return e=Rl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ta(t,e,n,r){return r!==null&&Gh(r),Ti(e,t.child,null,n),t=ld(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$u(Error(B(422))),ta(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rl({mode:"visible",children:r.children},i,0,null),s=Cr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ti(e,t.child,null,o),e.child.memoizedState=Fc(o),e.memoizedState=jc,s);if(!(e.mode&1))return ta(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=$u(s,r,void 0),ta(t,e,o,r)}if(l=(o&t.childLanes)!==0,ft||l){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_n(t,i),Ft(r,t,i,-1))}return pd(),r=$u(Error(B(421))),ta(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vt=$n(i.nextSibling),Et=e,_e=!0,Ot=null,t!==null&&(xt[At++]=dn,xt[At++]=fn,xt[At++]=Vr,dn=t.id,fn=t.overflow,Vr=e),e=ld(e,r.children),e.flags|=4096,e)}function am(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dc(t.return,e,n)}function qu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function My(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ot(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,n,e);else if(t.tag===19)am(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ha(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ha(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qu(e,!0,n,null,s);break;case"together":qu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BE(t,e,n){switch(e.tag){case 3:Vy(e),Si();break;case 5:ay(e);break;case 1:mt(e.type)&&Ba(e);break;case 4:ed(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue($a,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?Ny(t,e,n):(ue(ye,ye.current&1),t=yn(t,e,n),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return My(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,Ry(t,e,n)}return yn(t,e,n)}var Ly,Bc,Oy,jy;Ly=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bc=function(){};Oy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xr(Zt.current);var s=null;switch(n){case"input":i=lc(t,i),r=lc(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=hc(t,i),r=hc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ja)}fc(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($s.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($s.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&he("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};jy=function(t,e,n,r){n!==r&&(e.flags|=4)};function gs(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UE(t,e,n){var r=e.pendingProps;switch(Kh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return mt(e.type)&&Fa(),Xe(e),null;case 3:return r=e.stateNode,Ii(),pe(pt),pe(rt),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(Gc(Ot),Ot=null))),Bc(t,e),Xe(e),null;case 5:td(e);var i=xr(to.current);if(n=e.type,t!==null&&e.stateNode!=null)Oy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Xe(e),null}if(t=xr(Zt.current),Zo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Jt]=e,r[Zs]=s,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Is.length;i++)he(Is[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":gp(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":yp(r,s),he("invalid",r)}fc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xo(r.textContent,l,t),i=["children",""+l]):$s.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":qo(r),_p(r,s,!0);break;case"textarea":qo(r),vp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ja)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jt]=e,t[Zs]=r,Ly(t,e,!1,!1),e.stateNode=t;e:{switch(o=pc(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Is.length;i++)he(Is[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":gp(t,r),i=lc(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),he("invalid",t);break;case"textarea":yp(t,r),i=hc(t,r),he("invalid",t);break;default:i=r}fc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?m_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&f_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&qs(t,u):typeof u=="number"&&qs(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($s.hasOwnProperty(s)?u!=null&&s==="onScroll"&&he("scroll",t):u!=null&&Dh(t,s,u,o))}switch(n){case"input":qo(t),_p(t,r,!1);break;case"textarea":qo(t),vp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+er(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ci(t,!!r.multiple,s,!1):r.defaultValue!=null&&ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ja)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)jy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=xr(to.current),xr(Zt.current),Zo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(s=r.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:Xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return Xe(e),null;case 13:if(pe(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&vt!==null&&e.mode&1&&!(e.flags&128))ny(),Si(),e.flags|=98560,s=!1;else if(s=Zo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Jt]=e}else Si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),s=!1}else Ot!==null&&(Gc(Ot),Ot=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?je===0&&(je=3):pd())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return Ii(),Bc(t,e),t===null&&Js(e.stateNode.containerInfo),Xe(e),null;case 10:return Jh(e.type._context),Xe(e),null;case 17:return mt(e.type)&&Fa(),Xe(e),null;case 19:if(pe(ye),s=e.memoizedState,s===null)return Xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gs(s,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ha(t),o!==null){for(e.flags|=128,gs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>xi&&(e.flags|=128,r=!0,gs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ha(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Xe(e),null}else 2*Pe()-s.renderingStartTime>xi&&n!==1073741824&&(e.flags|=128,r=!0,gs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return fd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function zE(t,e){switch(Kh(e),e.tag){case 1:return mt(e.type)&&Fa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ii(),pe(pt),pe(rt),nd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return td(e),null;case 13:if(pe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ye),null;case 4:return Ii(),null;case 10:return Jh(e.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var na=!1,tt=!1,$E=typeof WeakSet=="function"?WeakSet:Set,W=null;function li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Uc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var lm=!1;function qE(t,e){if(Ic=Ma,t=$_(),Wh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++f===r&&(u=o),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:t,selectionRange:n},Ma=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var b=P.memoizedProps,D=P.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?b:Mt(e.type,b),D);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return P=lm,lm=!1,P}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uc(e,n,s)}i=i.next}while(i!==r)}}function Cl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fy(t){var e=t.alternate;e!==null&&(t.alternate=null,Fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[Zs],delete e[bc],delete e[xE],delete e[AE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function By(t){return t.tag===5||t.tag===3||t.tag===4}function um(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ja));else if(r!==4&&(t=t.child,t!==null))for($c(t,e,n),t=t.sibling;t!==null;)$c(t,e,n),t=t.sibling}function qc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qc(t,e,n),t=t.sibling;t!==null;)qc(t,e,n),t=t.sibling}var qe=null,Lt=!1;function Rn(t,e,n){for(n=n.child;n!==null;)Uy(t,e,n),n=n.sibling}function Uy(t,e,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(El,n)}catch{}switch(n.tag){case 5:tt||li(n,e);case 6:var r=qe,i=Lt;qe=null,Rn(t,e,n),qe=r,Lt=i,qe!==null&&(Lt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Lt?(t=qe,n=n.stateNode,t.nodeType===8?Ou(t.parentNode,n):t.nodeType===1&&Ou(t,n),Gs(t)):Ou(qe,n.stateNode));break;case 4:r=qe,i=Lt,qe=n.stateNode.containerInfo,Lt=!0,Rn(t,e,n),qe=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Uc(n,e,o),i=i.next}while(i!==r)}Rn(t,e,n);break;case 1:if(!tt&&(li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Rn(t,e,n),tt=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function cm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $E),e.forEach(function(r){var i=ZE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,Lt=!1;break e;case 3:qe=l.stateNode.containerInfo,Lt=!0;break e;case 4:qe=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(qe===null)throw Error(B(160));Uy(s,o,i),qe=null,Lt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){ke(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zy(e,t),e=e.sibling}function zy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Ht(t),r&4){try{Ms(3,t,t.return),Cl(3,t)}catch(b){ke(t,t.return,b)}try{Ms(5,t,t.return)}catch(b){ke(t,t.return,b)}}break;case 1:Nt(e,t),Ht(t),r&512&&n!==null&&li(n,n.return);break;case 5:if(Nt(e,t),Ht(t),r&512&&n!==null&&li(n,n.return),t.flags&32){var i=t.stateNode;try{qs(i,"")}catch(b){ke(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&c_(i,s),pc(l,o);var h=pc(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?m_(i,p):f==="dangerouslySetInnerHTML"?f_(i,p):f==="children"?qs(i,p):Dh(i,f,p,h)}switch(l){case"input":uc(i,s);break;case"textarea":h_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ci(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?ci(i,!!s.multiple,s.defaultValue,!0):ci(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zs]=s}catch(b){ke(t,t.return,b)}}break;case 6:if(Nt(e,t),Ht(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ke(t,t.return,b)}}break;case 3:if(Nt(e,t),Ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(b){ke(t,t.return,b)}break;case 4:Nt(e,t),Ht(t);break;case 13:Nt(e,t),Ht(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hd=Pe())),r&4&&cm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(h=tt)||f,Nt(e,t),tt=h):Nt(e,t),Ht(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(m=W,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ms(4,m,m.return);break;case 1:li(m,m.return);var P=m.stateNode;if(typeof P.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(b){ke(r,n,b)}}break;case 5:li(m,m.return);break;case 22:if(m.memoizedState!==null){dm(p);continue}}w!==null?(w.return=m,W=w):dm(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=p_("display",o))}catch(b){ke(t,t.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(b){ke(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Nt(e,t),Ht(t),r&4&&cm(t);break;case 21:break;default:Nt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(By(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qs(i,""),r.flags&=-33);var s=um(t);qc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=um(t);$c(t,l,o);break;default:throw Error(B(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WE(t,e,n){W=t,$y(t)}function $y(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||na;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||tt;l=na;var h=tt;if(na=o,(tt=u)&&!h)for(W=i;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?fm(i):u!==null?(u.return=o,W=u):fm(i);for(;s!==null;)W=s,$y(s),s=s.sibling;W=i,na=l,tt=h}hm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):hm(t)}}function hm(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Cl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qp(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Gs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}tt||e.flags&512&&zc(e)}catch(m){ke(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function dm(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function fm(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cl(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ke(e,i,u)}}var s=e.return;try{zc(e)}catch(u){ke(e,s,u)}break;case 5:var o=e.return;try{zc(e)}catch(u){ke(e,o,u)}}}catch(u){ke(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var HE=Math.ceil,Qa=Sn.ReactCurrentDispatcher,ud=Sn.ReactCurrentOwner,Pt=Sn.ReactCurrentBatchConfig,ie=0,$e=null,De=null,Ke=0,yt=0,ui=ur(0),je=0,so=null,Mr=0,Pl=0,cd=0,Ls=null,ht=null,hd=0,xi=1/0,cn=null,Ya=!1,Wc=null,Wn=null,ra=!1,On=null,Ja=0,Os=0,Hc=null,Ea=-1,Sa=0;function at(){return ie&6?Pe():Ea!==-1?Ea:Ea=Pe()}function Hn(t){return t.mode&1?ie&2&&Ke!==0?Ke&-Ke:CE.transition!==null?(Sa===0&&(Sa=A_()),Sa):(t=oe,t!==0||(t=window.event,t=t===void 0?16:N_(t.type)),t):1}function Ft(t,e,n,r){if(50<Os)throw Os=0,Hc=null,Error(B(185));vo(t,n,r),(!(ie&2)||t!==$e)&&(t===$e&&(!(ie&2)&&(Pl|=n),je===4&&Mn(t,Ke)),gt(t,r),n===1&&ie===0&&!(e.mode&1)&&(xi=Pe()+500,xl&&cr()))}function gt(t,e){var n=t.callbackNode;C1(t,e);var r=Na(t,t===$e?Ke:0);if(r===0)n!==null&&Sp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sp(n),e===1)t.tag===0?bE(pm.bind(null,t)):Z_(pm.bind(null,t)),IE(function(){!(ie&6)&&cr()}),n=null;else{switch(b_(r)){case 1:n=Oh;break;case 4:n=k_;break;case 16:n=Va;break;case 536870912:n=x_;break;default:n=Va}n=Jy(n,qy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qy(t,e){if(Ea=-1,Sa=0,ie&6)throw Error(B(327));var n=t.callbackNode;if(mi()&&t.callbackNode!==n)return null;var r=Na(t,t===$e?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xa(t,r);else{e=r;var i=ie;ie|=2;var s=Hy();($e!==t||Ke!==e)&&(cn=null,xi=Pe()+500,br(t,e));do try{QE();break}catch(l){Wy(t,l)}while(1);Yh(),Qa.current=s,ie=i,De!==null?e=0:($e=null,Ke=0,e=je)}if(e!==0){if(e===2&&(i=vc(t),i!==0&&(r=i,e=Kc(t,i))),e===1)throw n=so,br(t,0),Mn(t,r),gt(t,Pe()),n;if(e===6)Mn(t,r);else{if(i=t.current.alternate,!(r&30)&&!KE(i)&&(e=Xa(t,r),e===2&&(s=vc(t),s!==0&&(r=s,e=Kc(t,s))),e===1))throw n=so,br(t,0),Mn(t,r),gt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Sr(t,ht,cn);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=hd+500-Pe(),10<e)){if(Na(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ac(Sr.bind(null,t,ht,cn),e);break}Sr(t,ht,cn);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HE(r/1960))-r,10<r){t.timeoutHandle=Ac(Sr.bind(null,t,ht,cn),r);break}Sr(t,ht,cn);break;case 5:Sr(t,ht,cn);break;default:throw Error(B(329))}}}return gt(t,Pe()),t.callbackNode===n?qy.bind(null,t):null}function Kc(t,e){var n=Ls;return t.current.memoizedState.isDehydrated&&(br(t,e).flags|=256),t=Xa(t,e),t!==2&&(e=ht,ht=n,e!==null&&Gc(e)),t}function Gc(t){ht===null?ht=t:ht.push.apply(ht,t)}function KE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~cd,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),r=1<<n;t[n]=-1,e&=~r}}function pm(t){if(ie&6)throw Error(B(327));mi();var e=Na(t,0);if(!(e&1))return gt(t,Pe()),null;var n=Xa(t,e);if(t.tag!==0&&n===2){var r=vc(t);r!==0&&(e=r,n=Kc(t,r))}if(n===1)throw n=so,br(t,0),Mn(t,e),gt(t,Pe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sr(t,ht,cn),gt(t,Pe()),null}function dd(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(xi=Pe()+500,xl&&cr())}}function Lr(t){On!==null&&On.tag===0&&!(ie&6)&&mi();var e=ie;ie|=1;var n=Pt.transition,r=oe;try{if(Pt.transition=null,oe=1,t)return t()}finally{oe=r,Pt.transition=n,ie=e,!(ie&6)&&cr()}}function fd(){yt=ui.current,pe(ui)}function br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TE(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Kh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fa();break;case 3:Ii(),pe(pt),pe(rt),nd();break;case 5:td(r);break;case 4:Ii();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Jh(r.type._context);break;case 22:case 23:fd()}n=n.return}if($e=t,De=t=Kn(t.current,null),Ke=yt=e,je=0,so=null,cd=Pl=Mr=0,ht=Ls=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}kr=null}return t}function Wy(t,e){do{var n=De;try{if(Yh(),ya.current=Ga,Ka){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ka=!1}if(Nr=0,ze=Oe=ve=null,Ns=!1,no=0,ud.current=null,n===null||n.return===null){je=1,so=e,De=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Ke,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=tm(o);if(w!==null){w.flags&=-257,nm(w,o,l,s,e),w.mode&1&&em(s,h,e),e=w,u=h;var P=e.updateQueue;if(P===null){var b=new Set;b.add(u),e.updateQueue=b}else P.add(u);break e}else{if(!(e&1)){em(s,h,e),pd();break e}u=Error(B(426))}}else if(_e&&l.mode&1){var D=tm(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),nm(D,o,l,s,e),Gh(ki(u,l));break e}}s=u=ki(u,l),je!==4&&(je=2),Ls===null?Ls=[s]:Ls.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=by(s,u,e);Gp(s,I);break e;case 1:l=u;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Wn===null||!Wn.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=Cy(s,l,e);Gp(s,R);break e}}s=s.return}while(s!==null)}Gy(n)}catch(L){e=L,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function Hy(){var t=Qa.current;return Qa.current=Ga,t===null?Ga:t}function pd(){(je===0||je===3||je===2)&&(je=4),$e===null||!(Mr&268435455)&&!(Pl&268435455)||Mn($e,Ke)}function Xa(t,e){var n=ie;ie|=2;var r=Hy();($e!==t||Ke!==e)&&(cn=null,br(t,e));do try{GE();break}catch(i){Wy(t,i)}while(1);if(Yh(),ie=n,Qa.current=r,De!==null)throw Error(B(261));return $e=null,Ke=0,je}function GE(){for(;De!==null;)Ky(De)}function QE(){for(;De!==null&&!w1();)Ky(De)}function Ky(t){var e=Yy(t.alternate,t,yt);t.memoizedProps=t.pendingProps,e===null?Gy(t):De=e,ud.current=null}function Gy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zE(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,De=null;return}}else if(n=UE(n,e,yt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);je===0&&(je=5)}function Sr(t,e,n){var r=oe,i=Pt.transition;try{Pt.transition=null,oe=1,YE(t,e,n,r)}finally{Pt.transition=i,oe=r}return null}function YE(t,e,n,r){do mi();while(On!==null);if(ie&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(P1(t,s),t===$e&&(De=$e=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ra||(ra=!0,Jy(Va,function(){return mi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=oe;oe=1;var l=ie;ie|=4,ud.current=null,qE(t,n),zy(n,t),gE(kc),Ma=!!Ic,kc=Ic=null,t.current=n,WE(n),E1(),ie=l,oe=o,Pt.transition=s}else t.current=n;if(ra&&(ra=!1,On=t,Ja=i),s=t.pendingLanes,s===0&&(Wn=null),I1(n.stateNode),gt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ya)throw Ya=!1,t=Wc,Wc=null,t;return Ja&1&&t.tag!==0&&mi(),s=t.pendingLanes,s&1?t===Hc?Os++:(Os=0,Hc=t):Os=0,cr(),null}function mi(){if(On!==null){var t=b_(Ja),e=Pt.transition,n=oe;try{if(Pt.transition=null,oe=16>t?16:t,On===null)var r=!1;else{if(t=On,On=null,Ja=0,ie&6)throw Error(B(331));var i=ie;for(ie|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(W=h;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:Ms(8,f,s)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var m=f.sibling,w=f.return;if(Fy(f),f===h){W=null;break}if(m!==null){m.return=w,W=m;break}W=w}}}var P=s.alternate;if(P!==null){var b=P.child;if(b!==null){P.child=null;do{var D=b.sibling;b.sibling=null,b=D}while(b!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ms(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,W=I;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){o=W;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,W=T;else e:for(o=v;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cl(9,l)}}catch(L){ke(l,l.return,L)}if(l===o){W=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,W=R;break e}W=l.return}}if(ie=i,cr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(El,t)}catch{}r=!0}return r}finally{oe=n,Pt.transition=e}}return!1}function mm(t,e,n){e=ki(n,e),e=by(t,e,1),t=qn(t,e,1),e=at(),t!==null&&(vo(t,1,e),gt(t,e))}function ke(t,e,n){if(t.tag===3)mm(t,t,n);else for(;e!==null;){if(e.tag===3){mm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=ki(n,t),t=Cy(e,t,1),e=qn(e,t,1),t=at(),e!==null&&(vo(e,1,t),gt(e,t));break}}e=e.return}}function JE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Ke&n)===n&&(je===4||je===3&&(Ke&130023424)===Ke&&500>Pe()-hd?br(t,0):cd|=n),gt(t,e)}function Qy(t,e){e===0&&(t.mode&1?(e=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):e=1);var n=at();t=_n(t,e),t!==null&&(vo(t,e,n),gt(t,n))}function XE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qy(t,n)}function ZE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Qy(t,n)}var Yy;Yy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,BE(t,e,n);ft=!!(t.flags&131072)}else ft=!1,_e&&e.flags&1048576&&ey(e,za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wa(t,e),t=e.pendingProps;var i=Ei(e,rt.current);pi(e,n),i=id(null,e,r,t,i,n);var s=sd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,Ba(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zh(e),i.updater=bl,e.stateNode=i,i._reactInternals=e,Nc(e,r,t,n),e=Oc(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&Hh(e),ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tS(r),t=Mt(r,t),i){case 0:e=Lc(null,e,r,t,n);break e;case 1:e=sm(null,e,r,t,n);break e;case 11:e=rm(null,e,r,t,n);break e;case 14:e=im(null,e,r,Mt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Lc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),sm(t,e,r,i,n);case 3:e:{if(Vy(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,oy(t,e),Wa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ki(Error(B(423)),e),e=om(t,e,r,n,i);break e}else if(r!==i){i=ki(Error(B(424)),e),e=om(t,e,r,n,i);break e}else for(vt=$n(e.stateNode.containerInfo.firstChild),Et=e,_e=!0,Ot=null,n=iy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===i){e=yn(t,e,n);break e}ot(t,e,r,n)}e=e.child}return e;case 5:return ay(e),t===null&&Rc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xc(r,i)?o=null:s!==null&&xc(r,s)&&(e.flags|=32),Dy(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&Rc(e),null;case 13:return Ny(t,e,n);case 4:return ed(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ti(e,null,r,n):ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),rm(t,e,r,i,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ue($a,r._currentValue),r._currentValue=o,s!==null)if(zt(s.value,o)){if(s.children===i.children&&!pt.current){e=yn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Dc(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pi(e,n),i=Rt(i),r=r(i),e.flags|=1,ot(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),im(t,e,r,i,n);case 15:return Py(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),wa(t,e),e.tag=1,mt(r)?(t=!0,Ba(e)):t=!1,pi(e,n),Ay(e,r,i),Nc(e,r,i,n),Oc(null,e,r,!0,t,n);case 19:return My(t,e,n);case 22:return Ry(t,e,n)}throw Error(B(156,e.tag))};function Jy(t,e){return I_(t,e)}function eS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,n,r){return new eS(t,e,n,r)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tS(t){if(typeof t=="function")return md(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nh)return 11;if(t===Mh)return 14}return 2}function Kn(t,e){var n=t.alternate;return n===null?(n=Ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ta(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")md(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zr:return Cr(n.children,i,s,e);case Vh:o=8,i|=8;break;case ic:return t=Ct(12,n,e,i|2),t.elementType=ic,t.lanes=s,t;case sc:return t=Ct(13,n,e,i),t.elementType=sc,t.lanes=s,t;case oc:return t=Ct(19,n,e,i),t.elementType=oc,t.lanes=s,t;case a_:return Rl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s_:o=10;break e;case o_:o=9;break e;case Nh:o=11;break e;case Mh:o=14;break e;case Dn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ct(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cr(t,e,n,r){return t=Ct(7,t,r,e),t.lanes=n,t}function Rl(t,e,n,r){return t=Ct(22,t,r,e),t.elementType=a_,t.lanes=n,t.stateNode={isHidden:!1},t}function Wu(t,e,n){return t=Ct(6,t,null,e),t.lanes=n,t}function Hu(t,e,n){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gd(t,e,n,r,i,s,o,l,u){return t=new nS(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ct(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(s),t}function rS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xy(t){if(!t)return tr;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(mt(n))return X_(t,n,e)}return e}function Zy(t,e,n,r,i,s,o,l,u){return t=gd(n,r,!0,t,i,s,o,l,u),t.context=Xy(null),n=t.current,r=at(),i=Hn(n),s=pn(r,i),s.callback=e??null,qn(n,s,i),t.current.lanes=i,vo(t,i,r),gt(t,r),t}function Dl(t,e,n,r){var i=e.current,s=at(),o=Hn(i);return n=Xy(n),e.context===null?e.context=n:e.pendingContext=n,e=pn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qn(i,e,o),t!==null&&(Ft(t,i,o,s),_a(t,i,o)),o}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _d(t,e){gm(t,e),(t=t.alternate)&&gm(t,e)}function iS(){return null}var ev=typeof reportError=="function"?reportError:function(t){console.error(t)};function yd(t){this._internalRoot=t}Vl.prototype.render=yd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Dl(t,e,null,null)};Vl.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lr(function(){Dl(null,t,null,null)}),e[gn]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=R_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&V_(t)}};function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _m(){}function sS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Za(o);s.call(h)}}var o=Zy(e,r,t,0,null,!1,!1,"",_m);return t._reactRootContainer=o,t[gn]=o.current,Js(t.nodeType===8?t.parentNode:t),Lr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Za(u);l.call(h)}}var u=gd(t,0,!1,null,null,!1,!1,"",_m);return t._reactRootContainer=u,t[gn]=u.current,Js(t.nodeType===8?t.parentNode:t),Lr(function(){Dl(e,u,n,r)}),u}function Ml(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Za(o);l.call(u)}}Dl(e,o,t,i)}else o=sS(n,e,t,i,r);return Za(o)}C_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ts(e.pendingLanes);n!==0&&(jh(e,n|1),gt(e,Pe()),!(ie&6)&&(xi=Pe()+500,cr()))}break;case 13:Lr(function(){var r=_n(t,1);if(r!==null){var i=at();Ft(r,t,1,i)}}),_d(t,1)}};Fh=function(t){if(t.tag===13){var e=_n(t,134217728);if(e!==null){var n=at();Ft(e,t,134217728,n)}_d(t,134217728)}};P_=function(t){if(t.tag===13){var e=Hn(t),n=_n(t,e);if(n!==null){var r=at();Ft(n,t,e,r)}_d(t,e)}};R_=function(){return oe};D_=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};gc=function(t,e,n){switch(e){case"input":if(uc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kl(r);if(!i)throw Error(B(90));u_(r),uc(r,i)}}}break;case"textarea":h_(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};y_=dd;v_=Lr;var oS={usingClientEntryPoint:!1,Events:[Eo,ri,kl,g_,__,dd]},_s={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aS={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S_(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{El=ia.inject(aS),Xt=ia}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS;Tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(e))throw Error(B(200));return rS(t,e,null,n)};Tt.createRoot=function(t,e){if(!vd(t))throw Error(B(299));var n=!1,r="",i=ev;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gd(t,1,!1,null,null,n,!1,r,i),t[gn]=e.current,Js(t.nodeType===8?t.parentNode:t),new yd(e)};Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=S_(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t){return Lr(t)};Tt.hydrate=function(t,e,n){if(!Nl(e))throw Error(B(200));return Ml(null,t,e,!0,n)};Tt.hydrateRoot=function(t,e,n){if(!vd(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ev;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zy(e,null,t,1,n??null,i,!1,s,o),t[gn]=e.current,Js(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vl(e)};Tt.render=function(t,e,n){if(!Nl(e))throw Error(B(200));return Ml(null,t,e,!1,n)};Tt.unmountComponentAtNode=function(t){if(!Nl(t))throw Error(B(40));return t._reactRootContainer?(Lr(function(){Ml(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};Tt.unstable_batchedUpdates=dd;Tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nl(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Ml(t,e,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(t){console.error(t)}}tv(),t_.exports=Tt;var lS=t_.exports,nv,ym=lS;nv=ym.createRoot,ym.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(this,arguments)}var jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jn||(jn={}));const vm="popstate";function uS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Qc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:el(i)}return hS(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cS(){return Math.random().toString(36).substr(2,8)}function wm(t,e){return{usr:t.state,key:t.key,idx:e}}function Qc(t,e,n,r){return n===void 0&&(n=null),oo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fi(e):e,{state:n,key:e&&e.key||r||cS()})}function el(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=jn.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(oo({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=jn.Pop;let D=f(),I=D==null?null:D-h;h=D,u&&u({action:l,location:b.location,delta:I})}function m(D,I){l=jn.Push;let v=Qc(b.location,D,I);n&&n(v,D),h=f()+1;let T=wm(v,h),R=b.createHref(v);try{o.pushState(T,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&u&&u({action:l,location:b.location,delta:1})}function w(D,I){l=jn.Replace;let v=Qc(b.location,D,I);n&&n(v,D),h=f();let T=wm(v,h),R=b.createHref(v);o.replaceState(T,"",R),s&&u&&u({action:l,location:b.location,delta:0})}function P(D){let I=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof D=="string"?D:el(D);return v=v.replace(/ $/,"%20"),we(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let b={get action(){return l},get location(){return t(i,o)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vm,p),u=D,()=>{i.removeEventListener(vm,p),u=null}},createHref(D){return e(i,D)},createURL:P,encodeLocation(D){let I=P(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:w,go(D){return o.go(D)}};return b}var Em;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Em||(Em={}));function dS(t,e,n){return n===void 0&&(n="/"),fS(t,e,n,!1)}function fS(t,e,n,r){let i=typeof e=="string"?Fi(e):e,s=Ai(i.pathname||"/",n);if(s==null)return null;let o=rv(t);pS(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=kS(s);l=TS(o[u],h,r)}return l}function rv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Gn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),rv(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:ES(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of iv(s.path))i(s,o,u)}),e}function iv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iv(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function pS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mS=/^:[\w-]+$/,gS=3,_S=2,yS=1,vS=10,wS=-2,Sm=t=>t==="*";function ES(t,e){let n=t.split("/"),r=n.length;return n.some(Sm)&&(r+=wS),e&&(r+=_S),n.filter(i=>!Sm(i)).reduce((i,s)=>i+(mS.test(s)?gS:s===""?yS:vS),r)}function SS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=tl({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),m=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=tl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Gn([s,p.pathname]),pathnameBase:PS(Gn([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Gn([s,p.pathnameBase]))}return o}function tl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:w}=f;if(m==="*"){let b=l[p]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const P=l[p];return w&&!P?h[m]=void 0:h[m]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function IS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ai(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=t=>xS.test(t);function bS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fi(t):t,s;if(n)if(AS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),wd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Tm(n.substring(1),"/"):s=Tm(n,e)}else s=e;return{pathname:s,search:RS(r),hash:DS(i)}}function Tm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ku(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ed(t,e){let n=CS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fi(t):(i=oo({},t),we(!i.pathname||!i.pathname.includes("?"),Ku("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),Ku("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),Ku("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=bS(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Gn=t=>t.join("/").replace(/\/\/+/g,"/"),PS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sv=["post","put","patch","delete"];new Set(sv);const NS=["get",...sv];new Set(NS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(this,arguments)}const Ll=N.createContext(null),ov=N.createContext(null),Tn=N.createContext(null),Ol=N.createContext(null),hr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),av=N.createContext(null);function MS(t,e){let{relative:n}=e===void 0?{}:e;Bi()||we(!1);let{basename:r,navigator:i}=N.useContext(Tn),{hash:s,pathname:o,search:l}=jl(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Gn([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Bi(){return N.useContext(Ol)!=null}function an(){return Bi()||we(!1),N.useContext(Ol).location}function lv(t){N.useContext(Tn).static||N.useLayoutEffect(t)}function To(){let{isDataRoute:t}=N.useContext(hr);return t?GS():LS()}function LS(){Bi()||we(!1);let t=N.useContext(Ll),{basename:e,future:n,navigator:r}=N.useContext(Tn),{matches:i}=N.useContext(hr),{pathname:s}=an(),o=JSON.stringify(Ed(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return lv(()=>{l.current=!0}),N.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=Sd(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function jl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Tn),{matches:i}=N.useContext(hr),{pathname:s}=an(),o=JSON.stringify(Ed(i,r.v7_relativeSplatPath));return N.useMemo(()=>Sd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function OS(t,e){return jS(t,e)}function jS(t,e,n,r){Bi()||we(!1);let{navigator:i}=N.useContext(Tn),{matches:s}=N.useContext(hr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=an(),f;if(e){var p;let D=typeof e=="string"?Fi(e):e;u==="/"||(p=D.pathname)!=null&&p.startsWith(u)||we(!1),f=D}else f=h;let m=f.pathname||"/",w=m;if(u!=="/"){let D=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=dS(t,{pathname:w}),b=$S(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Gn([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:Gn([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&b?N.createElement(Ol.Provider,{value:{location:ao({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:jn.Pop}},b):b}function FS(){let t=KS(),e=VS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,s)}const BS=N.createElement(FS,null);class US extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(hr.Provider,{value:this.props.routeContext},N.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zS(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Ll);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(hr.Provider,{value:e},r)}function $S(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||we(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:m,errors:w}=n,P=p.route.loader&&m[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||P){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let w,P=!1,b=null,D=null;n&&(w=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||BS,u&&(h<0&&m===0?(QS("route-fallback",!1),P=!0,D=null):h===m&&(P=!0,D=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,m+1)),v=()=>{let T;return w?T=b:P?T=D:p.route.Component?T=N.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,N.createElement(zS,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(US,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var uv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uv||{}),nl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nl||{});function qS(t){let e=N.useContext(Ll);return e||we(!1),e}function WS(t){let e=N.useContext(ov);return e||we(!1),e}function HS(t){let e=N.useContext(hr);return e||we(!1),e}function cv(t){let e=HS(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function KS(){var t;let e=N.useContext(av),n=WS(nl.UseRouteError),r=cv(nl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GS(){let{router:t}=qS(uv.UseNavigateStable),e=cv(nl.UseNavigateStable),n=N.useRef(!1);return lv(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ao({fromRouteId:e},s)))},[t,e])}const Im={};function QS(t,e,n){!e&&!Im[t]&&(Im[t]=!0)}function YS(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function JS(t){let{to:e,replace:n,state:r,relative:i}=t;Bi()||we(!1);let{future:s,static:o}=N.useContext(Tn),{matches:l}=N.useContext(hr),{pathname:u}=an(),h=To(),f=Sd(e,Ed(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function de(t){we(!1)}function XS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=jn.Pop,navigator:s,static:o=!1,future:l}=t;Bi()&&we(!1);let u=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:s,static:o,future:ao({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Fi(r));let{pathname:f="/",search:p="",hash:m="",state:w=null,key:P="default"}=r,b=N.useMemo(()=>{let D=Ai(f,u);return D==null?null:{location:{pathname:D,search:p,hash:m,state:w,key:P},navigationType:i}},[u,f,p,m,w,P,i]);return b==null?null:N.createElement(Tn.Provider,{value:h},N.createElement(Ol.Provider,{children:n,value:b}))}function ZS(t){let{children:e,location:n}=t;return OS(Yc(e),n)}new Promise(()=>{});function Yc(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Yc(r.props.children,s));return}r.type!==de&&we(!1),!r.props.index||!r.props.children||we(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function hv(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tT(t,e){return t.button===0&&(!e||e==="_self")&&!eT(t)}function Jc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function nT(t,e){let n=Jc(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const rT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sT="6";try{window.__reactRouterVersion=sT}catch{}const oT=N.createContext({isTransitioning:!1}),aT="startTransition",km=Jw[aT];function lT(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=uS({window:i,v5Compat:!0}));let o=s.current,[l,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=N.useCallback(p=>{h&&km?km(()=>u(p)):u(p)},[u,h]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.useEffect(()=>YS(r),[r]),N.createElement(XS,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const uT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,m=hv(e,rT),{basename:w}=N.useContext(Tn),P,b=!1;if(typeof h=="string"&&cT.test(h)&&(P=h,uT))try{let T=new URL(window.location.href),R=h.startsWith("//")?new URL(T.protocol+h):new URL(h),L=Ai(R.pathname,w);R.origin===T.origin&&L!=null?h=L+R.search+R.hash:b=!0}catch{}let D=MS(h,{relative:i}),I=dT(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function v(T){r&&r(T),T.defaultPrevented||I(T)}return N.createElement("a",rl({},m,{href:P||D,onClick:b||s?r:v,ref:n,target:u}))}),ys=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:h,children:f}=e,p=hv(e,iT),m=jl(u,{relative:p.relative}),w=an(),P=N.useContext(ov),{navigator:b,basename:D}=N.useContext(Tn),I=P!=null&&fT(m)&&h===!0,v=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,T=w.pathname,R=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(T=T.toLowerCase(),R=R?R.toLowerCase():null,v=v.toLowerCase()),R&&D&&(R=Ai(R,D)||R);const L=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let F=T===v||!o&&T.startsWith(v)&&T.charAt(L)==="/",S=R!=null&&(R===v||!o&&R.startsWith(v)&&R.charAt(v.length)==="/"),y={isActive:F,isPending:S,isTransitioning:I},g=F?r:void 0,x;typeof s=="function"?x=s(y):x=[s,F?"active":null,S?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(y):l;return N.createElement(be,rl({},p,{"aria-current":g,className:x,ref:n,style:A,to:u,viewTransition:h}),typeof f=="function"?f(y):f)});var Xc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xc||(Xc={}));var xm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xm||(xm={}));function hT(t){let e=N.useContext(Ll);return e||we(!1),e}function dT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=To(),h=an(),f=jl(t,{relative:o});return N.useCallback(p=>{if(tT(p,n)){p.preventDefault();let m=r!==void 0?r:el(h)===el(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,f,r,i,n,t,s,o,l])}function FC(t){let e=N.useRef(Jc(t)),n=N.useRef(!1),r=an(),i=N.useMemo(()=>nT(r.search,n.current?null:e.current),[r.search]),s=To(),o=N.useCallback((l,u)=>{const h=Jc(typeof l=="function"?l(i):l);n.current=!0,s("?"+h,u)},[s,i]);return[i,o]}function fT(t,e){e===void 0&&(e={});let n=N.useContext(oT);n==null&&we(!1);let{basename:r}=hT(Xc.useViewTransitionState),i=jl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tl(i.pathname,o)!=null||tl(i.pathname,s)!=null}const dv=N.createContext(),Td=()=>N.useContext(dv),pT=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(!0);N.useEffect(()=>{const u=localStorage.getItem("kisan_user");u&&n(JSON.parse(u)),i(!1)},[]);const s=(u,h,f="Farmer",p="")=>new Promise((m,w)=>{setTimeout(()=>{if(h==="1234"){let P=f,b="Kishan Kumar",D="4CAF50";u.toLowerCase()==="admin"?(P="Admin",b="Administrator",D="000000"):f==="FPO"&&(b="Malwa FPO Association",D="2196F3");const I={name:b,phone:u,village:"Palakhedi, Indore",city:p,landSize:P==="FPO"?"500+ Acres (Aggregated)":"5 Acres",crops:["Wheat","Soybean"],isVerified:!0,role:P,avatar:`https://ui-avatars.com/api/?name=${b.replace(/ /g,"+")}&background=${D}&color=fff`};n(I),localStorage.setItem("kisan_user",JSON.stringify(I)),m(I)}else w("Invalid OTP. Please enter 1234.")},1e3)}),o=()=>{n(null),localStorage.removeItem("kisan_user")},l=u=>{const h={...e,...u};n(h),localStorage.setItem("kisan_user",JSON.stringify(h))};return E.jsx(dv.Provider,{value:{user:e,login:s,logout:o,updateProfile:l,loading:r},children:!r&&t})},Am={en:{home:"Home",buy:"Buy",buyer:"Buyer",sell:"Sell",seller:"Seller",rates:"Today Rates",news:"News",weather:"Weather",services:"Farming Services",chaupal:"Chaupal",advisory:"Advisory",animal_husbandry:"Animal Husbandry",fpo:"FPO / Institutional",nav_rates:"Rates",nav_profile:"Profile",menu:"Menu",notifications:"Notifications",buyer_section:"Buyer Section",seller_section:"Seller Section",request_crop:"Request Crop",my_posts:"My Posts",view_sellers:"View Sellers Directory",list_product:"List Your Product For Sale",my_products:"My Products",view_buyers:"View Buyers",verified_sellers:"Verified Sellers",login:"Login",call:"Call",whatsapp:"WhatsApp",next:"Next",confirm_post:"Confirm & Post",cancel:"Cancel",update:"Update",submit:"Submit",hide_advanced:"Hide Advanced Options",upload_photos:"Upload Photos",photo_constraints:"(Max 3 images, max 1MB each)",photo_speed_tip:"Uploading a photo will get you a buyer faster",show_advanced:"More Advanced Options",hero_title:"Fast & Reliable Marketplace for Farmers",hero_subtitle:"Direct connection between Farmers & Buyers. No Middlemen.",i_am_farmer:" Sell Your Crop",i_am_buyer:" Buy Fresh Produce",knowledge_center_title:" Kisan Media & Knowledge Center",kisan_tv:" Kisan TV - Latest Updates",kisan_tv_desc:"Learn modern farming techniques, government schemes, and market trends directly from experts.",watch_now:"Watch Now ",latest_blog:" Latest from the Blog",read_more:"Read More Articles",join_community:" Join Our Community",community_desc:"Connect with 50,000+ farmers. Share rates, advice, and grow together.",join_whatsapp:" Join WhatsApp Group",join_telegram:" Join Telegram Channel",commodity:"Product (Crop)",quantity:"Available Quantity",price:"Price Options",location:"Location",quality:"Quality",comments:"Comments (Optional)",contact_name:"Contact Name",phone_number:"Phone Number",is_organic:"Is it Organic?",is_graded:"Is it Graded?",is_packed:"Is it Packed in Bags?",contact_info:"Your Contact Info",buyer_note_title:"Note for Buyers",buyer_note_desc:"Nearby sellers will contact you based on your location.",app_name:"Kisan Bazaar",footer_desc:"A modern platform for farmers. Sell your crop and adopt new technology.",important_links:"Important Links",about_us:"About Us",integrated_farming:"Integrated Farming",be_partner:"Be A Partner",help:"Help",privacy_policy:"Privacy Policy",contact_us:"Contact Us",email:"Email",phone:"Phone",address:"Burhanpur, Madhya Pradesh",feedback_title:"Give Feedback",feedback_success:"Thank you! Your suggestion has been received.",placeholder_name:"Your Name",placeholder_mobile:"Mobile Number",placeholder_suggestion:"Your Suggestion *",loading:"Loading...",no_results:"No posts found matching your criteria.",clear_filters:"Clear All Filters",auto_detect:"Auto-detect",detecting:"Detecting...",quick_pick:"Quick Pick",trending:"Trending",weather_label:"Weather",sowing:"Sowing",harvesting:"Harvesting",care_tips:"Care & Tips",sellers_label:"Sellers",buyers_label:"Buyers",rates_label:"Rates",farming_tips:"Farming Tips",sellers_in:"Sellers in",mandi_rates_in:"Mandi Rates in",limit_reached:"You have reached the limit of 5 listings. Please contact admin for more.",duplicate_limit:"You can only post the same crop twice in 7 days.",buy_sell_prompt:"Do you want to Buy / Sell",enter_valid_mobile:"Please enter a valid 10-digit mobile number.",enter_otp:"Enter OTP",generate_otp:"Generate OTP",verify_signin:"Verify & Sign In",recommended_unit:"Recommended unit",location_detected:"Location detected",location_detect_failed:"Location detection failed",manual_select:"Please select manually",submit_success:"Listing posted successfully!",error_general:"An error occurred. Please try again.",best_market_price_alert:"You have selected 'Best Market Price'. Our system will connect you with buyers offering competitive rates.",fixed_price:"Fixed Price",best_market_price:"Best Market Price",enter_name_mobile:"Please enter Name and Mobile Number.",otp_sent:"OTP sent to",invalid_otp:"Invalid OTP. Please try '1234'",select_state:"Please select a State",select_district:"Please select a District",select_quality:"Please select Quality",enter_valid_price:"Please enter a valid Price",select_price_unit:"Please select Price Unit",select_quantity_unit:"Please select Quantity Unit",quantity_error:"Quantity must be greater than 0",max_images_error:"You can only upload up to 3 images",confirm_cancel:"Are you sure you want to cancel editing? Changes will be lost.",geolocation_unsupported:"Geolocation is not supported by your browser",location_detect_error:"Unable to detect location. Please select manually.",location_permission_denied:"Location permission denied. Please enable it in browser settings.",location_timeout:"Location detection timed out.",back_to_home:"Back to Home",wheat:"Wheat",listing_type_locked:"Listing type cannot be changed while editing",agree_terms:"I agree with Terms And Conditions",confirm_details_title:"Confirm Details",commodity_details:"Commodity Details",type_label:"Type",want_to_buy:"WANT TO BUY",want_to_sell:"WANT TO SELL",verify_edit:"Edit",verify_warning:"Please verify the details above. False information may lead to account suspension.",success_title:"Post Created Successfully!",success_msg:"Your post has been successfully submitted. It will be live on the platform shortly.",view_my_listings:" View My Listings",return_home:" Return to Home",clear_all:"Clear All",no_new_alerts:"No new alerts",find_sellers_desc:"Find buyers & sellers in your district.",product_label:"Product",found_sellers:"Found sellers",reset_filters:"Reset Filters",deals_in:"Deals In",contact_hidden:"Contact Hidden",upgrade_premium:"Upgrade to Premium to view contact details.",unlock_access:"Unlock Access",call_now:"Call Now",no_sellers_found:"No sellers found in this area.",try_changing_location:"Try changing the Tehsil or District.",load_more_sellers:"Load More Sellers",showing_sellers_count:"Showing sellers",my_products_list:"My Products List",please_sign_in:"Please sign in to view your products",sign_in_btn:"Sign In",no_posts_title:"You haven't posted anything yet",post_first_req:"Post Your First Requirement",no_photo:"No Photo",edit_product:"Edit Product",delete_product:"Delete Product",delete_confirm_title:"Do you really want to delete this?",delete_confirm_yes:"Yes, Delete",delete_confirm_no:"No",share_whatsapp:"Share",want_alerts_whatsapp:"Want alerts on WhatsApp?",subscribe_now:" Subscribe Now",whatsapp_subscribe_msg:"I want to subscribe to Kisan Bazaar Alerts",quick_todays_rate:"Today's Rate",quick_weather:"Weather",quick_farming_services:"Farming Services",quick_smart_advisory:"Smart Advisory",quick_news:"News & Schemes",quick_chaupal:"Community",quick_trade_area:"Trade Area (Satara)",about_title:"About Us",about_subtitle:"Empowering farmers with technology to create a fair, transparent, and profitable marketplace.",about_mission:"Our Mission",about_mission_desc:"Kisan Bazaar is dedicated to eliminating middlemen and connecting farmers directly with buyers. We believe that every farmer deserves the best price for their hard work.",about_direct_trade:"Direct Trade",about_direct_trade_desc:"A platform where farmers can list their produce and negotiate directly with bulk buyers, retailers, and exporters.",about_smart_farming:"Smart Farming",about_smart_farming_desc:"Providing real-time weather forecasts, farming advisories, and latest government schemes to help you plan better.",about_market_rates:"Market Rates",about_market_rates_desc:"Daily mandi rates from major markets in Madhya Pradesh to keep you updated on current trends.",about_built_for:"Built for the Farmers of Bharat",about_team_desc:"We are a team of passionate developers and agriculture enthusiasts working to bring the digital revolution to every farm.",partner_title:"Be A Partner",partner_subtitle:"Join our network and grow with KisanBazaar",partner_intro:"If you are interested to be a part of KisanBazaar then fill up following detail.",partner_contact_msg:"Our top management and commerce department will contact you. Thank You!",partner_name:"Name",partner_phone:"Phone Number",partner_email:"Email",partner_city:"City",partner_country:"Country",partner_company:"Company Name",partner_website:"Web Address",partner_activities:"Company Activities",partner_activities_placeholder:"Describe what your company does...",partner_website_format:"Format: https://example.com",partner_submit:"Submit Request",partner_success:"Thank you! Your partnership request has been submitted.",partner_error_name:"Please enter your Name",partner_error_phone:"Please enter a valid Phone Number",partner_error_email:"Please enter your Email",partner_error_city:"Please enter your City",partner_error_company:"Please enter Company Name",partner_error_activities:"Please describe Company Activities",help_title:"How can we help you?",help_subtitle:"Please fill out this simple form and we will get back to you soon.",help_name:"Full Name",help_mobile:"Mobile Number",help_topic:"Topic",help_message:"Message",help_message_placeholder:"How can we improve? Or what do you need help with?",help_topic_suggestion:"Suggestion",help_topic_issue:"Technical Issue",help_topic_question:"Question",help_topic_other:"Other",help_submit:"Submit Information",help_success:"Thank you! Your request has been submitted.",privacy_title:"Privacy Policy",privacy_last_updated:"Last updated:",privacy_intro_title:"1. Introduction",privacy_intro_desc:"Welcome to Kisan Bazaar. Your privacy is critical to us. We build this platform to help farmers and buyers connect safely. This policy explains how we handle your information in compliance with Indian Digital Personal Data Protection (DPDP) standards.",privacy_data_title:"2. Data We Collect",privacy_data_basic:"Basic Info: Name, Mobile Number, and Location.",privacy_data_usage:"Usage Data: How you use our search and marketplace.",privacy_data_communication:"Communication: Feedback and help requests you send us.",privacy_use_title:"3. How We Use Data",privacy_use_intro:"We use your data only to:",privacy_use_listings:"Display your listings to potential buyers.",privacy_use_alerts:"Send you critical weather and price alerts.",privacy_use_improve:"Improve our app services for farmers.",privacy_sharing_title:"4. Sharing Your Data",privacy_sharing_desc:'We NEVER sell your data to third parties. Your mobile number is only visible to buyers if you post a "Sell" listing, to facilitate a direct deal.',privacy_rights_title:"5. Your Rights",privacy_rights_access:"Access: You can see all your data in your Profile.",privacy_rights_erasure:"Erasure: You can request us to delete all your info at any time.",privacy_rights_correction:"Correction: You can update your mobile or name anytime.",privacy_contact:"If you have any questions, please contact us via the Help section.",privacy_go_back:"Go Back",back_to_home:" Back to Home",load_more_crops:" Show More Crops",showing_crops:"Showing {count} of {total} crops",marketplace_title:"Marketplace",buy_sell_hub:"Buy and Sell Crops directly from farmers",i_want_buy:"I want to Buy",i_want_sell:"I want to Sell",filter_all:"All",filter_veg:"Vegetables",filter_fruits:"Fruits",filter_grains:"Grains",no_posts_found:"No listings found.",try_adjusting_filters:"Try adjusting your filters.",available:"Available",price:"Price",quantity:"Quantity",contact_seller:"Contact Seller",contact_buyer:"Contact Buyer",needed:"Needed",pashu_title:"Animal Husbandry",pashu_subtitle:"Expert tips for Dairy, Goat, and Poultry farming.",dairy_farming:"Dairy Farming",goat_farming:"Goat Farming",poultry_farming:"Poultry",feeding_mgmt:"Feeding Management",feeding_desc:"Provide balanced ration (Green fodder + Dry fodder + Concentrates). Ensure 24/7 clean water access.",breeding:"Breeding",breeding_desc:"Artificial Insemination (AI) is recommended for better breed improvement. Detect heat symptoms early.",disease_prev:"Disease Prevention",disease_desc:"Vaccinate against FMD (Foot & Mouth Disease) and HS annually. Deworm every 3 months.",housing:"Housing",housing_desc:"Ensure dry, elevated floor with good ventilation. Protect from cold winds.",vaccination:"Vaccination",vaccination_desc:"PPR and ET vaccines are critical. Consult local vet for schedule.",biosecurity:"Bio-security",biosecurity_desc:"Restrict entry of visitors. Use disinfectant footbaths at entrance.",layer_farming:"Layer Farming",layer_desc:"Maintain 16 hours of light for optimal egg production. Provide calcium-rich diet.",need_advice:"Need specific advice?",ask_chaupal:"Ask in Kisan Chaupal",chaupal_title:"Kisan Chaupal",chaupal_subtitle:"Ask questions, share knowledge, and help fellow farmers.",ask_question:"Ask a Question",reset_demo:"Reset Demo Data",admin_mode:"Admin Mode",login_required:"Login Required",login_to_ask:"Please login to ask questions or reply.",type_question:"Type your question here...",upload_image:"Upload Image",post_question:"Post Question",likes:"Likes",replies:"Replies",reply:"Reply",cancel_reply:"Cancel Reply",write_reply:"Write a reply...",delete:"Delete",new_question:"New Question",transport_title:"Farming Services Marketplace",transport_subtitle:"Rent Tractors, Find Harvesters, Buy Inputs & Hire Logistics",post_ad:"Post Your Ad",filter_location:"Filter by Location",search_placeholder_transport:"Search for 'Tractor', 'Harvester'...",service_tractor:"Tractor Rental",service_harvester:"Harvesting",service_transport:"Transport",service_drone:"Drones",service_inputs:"Fertilizers/Seeds",verified:"Verified",report:"Report",load_more_services:"Load More Services",posted_ad_success:"Ad Posted Successfully!",service_details:"Service Details",service_title:"Service Title",category:"Category",price:"Price",unit:"Unit",post_duration:"Duration of your post",mobile_number:"Mobile Number",submit_ad:"Submit Ad",weather_title:"Weather Forecast & Farm Advisory",weather_subtitle:"Weather Forecast and Agriculture Advice",select_location_label:"Select Search Location",auto_detect:"Auto-detect",detecting:"Detecting...",select_crop_label:"Select Your Crop",select_district_title:"Select Your District",select_district_msg:"Please select your district from the dropdown above to view live weather, alerts, and farming advisories.",loading_weather:"Loading weather data...",weather_load_error:"Unable to load weather data",retry:"Retry",last_updated:"Last updated",humidity:"Humidity",wind:"Wind",rain:"Rain",feels_like:"Feels like",advisories_for:"Advisories for",news_page_title:"Agriculture News & Schemes",news_page_subtitle:"Latest Updates & Government Schemes",disclaimer_text:"Disclaimer: Government website links may change or be temporarily unavailable. We are not responsible for content on external sites.",tab_mp_news:"MP Govt News",tab_central_news:"Central Govt News",tab_schemes:"Govt Schemes",read_more:"Read More",read_less:"Read Less",full_article:"Read Full Article",new_tag:"New",valid_until:"Valid Until",fill_state_district:"Please select State and District",expiry_date:"Exp",by:"By",posted:"Posted",reported_for_review:"Reported for review!",no_services_found:"No services found.",adjust_filters_suggestion:"Try adjusting your search or filters.",advisory_title:"Smart Crop Advisory",running_season:"Running Season",season_update:"Season Update",demand_high:"Demand for",plan_accordingly:"is high. Plan accordingly!",water_soil:"Water & Soil",care_diseases:"Care & Diseases",pro_tip:"Pro Tip",no_crops_found:"No crops found for this season.",cat_all:"All Crops",cat_rabi:"Rabi (Winter)",cat_kharif:"Kharif (Monsoon)",cat_zaid:"Zaid (Summer)",buy_sell_hub:"Buy & Sell - All in one place",i_want_buy:"I Want to Buy",i_want_sell:"I Want to Sell",search_placeholder:"Search crop name (e.g. Tomato, Rice)...",filter_all:"All",filter_buy:"Buyer",filter_sell:"Seller",filter_fruits:"Fruits",filter_veg:"Vegetables",filter_grains:"Grains",filter_others:"Others",price_range:"Price Range",reset_all:"Reset All",max_budget:"Max Budget",needed:"Needed",available:"Available",contact_seller:"Contact Seller",todays_rates:"Today's Mandi Rates",select_location:"Select Location",search_crop:"Search Crop",crop:"Crop",min_price:"Min",max_price:"Max",avg_price:"Avg",view_analysis:"View Analysis",nearby_mandi:"Nearby Mandi",analysis_nearby:"View Analysis & Nearby",hide_analysis:"Hide Analysis",nearby_mandis:"Nearby Mandis",price_history:"Price History (Last 7 Days)",select_mandi_prompt:"Please select a Mandi to see rates",news_page_title:"Agriculture News & Schemes",news_page_subtitle:"Latest updates for Indian Farmers",disclaimer_text:"Disclaimer: Information is sourced from public domains for awareness. Please verify with official departments.",tab_mp_news:"State News",tab_central_news:"Central Govt",tab_schemes:"Govt Schemes",new_tag:"New",valid_until:"Valid Until",full_article:"Full Article",read_more:"Read More",read_less:"Read Less",market_analysis_title:"Market Analysis",price_trends_desc:"Price trends for top commodities over the last 7 days.",trending_up:" Trending Up",trending_down:" Trending Down",avg_price_fmt:"Avg Price: {price} / {unit}",analysis_no_data:"No data available for analysis. Select a location first.",close:"Close",search_btn:"Search",select_state_ph:"-- Select State --",select_district_ph:"-- Select District --",select_state_ph:"-- Select State --",select_district_ph:"-- Select District --",select_tehsil_ph:"-- Select Tehsil / Mandi --",safety_tip:"Safety Tip",warning_no_advance:`Never pay any advance amount to sellers.
Always inspect the crop before buying.`,login_for_rates:"Login for live rates",wheat:"Wheat",soybean:"Soybean",onion:"Onion",potato:"Potato",weather_teaser_text:"Indore (Jan): Day 2428C, Min 1215C, Mostly Clear. Rain: 0%",desc_services:"Rent or provide services like Tractor, Harvester, Seeds, Medicine, and Transport.",desc_advisory:"Get personalized advice for sowing, irrigation, and pest control.",desc_news:"Know about agriculture news, state/central govt schemes and benefits.",desc_chaupal:"Ask questions, share knowledge, and get help from other farmers.",desc_trade_area:"Explore local trade and buying/selling opportunities in Satara region.",login_title:"Sign In",login_subtitle:"Access exclusive farmer features.",label_city:"City/Village Name",placeholder_city:"Enter City/Village Name",label_phone:"Phone Number",placeholder_phone:"Enter 10 digit number",btn_get_otp:"Get OTP",btn_sending:"Sending OTP...",btn_verifying:"Verifying...",btn_verify_login:"Verify & Login",otp_sent_to:"We sent an OTP to",change_number:"Change Number",label_enter_otp:"Enter OTP",placeholder_otp:"e.g. 1234",mock_otp_msg:"(Use mock OTP: 1234)",trade_area_title:"Trade Area: Satara, Maharashtra",trade_area_desc:"Exclusive marketplace for Satara district. Connect with local buyers and sellers.",sellers_in_satara:"Sellers in Satara",buyers_in_satara:"Buyers in Satara"},hi:{home:" ",buy:"",buyer:"",sell:"",seller:"",rates:" ",news:"",weather:"",services:" ",chaupal:"",advisory:"",animal_husbandry:"",fpo:"",nav_rates:"",nav_profile:"",menu:"",notifications:"",buyer_section:" ",seller_section:" ",request_crop:" ",my_posts:" ",view_sellers:"  ",list_product:"      ",my_products:" ",view_buyers:" ",login:"",call:" ",whatsapp:"",next:"",confirm_post:"    ",cancel:" ",update:" ",submit:"",hide_advanced:"  ",upload_photos:"  ",photo_constraints:"( 3 ,  1MB )",photo_speed_tip:"     ",show_advanced:"  ",hero_title:"      ",hero_subtitle:"         ",i_am_farmer:"   ",i_am_buyer:"  ",knowledge_center_title:"     ",kisan_tv:"   -  ",kisan_tv_desc:"      ,       ",watch_now:"  ",latest_blog:"   ",read_more:"  ",join_community:"    ",community_desc:"50,000+    ,      ",join_whatsapp:"     ",join_telegram:"     ",commodity:"",quantity:" ",price:" ",location:"",quality:"",comments:" ()",contact_name:" ",phone_number:" ",is_organic:"   ?",is_graded:"   ?",is_packed:"     ?",contact_info:"  ",buyer_note_title:"  ",buyer_note_desc:"         ",app_name:" ",footer_desc:"            ",important_links:" ",about_us:"  ",integrated_farming:" ",be_partner:" ",help:"",privacy_policy:" ",contact_us:" ",email:"",phone:"",address:",  ",feedback_title:" ",feedback_success:"!    ",placeholder_name:" ",placeholder_mobile:" ",placeholder_suggestion:"  *",loading:"   ...",no_results:"       ",clear_filters:"   ",auto_detect:"  ",detecting:"    ...",quick_pick:" ",trending:" ",weather_label:"",sowing:"",harvesting:"",care_tips:"  ",sellers_label:"",buyers_label:"",rates_label:"",farming_tips:"  ",sellers_in:" -",mandi_rates_in:"  -",limit_reached:" 5              ",duplicate_limit:" 7            ",buy_sell_prompt:"   /   ",enter_valid_mobile:"   10-    ",enter_otp:"  ",generate_otp:"  ",verify_signin:"     ",recommended_unit:" ",location_detected:"   ",location_detect_failed:"     ",manual_select:"    ",submit_success:"    !",error_general:"    :  ",best_market_price_alert:" '  '              ",fixed_price:" ",best_market_price:" ",enter_name_mobile:"      ",otp_sent:"  ",invalid_otp:"   '1234'   ",select_state:"   ",select_district:"   ",select_quality:"  ",enter_valid_price:"    ",select_price_unit:"   ",select_quantity_unit:"   ",quantity_error:" 0    ",max_images_error:"  3     ",confirm_cancel:"      ?   ",geolocation_unsupported:"        ",location_detect_error:"          ",location_permission_denied:"         ",location_timeout:"        ",back_to_home:"   ",wheat:"",listing_type_locked:"        ",agree_terms:"      ",confirm_details_title:"   ",commodity_details:"  ",type_label:"",want_to_buy:" ",want_to_sell:" ",verify_edit:"  (Edit)",verify_warning:"                 ",success_title:"   !",success_msg:"             ",view_my_listings:"   ",return_home:"   ",clear_all:"  ",no_new_alerts:"   ",verified_sellers:"  (Verified Sellers)",find_sellers_desc:"       ",product_label:" (Product)",found_sellers:" ",reset_filters:"  ",deals_in:"  (Deals In)",contact_hidden:"   ",upgrade_premium:"        ",unlock_access:"  ",call_now:"  ",no_sellers_found:"      ",try_changing_location:"      ",load_more_sellers:"   ",showing_sellers_count:"    ",my_products_list:"    (My Products List)",please_sign_in:"        ",sign_in_btn:"  ",no_posts_title:"       ",post_first_req:"   (Post First Requirement)",no_photo:"  ",edit_product:"   (Edit)",delete_product:"  (Delete)",delete_confirm_title:"      ?",delete_confirm_yes:", ",delete_confirm_no:"",share_whatsapp:" ",want_alerts_whatsapp:"   ?",subscribe_now:"   ",whatsapp_subscribe_msg:"       ",quick_todays_rate:" ",quick_weather:"",quick_farming_services:" ",quick_smart_advisory:" ",quick_news:"  ",quick_chaupal:"",quick_trade_area:"  ()",about_title:"  ",about_subtitle:"          ",about_mission:" ",about_mission_desc:"                            ",about_direct_trade:" ",about_direct_trade_desc:"                   ",about_smart_farming:" ",about_smart_farming_desc:"   ,              ",about_market_rates:" ",about_market_rates_desc:"              ",about_built_for:"      ",about_team_desc:"                     ",partner_title:" ",partner_subtitle:"       ",partner_intro:"              ",partner_contact_msg:"         !",partner_name:"",partner_phone:"",partner_email:"",partner_city:"",partner_country:"",partner_company:"  ",partner_website:"",partner_activities:"  ",partner_activities_placeholder:"      ...",partner_website_format:": https://example.com",partner_submit:" ",partner_success:"!       ",partner_error_name:"    ",partner_error_phone:"    ",partner_error_email:"   ",partner_error_city:"   ",partner_error_company:"     ",partner_error_activities:"     ",help_title:"      ?",help_subtitle:"           ",help_name:" ",help_mobile:" ",help_topic:"",help_message:"",help_message_placeholder:"     ?       ?",help_topic_suggestion:"",help_topic_issue:" ",help_topic_question:"",help_topic_other:"",help_submit:" ",help_success:"!     ",pashu_title:"",pashu_subtitle:",        ",dairy_farming:" ",goat_farming:" ",poultry_farming:" ",feeding_mgmt:" ",feeding_desc:"   (  +   + ) 24/7      ",breeding:"",breeding_desc:"      (AI)           ",disease_prev:" ",disease_desc:"    FMD (-)  HS     3        ",housing:"",housing_desc:",          ",vaccination:"",vaccination_desc:"PPR  ET            ",biosecurity:" ",biosecurity_desc:"            ",layer_farming:" ",layer_desc:"    16        ",need_advice:"  ?",ask_chaupal:"   ",chaupal_title:" ",chaupal_subtitle:" ,         ",ask_question:" ",reset_demo:"   ",admin_mode:" ",login_required:" ",login_to_ask:"          ",type_question:"   ...",upload_image:"  ",post_question:"  ",trade_area_title:" : , ",trade_area_desc:"           ",sellers_in_satara:"  ",buyers_in_satara:"  ",likes:"",replies:"",reply:" ",cancel_reply:" ",write_reply:"  ...",delete:"",new_question:" ",transport_title:"  ",transport_subtitle:"   ,  ,       ",post_ad:"  ",filter_location:" ",search_placeholder_transport:"'', '' ...",service_tractor:" ",service_harvester:"/",service_transport:"",service_drone:"",service_inputs:"//",verified:"",report:"",load_more_services:"   ",posted_ad_success:"    !",privacy_title:" ",privacy_last_updated:" :",privacy_intro_title:"1. ",privacy_intro_desc:"                                ",privacy_data_title:"2.     ",privacy_data_basic:" : ,    ",privacy_data_usage:" :          ",privacy_data_communication:":         ",privacy_use_title:"3.    ",privacy_use_intro:"         :",privacy_use_listings:"    ",privacy_use_alerts:"     ",privacy_use_improve:"       ",privacy_sharing_title:"4.   ",privacy_sharing_desc:"                           ",privacy_rights_title:"5.  ",privacy_rights_access:":          ",privacy_rights_erasure:":           ",privacy_rights_correction:":           ",privacy_contact:"    ,          ",privacy_go_back:" ",back_to_home:"   ",load_more_crops:"   ",showing_crops:"{total}   {count}     ",service_details:" ",service_title:"  ",category:"",price:"",unit:"",post_duration:"  ",mobile_number:" ",submit_ad:" ",weather_title:"    ",weather_subtitle:"    ",select_location_label:" ",auto_detect:"  ",detecting:"  ...",select_crop_label:" ",select_district_title:"  ",select_district_msg:"               ",loading_weather:"     ...",weather_load_error:"     ",retry:"  ",last_updated:" ",humidity:"",wind:"",rain:"",feels_like:"   ",advisories_for:"  ",news_page_title:"   ",news_page_subtitle:"    ",disclaimer_text:":                 ",tab_mp_news:"..  ",tab_central_news:"  ",tab_schemes:" ",new_tag:"",valid_until:"",full_article:"  ",read_more:" ",read_less:" ",market_analysis_title:" ",price_trends_desc:" 7        ",trending_up:"  ( )",trending_down:"  ( )",avg_price_fmt:": {price} / {unit}",analysis_no_data:"          ",close:" ",search_btn:"  (Search)",select_state_ph:"--   --",select_district_ph:"--   --",select_tehsil_ph:"--  /   --",fill_state_district:"    ",expiry_date:"",by:"",posted:" ",reported_for_review:"     !",no_services_found:"   ",adjust_filters_suggestion:"        ",advisory_title:"  ",running_season:" ",season_update:" ",demand_high:" ",plan_accordingly:"    !",water_soil:"  ",care_diseases:"  ",pro_tip:" ",no_crops_found:"       ",cat_all:" ",cat_rabi:" ()",cat_kharif:" ()",cat_zaid:" ()",buy_sell_hub:"   -    ",i_want_buy:"   ",i_want_sell:"   ",search_placeholder:"    ( , )...",filter_all:"",filter_buy:"",filter_sell:"",filter_fruits:"",filter_veg:"",filter_grains:"",filter_others:"",price_range:" ",reset_all:"  ",max_budget:" ",needed:"",available:"",contact_seller:"   ",todays_rates:"   ",select_location:" /  ",search_crop:" ",crop:"",min_price:"",max_price:"",avg_price:"",view_analysis:" ",nearby_mandi:"  ",analysis_nearby:"   ",hide_analysis:" ",nearby_mandis:"  ",price_history:"  ( 7 )",select_mandi_prompt:"      ",safety_tip:" ",warning_no_advance:"                ",login_for_rates:"     ",wheat:"",soybean:"",onion:"",potato:"",weather_teaser_text:"  Indore   2428C,  1215C,  , : 0%",desc_services:", , Seed, medicine         ",desc_advisory:"  , ,       ",desc_news:" , /      ",desc_chaupal:"   - ,      ",desc_trade_area:"      -   ",login_title:"  ",login_subtitle:"       ",label_city:"/  ",placeholder_city:"/    ",label_phone:" ",placeholder_phone:"10     ",btn_get_otp:"  ",btn_sending:"    ...",btn_verifying:"   ...",btn_verify_login:"    ",otp_sent_to:"   ",change_number:" ",label_enter_otp:"  ",placeholder_otp:": 1234",mock_otp_msg:"(    : 1234)"},mr:{home:" ",buy:"",buyer:"",sell:"",seller:"",rates:" ",news:"",weather:"",services:" ",chaupal:"",advisory:"",animal_husbandry:"",fpo:"",nav_rates:"",nav_profile:"",menu:"",notifications:"",buyer_section:" ",seller_section:" ",request_crop:"  ",my_posts:" ",view_sellers:"  ",list_product:"   ",my_products:" ",view_buyers:" ",login:"",call:" ",whatsapp:"",next:"",confirm_post:"    ",cancel:" ",update:" ",submit:"",hide_advanced:"  ",upload_photos:"  ",photo_constraints:"(  3 ,  1MB)",photo_speed_tip:"      ",show_advanced:"  ",hero_title:"    ",hero_subtitle:"     .   .",i_am_farmer:"   ",i_am_buyer:"    ",knowledge_center_title:"     ",kisan_tv:"   -  ",kisan_tv_desc:"    ,      .",watch_now:"  ",latest_blog:"   ",read_more:"  ",join_community:"    ",community_desc:",+  . ,      .",join_whatsapp:"    ",join_telegram:"    ",commodity:"",quantity:" ",price:" ",location:"",quality:"",comments:" ()",contact_name:" ",phone_number:" ",is_organic:"   ?",is_graded:"   ?",is_packed:"     ?",contact_info:"  ",buyer_note_title:"",buyer_note_desc:"       .",app_name:" ",footer_desc:"   .       .",important_links:" ",about_us:"",integrated_farming:" ",be_partner:" ",help:"",privacy_policy:" ",contact_us:" ",email:"",phone:"",address:",  ",feedback_title:" ",feedback_success:"!     .",placeholder_name:" ",placeholder_mobile:" ",placeholder_suggestion:"  *",loading:"  ...",no_results:"     .",clear_filters:"   ",auto_detect:" ",detecting:" ...",quick_pick:"",trending:"",weather_label:"",sowing:"",harvesting:"",care_tips:"  ",sellers_label:"",buyers_label:"",rates_label:"",farming_tips:" ",sellers_in:" -",mandi_rates_in:"  -",limit_reached:"     .     .",duplicate_limit:"        ",buy_sell_prompt:"  /    ",enter_valid_mobile:"  -    .",enter_otp:"  ",generate_otp:" ",verify_signin:"     ",recommended_unit:"  ",location_detected:" ",location_detect_failed:"  ",manual_select:"  ",submit_success:"   !",error_general:"  .    .",best_market_price_alert:" '  '  .        .",fixed_price:" ",best_market_price:" ",enter_name_mobile:"      .",otp_sent:" ",invalid_otp:" .  ''  ",select_state:"  ",select_district:"  ",select_quality:"  ",enter_valid_price:"    ",select_price_unit:"   ",select_quantity_unit:"   ",quantity_error:"      ",max_images_error:"      ",confirm_cancel:"    ?   .",geolocation_unsupported:"      ",location_detect_error:"  .   .",location_permission_denied:"  .      .",location_timeout:"   .",back_to_home:"  ",wheat:"",listing_type_locked:"       ",agree_terms:"     ",confirm_details_title:"  ",verify_warning:"   .      .",pashu_title:"",pashu_subtitle:",      .",dairy_farming:" ",goat_farming:" ",poultry_farming:"",feeding_mgmt:" ",feeding_desc:"   (  +   + ). 24/7    .",breeding:"",breeding_desc:"    (AI)   .    .",disease_prev:" ",disease_desc:"  FMD ( )  HS   .  3   .",housing:"",housing_desc:",      .    .",vaccination:"",vaccination_desc:"PPR  ET   .     .",biosecurity:" ",biosecurity_desc:"    .    .",layer_farming:" ",layer_desc:"   16   .    .",need_advice:"   ?",ask_chaupal:"  ",marketplace_title:" (Marketplace)",buy_sell_hub:"       ",i_want_buy:"  ",i_want_sell:"  ",filter_all:"",filter_veg:"",filter_fruits:"",filter_grains:"",no_posts_found:"   ",try_adjusting_filters:"    ",available:"",price:"",quantity:"",contact_seller:"   ",contact_buyer:"   ",needed:"",verified_sellers:"  (Verified Sellers)",find_sellers_desc:"     .",product_label:" (Product)",found_sellers:" ",reset_filters:"  ",deals_in:"  (Deals In)",contact_hidden:"  ",upgrade_premium:"     .",unlock_access:"  ",call_now:"  ",no_sellers_found:"     .",try_changing_location:"    .",load_more_sellers:"   ",showing_sellers_count:"  ",marketplace_title:" (Marketplace)",buy_sell_hub:"       ",i_want_buy:"   ",i_want_sell:"  ",filter_all:"",filter_veg:"",filter_fruits:"",filter_grains:"",no_posts_found:"   .",try_adjusting_filters:"  .",available:"",price:"",quantity:"",contact_seller:"  ",contact_buyer:"  ",needed:" ",my_products_list:"  ",please_sign_in:"      ",sign_in_btn:"  ",no_posts_title:"     ",post_first_req:"   ",no_photo:" ",edit_product:"  ",delete_product:" ",delete_confirm_title:"     ?",delete_confirm_yes:", ",delete_confirm_no:"",want_to_buy:"  ",want_to_sell:"  ",chaupal_title:" ",chaupal_subtitle:" ,        .",ask_question:" ",reset_demo:"   ",admin_mode:" ",login_required:" ",login_to_ask:"       .",type_question:"    ...",upload_image:"  ",post_question:"  ",likes:"",replies:"",reply:" ",cancel_reply:" ",write_reply:" ...",delete:"",new_question:" ",transport_title:"  ",transport_subtitle:"  ,  ,       ",post_ad:"  ",filter_location:" ",search_placeholder_transport:"'', '' ...",service_tractor:" ",service_harvester:"/",service_transport:"",service_drone:"",service_inputs:"//",verified:"",report:"",load_more_services:"   ",posted_ad_success:"   !",service_details:" ",service_title:" ",category:"",price:"",unit:"",post_duration:" ",mobile_number:" ",submit_ad:"  ",success_title:"!",success_msg:"      .     .",view_my_listings:"   ",return_home:"   ",clear_all:"  ",no_new_alerts:"   ",share_whatsapp:" ",want_alerts_whatsapp:"   ?",subscribe_now:"   ",whatsapp_subscribe_msg:"      ",quick_todays_rate:" ",quick_weather:"",quick_farming_services:" ",quick_smart_advisory:" ",quick_news:"  ",quick_chaupal:"",quick_trade_area:"  ()",about_title:"",about_subtitle:"    ,      .",about_mission:" ",about_mission_desc:"           .           .",about_direct_trade:" ",about_direct_trade_desc:"                .",about_smart_farming:" ",about_smart_farming_desc:"   ,         .",about_market_rates:" ",about_market_rates_desc:"          .",about_built_for:"   ",about_team_desc:"                 .",partner_title:" ",partner_subtitle:"       ",partner_intro:"           .",partner_contact_msg:"        . !",partner_name:"",partner_phone:" ",partner_email:"",partner_city:"",partner_country:"",partner_company:" ",partner_website:"",partner_activities:" ",partner_activities_placeholder:"     ...",partner_website_format:": https://example.com",partner_submit:" ",partner_success:"!       .",partner_error_name:"   ",partner_error_phone:"    ",partner_error_email:"   ",partner_error_city:"   ",partner_error_company:"   ",partner_error_activities:"    ",help_title:"     ?",help_subtitle:"          .",help_name:" ",help_mobile:" ",help_topic:"",help_message:"",help_message_placeholder:"   ?      ?",help_topic_suggestion:"",help_topic_issue:" ",help_topic_question:"",help_topic_other:"",help_submit:" ",help_success:"!      .",privacy_title:" ",privacy_last_updated:" :",privacy_intro_title:"1. ",privacy_intro_desc:"    .     .                  .",privacy_data_title:"2.     ",privacy_data_basic:" : ,    .",privacy_data_usage:" :       .",privacy_data_communication:":        .",privacy_use_title:"3.    ",privacy_use_intro:"     :",privacy_use_listings:"   .",privacy_use_alerts:"     .",privacy_use_improve:"   .",privacy_sharing_title:"4.    ",privacy_sharing_desc:"       .            .",privacy_rights_title:"5.  ",privacy_rights_access:":        .",privacy_rights_erasure:":         .",privacy_rights_correction:":          .",privacy_contact:"    ,       .",privacy_go_back:" ",back_to_home:"   ",load_more_crops:"   ",showing_crops:"{total}  {count}   ",weather_title:"    ",weather_subtitle:"    ",select_location_label:" ",auto_detect:"-",detecting:" ...",select_crop_label:"  ",select_district_title:"  ",select_district_msg:" ,           .",loading_weather:"    ...",weather_load_error:"    ",retry:"  ",last_updated:" ",humidity:"",wind:"",rain:"",feels_like:" ",advisories_for:" ",news_page_title:"   ",news_page_subtitle:"    ",disclaimer_text:":     .      .",tab_mp_news:"..  ",tab_central_news:"  ",tab_schemes:" ",read_more:" ",read_less:" ",full_article:"  ",new_tag:"",valid_until:"",fill_state_district:"    ",expiry_date:"",by:"",posted:" ",reported_for_review:"  !",confirm_details_title:"  ",commodity_details:" ",type_label:"",want_to_buy:"  ",want_to_sell:"  ",verify_edit:"  (Edit)",verify_warning:"   .      .",success_title:"   !",success_msg:"      .     .",view_my_listings:"   ",return_home:"   ",clear_all:"  ",no_new_alerts:"   ",share_whatsapp:" ",want_alerts_whatsapp:"   ?",subscribe_now:"   ",whatsapp_subscribe_msg:"      ",quick_todays_rate:" ",quick_weather:"",quick_farming_services:" ",quick_smart_advisory:" ",quick_news:"  ",quick_chaupal:"",quick_trade_area:"  ()",no_services_found:"   .",adjust_filters_suggestion:"       .",advisory_title:"  ",running_season:" ",season_update:" ",demand_high:" ",plan_accordingly:" .   !",water_soil:"  ",care_diseases:"  ",pro_tip:" ",no_crops_found:"     .",cat_all:" ",cat_rabi:" ()",cat_kharif:" ()",cat_zaid:" ()",buy_sell_hub:"   -   ",i_want_buy:"   ",i_want_sell:"  ",search_placeholder:"   (. , )...",filter_all:"",filter_buy:"",filter_sell:"",filter_fruits:"",filter_veg:"",filter_grains:"",filter_others:"",price_range:" ",reset_all:"  ",max_budget:" ",needed:" ",available:"",contact_seller:"  ",todays_rates:"  ",select_location:" /  ",search_crop:" ",crop:"",min_price:"",max_price:"",avg_price:"",view_analysis:" ",nearby_mandi:" ",analysis_nearby:"   ",hide_analysis:" ",nearby_mandis:" ",price_history:"  (  )",select_mandi_prompt:"    ",news_page_title:"   ",news_page_subtitle:"   ",disclaimer_text:":      .     .",tab_mp_news:" ",tab_central_news:" ",tab_schemes:" ",new_tag:"",valid_until:"",full_article:" ",read_more:" ",read_less:" ",market_analysis_title:" ",price_trends_desc:"      .",trending_up:"  ( )",trending_down:"  ( )",avg_price_fmt:": {price} / {unit}",analysis_no_data:"   .    .",close:" ",search_btn:"  (Search)",select_state_ph:"--   --",select_district_ph:"--   --",select_tehsil_ph:"--  /   --",safety_tip:" ",warning_no_advance:"     .      ",login_for_rates:"   ",wheat:"",soybean:"",onion:"",potato:"",weather_teaser_text:"    2428C,  1215C, , : 0%",desc_services:", , , ,        .",desc_advisory:",       .",desc_news:" , /      .",desc_chaupal:"   ,      .",desc_trade_area:"     -  .",login_title:"  ",login_subtitle:"    .",label_city:"/ ",placeholder_city:"/   ",label_phone:" ",placeholder_phone:"10    ",btn_get_otp:" ",btn_sending:"  ...",btn_verifying:"  ...",btn_verify_login:"     ",otp_sent_to:"   ",change_number:" ",label_enter_otp:"  ",placeholder_otp:". 1234",mock_otp_msg:"(  : 1234)"}},fv=N.createContext(),mT=({children:t})=>{const[e,n]=N.useState(()=>localStorage.getItem("kb_language")||"en");N.useEffect(()=>{localStorage.setItem("kb_language",e)},[e]);const r=s=>Am[e][s]||s,i=s=>{Am[s]&&n(s)};return E.jsx(fv.Provider,{value:{language:e,t:r,changeLanguage:i},children:t})},Ui=()=>{const t=N.useContext(fv);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},en={"Madhya Pradesh":{Indore:{label:"Indore ()",tehsils:["Indore","Dr. Ambedkar Nagar (Mhow)","Sanwer","Depalpur","Hatod"]},Bhopal:{label:"Bhopal ()",tehsils:["Huzur","Berasia","Kolar"]},Ujjain:{label:"Ujjain ()",tehsils:["Ujjain","Nagda","Badnagar","Mahidpur","Tarana","Ghatiya","Khachrod"]},Dewas:{label:"Dewas ()",tehsils:["Dewas","Sonkatch","Bagli","Kannod","Tonkhurd","Khategaon"]},Ratlam:{label:"Ratlam ()",tehsils:["Ratlam","Jaora","Alot","Sailana","Bajna","Piploda","Rau","Tal"]},Mandsaur:{label:"Mandsaur ()",tehsils:["Mandsaur","Malhargarh","Garoth","Shamgarh","Daloda","Bhanpura","Suwasra","Sitamau"]},Sehore:{label:"Sehore ()",tehsils:["Sehore","Ashta","Ichhawar","Budhni","Nasrullaganj (Bhairunda)","Shyampur","Jawar"]},Vidisha:{label:"Vidisha ()",tehsils:["Vidisha","Basoda","Sironj","Kurwai","Lateri","Giaraspur","Nateran"]},Sagar:{label:"Sagar ()",tehsils:["Sagar","Khurai","Bina","Rahatgarh","Deori","Banda","Shahgarh","Malthone"]},Satna:{label:"Satna ()",tehsils:["Satna","Maihar","Nagod","Amarpatan","Rampur Baghelan","Uchehara","Ramnagar"]},Jabalpur:{label:"Jabalpur ()",tehsils:["Jabalpur","Sihora","Patan","Panagar","Kundam","Shahpura","Majhouli"]},Gwalior:{label:"Gwalior ()",tehsils:["Gwalior","Dabra","Bhitarwar","Chinqe (Ghatigaon)"]},Khargone:{label:"Khargone ()",tehsils:["Khargone","Maheshwar","Barwaha","Segaon","Bhikangaon","Kasrawad","Gogaon","Bhagwanpura"]},Khandwa:{label:"Khandwa ()",tehsils:["Khandwa","Pandhana","Punasa","Harsud","Khalwa"]},Dhar:{label:"Dhar ()",tehsils:["Dhar","Badnawar","Sardarpur","Manawar","Kukshi","Dharampuri","Gandhwani","Tirla.0"]},Raisen:{label:"Raisen ()",tehsils:["Raisen","Goharganj","Begamganj","Gairatganj","Silwani","Bareli","Udaipura"]},Rajgarh:{label:"Rajgarh ()",tehsils:["Rajgarh","Biaora","Narsinghgarh","Sarangpur","Khilchipur","Jirapur"]},Hoshangabad:{label:"Hoshangabad (Narmadapuram)",tehsils:["Hoshangabad","Itarsi","Pipariya","Sohagpur","Babai (Makhan Nagar)","Bankhedi","Dolariya"]},Betul:{label:"Betul ()",tehsils:["Betul","Multai","Amla","Bhainsdehi","Shahpur","Chicholi","Ghoradongri"]},Morena:{label:"Morena ()",tehsils:["Morena","Ambah","Porsa","Joura","Sabalgarh","Kailaras"]},Burhanpur:{label:"Burhanpur ()",tehsils:["Burhanpur","Khaknar","Nepanagar"]},Neemuch:{label:"Neemuch ()",tehsils:["Neemuch","Jawad","Manasa","Singoli","Jiran"]},Chhindwara:{label:"Chhindwara ()",tehsils:["Chhindwara","Sausar","Pandhurna","Parasia","Junnardeo","Tamia","Amarwara","Chourai","Bichhua"]},Rewa:{label:"Rewa ()",tehsils:["Rewa","Huzur","Mauganj","Teonthar","Mangawan","Semaria","Sirmour","Hanumana","Gurh"]},Shivpuri:{label:"Shivpuri ()",tehsils:["Shivpuri","Kolaras","Karera","Pohri","Narwar","Pichhore","Khaniyadhana"]},Guna:{label:"Guna ()",tehsils:["Guna","Raghogarh","Aron","Chachoda","Kumbhraj","Bamori"]},Harda:{label:"Harda ()",tehsils:["Harda","Timarni","Khirkiya","Handia","Sirali"]},Damoh:{label:"Damoh ()",tehsils:["Damoh","Patharia","Jabera","Tendukheda","Hatta","Patera","Batiyagarh"]},Chhatarpur:{label:"Chhatarpur ()",tehsils:["Chhatarpur","Nowgong","Rajnagar","Laundi","Gaurihar","Bijawar","Bada Malhera"]}},Maharashtra:{Ahmednagar:{label:"Ahmednagar ()",tehsils:["Ahmednagar","Akole","Jamkhed","Karjat","Kopargaon","Newasa","Parner","Pathardi","Rahata","Rahuri","Sangamner","Shevgaon","Shrigonda","Shrirampur"]},Akola:{label:"Akola ()",tehsils:["Akola","Akot","Balapur","Barshitakli","Murtijapur","Patur","Telhara"]},Amravati:{label:"Amravati ()",tehsils:["Amravati","Achalpur","Anjangaon Surji","Bhatkuli","Chandur Bazar","Chandur Railway","Chikhaldara","Daryapur","Dhamangaon Railway","Dharni","Morshi","Nandgaon Khandeshwar","Teosa","Warud"]},Aurangabad:{label:"Aurangabad (Chhatrapati Sambhajinagar)",tehsils:["Aurangabad","Gangapur","Kannad","Khuldabad","Paithan","Phulambri","Sillod","Soegaon","Vaijapur"]},Beed:{label:"Beed ()",tehsils:["Beed","Ambajogai","Ashti","Dharur","Georai","Kaij","Majalgaon","Parli","Patoda","Shirur (Kasar)","Wadwani"]},Bhandara:{label:"Bhandara ()",tehsils:["Bhandara","Lakhani","Lakhandur","Mohadi","Pauni","Sakoli","Tumsar"]},Buldhana:{label:"Buldhana ()",tehsils:["Buldhana","Chikhli","Deulgaon Raja","Jalgaon (Jamod)","Khamgaon","Lonar","Malkapur","Mehkar","Motala","Nandura","Sangrampur","Shegaon","Sindkhed Raja"]},Chandrapur:{label:"Chandrapur ()",tehsils:["Chandrapur","Ballarpur","Bhadrawati","Bramhapuri","Chimur","Gondpipri","Jiwati","Korpana","Mul","Nagbhid","Pombhurna","Rajura","Saoli","Sindewahi","Warora"]},Dhule:{label:"Dhule ()",tehsils:["Dhule","Sakri","Shirpur","Sindkheda"]},Gadchiroli:{label:"Gadchiroli ()",tehsils:["Gadchiroli","Aheri","Armori","Bhamragad","Chamorshi","Dhanora","Etapalli","Korchi","Kurkheda","Mulchera","Sironcha","Wadsa (Desaiganj)"]},Gondia:{label:"Gondia ()",tehsils:["Gondia","Amgaon","Arjuni Morgaon","Deori","Goregaon","Sadak Arjuni","Salekasa","Tirora"]},Hingoli:{label:"Hingoli ()",tehsils:["Hingoli","Aundha Nagnath","Basmath","Kalamnuri","Sengaon"]},Jalgaon:{label:"Jalgaon ()",tehsils:["Jalgaon","Amalner","Bhadgaon","Bhusawal","Bodwad","Chalisgaon","Chopda","Dharangaon","Erandol","Jamner","Muktainagar","Pachora","Parola","Raver","Yawal"]},Jalna:{label:"Jalna ()",tehsils:["Jalna","Ambad","Badnapur","Bhokardan","Ghansawangi","Jafrabad","Mantha","Partur"]},Kolhapur:{label:"Kolhapur ()",tehsils:["Karvir (Kolhapur)","Ajara","Bhudargad","Chandgad","Gadhinglaj","Gaganbawada","Hatkanangale","Kagal","Panhala","Radhanagari","Shahuwadi","Shirol"]},Latur:{label:"Latur ()",tehsils:["Latur","Ahmedpur","Ausa","Chakur","Deoni","Jalkot","Nilanga","Renapur","Shirur-Anantpal","Udgir"]},"Mumbai City":{label:"Mumbai City ( )",tehsils:["Mumbai City"]},"Mumbai Suburban":{label:"Mumbai Suburban ( )",tehsils:["Andheri","Borivali","Kurla"]},Nagpur:{label:"Nagpur ()",tehsils:["Nagpur (Urban)","Nagpur (Rural)","Bhiwapur","Hingna","Kalameshwar","Kamptee","Katol","Kuhi","Mauda","Parseoni","Ramtek","Saoner","Umred"]},Nanded:{label:"Nanded ()",tehsils:["Nanded","Ardhapur","Bhokar","Biloli","Deglur","Dharmabad","Hadgaon","Himayatnagar","Kandhar","Kinwat","Loha","Mahur","Mudkhed","Mukhed","Naigaon (Khairgaon)","Umri"]},Nandurbar:{label:"Nandurbar ()",tehsils:["Nandurbar","Akkalkuwa","Akrani (Dhadgaon)","Nawapur","Shahada","Taloda"]},Nashik:{label:"Nashik ()",tehsils:["Nashik","Baglan (Satana)","Chandwad","Deola","Dindori","Igatpuri","Kalwan","Malegaon","Nandgaon","Niphad","Peint","Sinnar","Surgana","Trimbakeshwar","Yeola"]},Osmanabad:{label:"Osmanabad (Dharashiv)",tehsils:["Osmanabad","Bhoom","Kalamb","Lohara","Paranda","Tuljapur","Umarga","Washi"]},Palghar:{label:"Palghar ()",tehsils:["Palghar","Dahanu","Jawhar","Mokhada","Talasari","Vikramgad","Vasai","Wada"]},Parbhani:{label:"Parbhani ()",tehsils:["Parbhani","Gangakhed","Jintur","Manwath","Palam","Pathri","Purna","Sailu","Sonpeth"]},Pune:{label:"Pune ()",tehsils:["Pune City","Haveli","Ambegaon","Baramati","Bhor","Daund","Indapur","Junnar","Khed","Maval","Mulshi","Purandar","Shirur","Velhe"]},Raigad:{label:"Raigad ()",tehsils:["Alibag","Karjat","Khalapur","Mahad","Mangaon","Mhasla","Murud","Panvel","Pen","Poladpur","Roha","Shrivardhan","Sudhagad (Pali)","Tala","Uran"]},Ratnagiri:{label:"Ratnagiri ()",tehsils:["Ratnagiri","Chiplun","Dapoli","Guhagar","Khed","Lanja","Mandangad","Rajapur","Sangameshwar"]},Sangli:{label:"Sangli ()",tehsils:["Miraj","Atpadi","Jat","Kadegaon","Kavathe Mahankal","Khanapur (Vita)","Palus","Shirala","Tasgaon","Walwa (Islampur)"]},Satara:{label:"Satara ()",tehsils:["Satara","Jaoli","Karad","Khandala","Khatav","Koregaon","Mahabaleshwar","Man","Patan","Phaltan","Wai"]},Sindhudurg:{label:"Sindhudurg ()",tehsils:["Kudal","Devgad","Dodamarg","Kankavli","Malvan","Sawantwadi","Vaibhavwadi","Vengurla"]},Solapur:{label:"Solapur ()",tehsils:["Solapur North","Solapur South","Akkalkot","Barshi","Karmala","Madha","Malshiras","Mangalvedha","Mohol","Pandharpur","Sangola"]},Thane:{label:"Thane ()",tehsils:["Thane","Ambarnath","Bhiwandi","Kalyan","Murbad","Shahapur","Ulhasnagar"]},Wardha:{label:"Wardha ()",tehsils:["Wardha","Arvi","Ashti","Deoli","Hinganghat","Karanja","Samudrapur","Seloo"]},Washim:{label:"Washim ()",tehsils:["Washim","Karanja","Malegaon","Mangrulpir","Manora","Risod"]},Yavatmal:{label:"Yavatmal ()",tehsils:["Yavatmal","Arni","Babhulgaon","Darwha","Digras","Ghatanji","Kalamb","Kelapur (Pandharkawada)","Mahagaon","Maregaon","Ner","Pusad","Ralegaon","Umarkhed","Wani","Zari Jamni"]}}},gT=()=>Object.keys(en).sort(),_T=t=>!t||!en[t]?[]:Object.keys(en[t]).sort(),pv=(t,e)=>!t||!e||!en[t]||!en[t][e]?null:en[t][e],yT=(t,e)=>{const n=pv(t,e);return n?n.tehsils.sort():[]},mv=()=>{let t=[];return Object.values(en).forEach(e=>{t=[...t,...Object.keys(e)]}),[...new Set(t)].sort()},gv=()=>{let t=[];return Object.values(en).forEach(e=>{Object.values(e).forEach(n=>{n.tehsils&&(t=[...t,...n.tehsils])})}),[...new Set(t)].sort()},BC=Object.freeze(Object.defineProperty({__proto__:null,getAllDistricts:mv,getAllTehsils:gv,getDistrictData:pv,getDistricts:_T,getStates:gT,getTehsils:yT,locationData:en},Symbol.toStringTag,{value:"Module"})),Zc="zpka_3e36f919d14b482bab42a3647f93c313_8fbe4bad",eh="http://dataservice.accuweather.com",th=new Map,vT=30*60*1e3,wT=async(t,e=5)=>{const n=`aw-${t}`,r=th.get(n);if(r&&Date.now()-r.timestamp<vT)return r.data;try{const i=await ET(t);if(!i)throw new Error("Location not found");const[s,o]=await Promise.all([fetch(`${eh}/currentconditions/v1/${i.Key}?apikey=${Zc}&details=true`),fetch(`${eh}/forecasts/v1/daily/5day/${i.Key}?apikey=${Zc}&metric=true`)]);if(!s.ok||!o.ok)throw new Error("Weather API Error");const l=await s.json(),u=await o.json(),h=ST(l[0],u,i);return th.set(n,{data:h,timestamp:Date.now()}),h}catch(i){return console.error("Weather Fail:",i),TT(t)}},UC=()=>{th.clear(),console.log(" Weather cache cleared")},ET=async t=>{const e=`${eh}/locations/v1/cities/search?apikey=${Zc}&q=${encodeURIComponent(t)}`,r=await(await fetch(e)).json();return r&&r.length>0?r[0]:null},ST=(t,e,n)=>{var r,i,s,o,l,u,h,f,p,m,w,P,b,D;return{current:{temp:Math.round(t.Temperature.Metric.Value),condition:t.WeatherText,humidity:t.RelativeHumidity,wind:`${Math.round(((s=(i=(r=t.Wind)==null?void 0:r.Speed)==null?void 0:i.Metric)==null?void 0:s.Value)||0)} km/h`,feelsLike:Math.round(((l=(o=t.RealFeelTemperature)==null?void 0:o.Metric)==null?void 0:l.Value)||t.Temperature.Metric.Value),uv:t.UVIndex,visibility:(h=(u=t.Visibility)==null?void 0:u.Metric)==null?void 0:h.Value,pressure:(p=(f=t.Pressure)==null?void 0:f.Metric)==null?void 0:p.Value,windDir:(w=(m=t.Wind)==null?void 0:m.Direction)==null?void 0:w.English,rainProb:((D=(b=(P=t.PrecipitationSummary)==null?void 0:P.Precipitation)==null?void 0:b.Metric)==null?void 0:D.Value)>0?"High":"Low",icon:bm(t.WeatherIcon),lastUpdated:new Date(t.LocalObservationDateTime).toLocaleTimeString()},forecast:e.DailyForecasts.map((I,v)=>{var L,F;const T=new Date(I.Date);return{day:v===0?"Today":T.toLocaleDateString("en-US",{weekday:"short"}),date:I.Date,temp:Math.round((I.Temperature.Maximum.Value+I.Temperature.Minimum.Value)/2),maxTemp:Math.round(I.Temperature.Maximum.Value),minTemp:Math.round(I.Temperature.Minimum.Value),condition:I.Day.IconPhrase,icon:bm(I.Day.Icon),rainChance:I.Day.PrecipitationProbability||0,humidity:50,maxWind:Math.round(((F=(L=I.Day.Wind)==null?void 0:L.Speed)==null?void 0:F.Value)||0)}}),alerts:[],location:{name:n.LocalizedName,region:n.AdministrativeArea.LocalizedName,country:n.Country.LocalizedName}}},bm=t=>t>=1&&t<=5?"":t>=6&&t<=8?"":t===11?"":t>=12&&t<=14||t===18?"":t>=15&&t<=17?"":t>=19&&t<=21||t>=22&&t<=29?"":t>=33&&t<=36?"":"",TT=t=>{const e=t.split(",")[0].trim();console.log(" Using fallback weather data for",e);let n="Unknown Region";for(const[r,i]of Object.entries(en)){if(i[e]){n=r;break}for(const s of Object.values(i))if(s.tehsils&&s.tehsils.includes(e)){n=r;break}if(n!=="Unknown Region")break}return n==="Unknown Region"&&(n="Madhya Pradesh"),{current:{temp:24,condition:"Partly Cloudy",humidity:45,wind:"12 km/h",feelsLike:25,uv:5,visibility:10,pressure:1013,windDir:"NW",rainProb:"10%",lastUpdated:new Date().toLocaleString()},forecast:[{day:"Today",temp:24,maxTemp:28,minTemp:18,icon:"",condition:"Partly Cloudy",rainChance:10},{day:"Tomorrow",temp:25,maxTemp:29,minTemp:19,icon:"",condition:"Sunny",rainChance:0},{day:"Day 3",temp:23,maxTemp:27,minTemp:17,icon:"",condition:"Cloudy",rainChance:20},{day:"Day 4",temp:24,maxTemp:28,minTemp:18,icon:"",condition:"Partly Cloudy",rainChance:10},{day:"Day 5",temp:25,maxTemp:29,minTemp:19,icon:"",condition:"Sunny",rainChance:0}],alerts:[],location:{name:t,region:n,country:"India"},isFallback:!0}},IT=t=>{var l;const e=[],n=t.current,r=t.forecast;t.alerts&&t.alerts.length>0&&t.alerts.forEach(u=>{e.push({type:"official",severity:"high",icon:"",title:u.headline||"Weather Alert",message:u.desc||u.event,messageHindi:"  ",source:"Official Weather Alert"})}),n.temp>=40&&e.push({type:"heatwave",severity:n.temp>=45?"severe":"high",icon:"",title:"Extreme Heat Alert",titleHindi:"  ",message:`Temperature is ${n.temp}C! Avoid midday field work (11 AM - 4 PM). Increase irrigation frequency. Protect livestock from heat stress.`,messageHindi:` ${n.temp}C !        (11 AM - 4 PM)       `,actions:["Increase irrigation frequency","Apply mulch to conserve moisture","Avoid spraying during peak heat","Provide shade for livestock"]}),n.temp<=8&&e.push({type:"coldwave",severity:n.temp<=5?"severe":"medium",icon:"",title:"Cold Wave Alert",titleHindi:"  ",message:`Temperature dropped to ${n.temp}C! Frost risk high. Protect sensitive crops with covers. Light irrigation may help prevent frost damage.`,messageHindi:` ${n.temp}C   !               `,actions:["Cover sensitive crops","Light irrigation before dawn","Use smoke/smudge pots","Delay harvesting"]});const i=parseInt(n.wind);i>=40&&e.push({type:"wind",severity:i>=60?"high":"medium",icon:"",title:"High Wind Warning",titleHindi:"  ",message:`Wind speed ${i} km/h! Postpone all spraying operations. Risk of crop lodging. Secure loose items and structures.`,messageHindi:`   ${i} km/h!              `,actions:["Postpone spraying","Check crop support","Secure farm equipment","Delay drone operations"]});const s=parseInt(n.rainProb);(s>=70||((l=r[0])==null?void 0:l.rainChance)>=70)&&e.push({type:"rain",severity:s>=90?"high":"medium",icon:"",title:"Heavy Rain Expected",titleHindi:"   ",message:`${s}% chance of rain! Postpone fertilizer/pesticide application. Ensure proper field drainage. Harvest ready crops if possible.`,messageHindi:`${s}%   ! /             `,actions:["Postpone spraying","Check drainage systems","Harvest mature crops","Protect stored grain"]}),n.visibility<1&&e.push({type:"fog",severity:"medium",icon:"",title:"Dense Fog Alert",titleHindi:"  ",message:`Very low visibility (${n.visibility} km). Delay early morning field work. Increased disease risk in crops. Monitor for fungal infections.`,messageHindi:`   (${n.visibility} km)                  `,actions:["Delay morning activities","Monitor for fungal diseases","Ensure proper ventilation","Avoid spraying"]});const o=n.condition.toLowerCase();return(o.includes("thunder")||o.includes("storm"))&&e.push({type:"thunderstorm",severity:"high",icon:"",title:"Thunderstorm Warning",titleHindi:"- ",message:"Thunderstorm activity detected! Stay indoors. Avoid open fields. Unplug electrical equipment. Secure livestock and equipment.",messageHindi:"-  !                 ",actions:["Stay indoors","Avoid open fields","Unplug equipment","Secure livestock"]}),n.humidity>=85&&e.push({type:"humidity",severity:"low",icon:"",title:"High Humidity - Pest Risk",titleHindi:"  -  ",message:`Humidity at ${n.humidity}%. Increased risk of pests and fungal diseases. Monitor crops closely. Consider preventive measures.`,messageHindi:` ${n.humidity}%                 `,actions:["Monitor for pests","Check for fungal diseases","Improve air circulation","Consider preventive spray"]}),e},zC=t=>{switch(t){case"severe":return"#D32F2F";case"high":return"#F44336";case"medium":return"#FF9800";case"low":return"#FFC107";default:return"#2196F3"}},$C=t=>{switch(t){case"severe":return 4;case"high":return 3;case"medium":return 2;case"low":return 1;default:return 0}},Kt=t=>{const e=new Date;return e.setMonth(e.getMonth()+t),e.toISOString().split("T")[0]},Gt=t=>{const e=new Date;return e.setMonth(e.getMonth()-t),e.toISOString().split("T")[0]},kT=[{id:1,title:"PM Kusum Yojana (Solar Pump)",titleHi:"   ( )",titleMr:"   ( )",benefit:"Up to 90% Subsidy on Solar Pumps",benefitHi:"   90%   ",benefitMr:"  %  ",applyText:"Visit Portal",applyUrl:"https://pmkusum.mnre.gov.in",color:"#FF9800",startDate:Gt(11),validUntil:Kt(12)},{id:101,title:"Kisan Suvidha Portal",titleHi:"  ",titleMr:"  ",benefit:"Central Govt All-in-One Agri Services",benefitHi:"       ",benefitMr:"      ",applyText:"Visit Now",applyUrl:"https://kisansuvidha.gov.in/",color:"#009688",startDate:Gt(1),validUntil:Kt(24)},{id:102,title:"MP Krishi (Govt of MP)",titleHi:"..  ",titleMr:"   ",benefit:"All MP Govt Schemes & Updates",benefitHi:"     ",benefitMr:"      ",applyText:"Visit Now",applyUrl:"https://mpkrishi.mp.gov.in/",color:"#2E7D32",startDate:Gt(1),validUntil:Kt(24)},{id:2,title:"Tractor Subsidy Scheme",titleHi:"  ",titleMr:"  ",benefit:"20-50% Subsidy on new Tractors",benefitHi:"   20-50%   ",benefitMr:"  -%  ",applyText:"MP Krishi Yantra",applyUrl:"https://dbt.mpdage.org",color:"#4CAF50",startDate:Gt(1),validUntil:Kt(6)},{id:3,title:"PM Fasal Bima Yojana",titleHi:"   ",titleMr:"   ",benefit:"Crop insurance against natural calamities",benefitHi:"      ",benefitMr:"     ",applyText:"Contact Bank/CSC",applyUrl:"https://pmfby.gov.in",color:"#2196F3",startDate:Gt(6),validUntil:Kt(12)},{id:4,title:"Kisan Credit Card (KCC)",titleHi:"   (KCC)",titleMr:"   (KCC)",benefit:"Low interest loans (4%) for farming needs",benefitHi:"     (4%)  ",benefitMr:"   (%) ",applyText:"Visit Bank",applyUrl:"https://www.myscheme.gov.in/schemes/kcc",color:"#9C27B0",startDate:Gt(23),validUntil:Kt(15)},{id:5,title:"Soil Health Card Scheme",titleHi:"   ",titleMr:"   ",benefit:"Free Soil Testing & Fertilizer advice",benefitHi:"      ",benefitMr:"     ",applyText:"Contact Agri Dept",applyUrl:"https://soilhealth.dac.gov.in",color:"#795548",startDate:Gt(11),validUntil:Kt(12)},{id:6,title:"Organic Farming (PKVY)",titleHi:"    ( )",titleMr:"    ( )",benefit:"Rs. 50,000/ha subsidy for Organic Farming",benefitHi:"    50,000 /  ",benefitMr:"  , / ",applyText:"Agri Dept Reg.",applyUrl:"https://pgsindia-ncof.gov.in",color:"#8BC34A",startDate:Gt(0),validUntil:Kt(24)},{id:7,title:"Pradhan Mantri Krishi Sinchai Yojana",titleHi:"   ",titleMr:"   ",benefit:"Subsidy on Drip/Sprinkler Irrigation",benefitHi:"      ",benefitMr:"     ",applyText:"MPFSTS Portal",applyUrl:"https://mpfsts.mp.gov.in",color:"#03A9F4",startDate:Gt(7),validUntil:Kt(10)},{id:8,title:"e-NAM (National Agriculture Market)",titleHi:"- (  )",titleMr:"- (  )",benefit:"Sell crops online at best prices across India",benefitHi:"         ",benefitMr:"      ",applyText:"Register Online",applyUrl:"https://www.enam.gov.in",color:"#FF5722",startDate:Gt(11),validUntil:Kt(999)}],xT=t=>{const e=new Date(t),r=Math.abs(new Date-e);return Math.ceil(r/(1e3*60*60*24))<=30},qC=t=>il(t||"default"),AT=[{name:"Wheat ()",icon:"",category:"Grains",basePrice:2200,variance:300},{name:"Soybean ()",icon:"",category:"Pulses",basePrice:4200,variance:600},{name:"Cotton ()",icon:"",category:"Others",basePrice:6500,variance:500},{name:"Gram (Chana/)",icon:"",category:"Pulses",basePrice:5800,variance:400},{name:"Maize ()",icon:"",category:"Grains",basePrice:1800,variance:250},{name:"Onion ()",icon:"",category:"Vegetables",basePrice:2e3,variance:800},{name:"Potato ()",icon:"",category:"Vegetables",basePrice:800,variance:300},{name:"Tomato ()",icon:"",category:"Vegetables",basePrice:1500,variance:600},{name:"Garlic ()",icon:"",category:"Vegetables",basePrice:12500,variance:2e3},{name:"Mustard ()",icon:"",category:"Pulses",basePrice:5200,variance:400},{name:"Tur ()",icon:"",category:"Pulses",basePrice:9500,variance:800},{name:"Moong ()",icon:"",category:"Pulses",basePrice:7200,variance:600},{name:"Banana ()",icon:"",category:"Fruits",basePrice:1200,variance:400},{name:"Pomegranate ()",icon:"",category:"Fruits",basePrice:6e3,variance:1500},{name:"Orange ()",icon:"",category:"Fruits",basePrice:2500,variance:800},{name:"Grapes ()",icon:"",category:"Fruits",basePrice:6e3,variance:1200},{name:"Apple ()",icon:"",category:"Fruits",basePrice:8e3,variance:1500},{name:"Watermelon ()",icon:"",category:"Fruits",basePrice:1500,variance:400},{name:"Mango ()",icon:"",category:"Fruits",basePrice:5e3,variance:1e3}],vs=t=>{var e=Math.sin(t++)*1e4;return e-Math.floor(e)},il=(t,e=new Date)=>{const n=e.toISOString().split("T")[0].replace(/-/g,""),r=t.length+t.charCodeAt(0),i=parseInt(n)+r;return AT.filter((s,o)=>o<5?vs(i+o)>.1:vs(i+o)>.4).map((s,o)=>{const l=vs(i+o+100),u=Math.floor((l-.5)*s.variance*2),h=s.basePrice+u-Math.floor(vs(i+o)*200),f=s.basePrice+u+Math.floor(vs(i+o+50)*300),p=Math.floor((h+f)/2);return{...s,unit:"Quintal",min:Math.max(h,100),max:Math.max(f,h),modal:p,date:e.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}})},_v=N.createContext(),bT=()=>N.useContext(_v),CT=({children:t})=>{const[e,n]=N.useState([]),[r,i]=N.useState(0);N.useEffect(()=>{const u=localStorage.getItem("kisan_alerts");if(u){const h=JSON.parse(u);n(h),i(h.filter(f=>!f.read).length)}},[]),N.useEffect(()=>{localStorage.setItem("kisan_alerts",JSON.stringify(e)),i(e.filter(u=>!u.read).length)},[e]);const s=N.useCallback(u=>{n(h=>h.find(p=>p.id===u.id&&p.type===u.type||p.title===u.title&&p.timestamp>Date.now()-36e5)?h:[{...u,read:!1,timestamp:Date.now()},...h].slice(0,20))},[]),o=u=>{n(h=>h.map(f=>f.id===u?{...f,read:!0}:f))},l=()=>{n([])};return N.useEffect(()=>{const u=async()=>{try{const w=await wT("Indore");IT(w).forEach(b=>{var D;(b.severity==="high"||b.severity==="severe")&&s({id:`weather-${b.type}-${Date.now()}`,type:"weather",severity:b.severity,icon:b.icon,title:b.title,titleHi:b.titleHindi,titleMr:b.titleMarathi||b.titleHindi,message:b.message,messageHi:b.messageHindi,messageMr:b.messageMarathi||b.messageHindi,whatsappMsg:` *Weather Alert:* ${b.title} (${b.titleHindi})
${b.message}
Take action: ${(D=b.actions)==null?void 0:D.join(", ")}`})})}catch(w){console.error("Alert detection weather error:",w)}const f=il("Indore",new Date),p=new Date;p.setDate(p.getDate()-1);const m=il("Indore",p);f.forEach(w=>{const P=m.find(b=>b.name===w.name);if(P){const b=(w.modal-P.modal)/P.modal*100;b<=-10&&s({id:`price-drop-${w.name}-${Date.now()}`,type:"market-drop",severity:"medium",icon:"",title:`Price Drop: ${w.name}`,titleHi:`  : ${w.name.split(" (")[1].replace(")","")}`,titleMr:` : ${w.name.split(" (")[1].replace(")","")}`,message:`Modal price dropped by ${Math.abs(b).toFixed(1)}% to ${w.modal}/qtl in Indore Mandi.`,messageHi:`   ${w.name.split(" (")[1].replace(")","")}   ${Math.abs(b).toFixed(1)}%  ${w.modal}   `,messageMr:`  ${w.name.split(" (")[1].replace(")","")}   ${Math.abs(b).toFixed(1)}%  ${w.modal}  .`,whatsappMsg:` *Mandi Alert:* Price Drop in ${w.name}
Dropped by ${Math.abs(b).toFixed(1)}% to ${w.modal}/qtl.
Stay updated on KisanBazaar!`}),b>=10&&s({id:`price-up-${w.name}-${Date.now()}`,type:"market-up",severity:"medium",icon:"",title:`Price Increase: ${w.name}`,titleHi:`  : ${w.name.split(" (")[1].replace(")","")}`,titleMr:` : ${w.name.split(" (")[1].replace(")","")}`,message:`Modal price increased by ${b.toFixed(1)}% to ${w.modal}/qtl! Good time to sell.`,messageHi:`${w.name.split(" (")[1].replace(")","")}   ${b.toFixed(1)}%  ${w.modal}   !     `,messageMr:`${w.name.split(" (")[1].replace(")","")}   ${b.toFixed(1)}%  ${w.modal}  !    .`,whatsappMsg:` *Mandi Alert:* Price Increase in ${w.name}
Increased by ${b.toFixed(1)}% to ${w.modal}/qtl. Good time to sell!`})}}),kT.forEach(w=>{xT(w.startDate)&&s({id:`scheme-${w.id}`,type:"scheme",severity:"low",icon:"",title:`New Scheme: ${w.title}`,titleHi:` : ${w.titleHi}`,titleMr:` : ${w.titleMr||w.titleHi}`,message:w.benefit,messageHi:w.benefitHi,messageMr:w.benefitMr||w.benefitHi,whatsappMsg:` *Govt Scheme:* ${w.title}
${w.benefit}
Apply here: ${w.applyUrl}`})})};u();const h=setInterval(u,36e5);return()=>clearInterval(h)},[s]),E.jsx(_v.Provider,{value:{alerts:e,unreadCount:r,markAsRead:o,clearAll:l,addAlert:s},children:t})},PT=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,w=h&63;u||(w=64,o||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new DT;const m=s<<2|l>>4;if(r.push(m),h!==64){const w=l<<4&240|h>>2;if(r.push(w),p!==64){const P=h<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VT=function(t){const e=yv(t);return vv.encodeByteArray(e,!0)},sl=function(t){return VT(t).replace(/\./g,"")},NT=function(t){try{return vv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=()=>MT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NT(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return PT()||LT()||OT()||jT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FT=t=>{var e,n;return(n=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},BT=t=>{const e=FT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wv=()=>{var t;return(t=Id())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[sl(JSON.stringify(n)),sl(JSON.stringify(o)),l].join(".")}const js={};function qT(){const t={prod:[],emulator:[]};for(const e of Object.keys(js))js[e]?t.emulator.push(e):t.prod.push(e);return t}function WT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cm=!1;function HT(t,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||js[t]===e||js[t]||Cm)return;js[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=qT().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,w){m.setAttribute("width","24"),m.setAttribute("id",w),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Cm=!0,o()},m}function f(m,w){m.setAttribute("id",w),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=WT(r),w=n("text"),P=document.getElementById(w)||document.createElement("span"),b=n("learnmore"),D=document.getElementById(b)||document.createElement("a"),I=n("preprendIcon"),v=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;l(T),f(D,b);const R=h();u(v,I),T.append(v,P,D,R),document.body.appendChild(T)}s?(P.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GT(){var e;const t=(e=Id())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XT,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ev.prototype.create)}}class Ev{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZT(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new zi(i,l,r)}}function ZT(t,e){return t.replace(eI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eI=/\{\$([^}]+)}/g;function ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pm(s)&&Pm(o)){if(!ol(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rI(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nI(t){return t===Tr?void 0:t}function rI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const sI={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},oI=re.INFO,aI={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},lI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sv{constructor(e){this.name=e,this._logLevel=oI,this._logHandler=lI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const uI=(t,e)=>e.some(n=>t instanceof n);let Rm,Dm;function cI(){return Rm||(Rm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hI(){return Dm||(Dm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,nh=new WeakMap,Iv=new WeakMap,Gu=new WeakMap,xd=new WeakMap;function dI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tv.set(n,t)}).catch(()=>{}),xd.set(e,t),e}function fI(t){if(nh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nh.set(t,e)}let rh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Iv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pI(t){rh=t(rh)}function mI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qu(this),e,...n);return Iv.set(r,e.sort?e.sort():[e]),Qn(r)}:hI().includes(t)?function(...e){return t.apply(Qu(this),e),Qn(Tv.get(this))}:function(...e){return Qn(t.apply(Qu(this),e))}}function gI(t){return typeof t=="function"?mI(t):(t instanceof IDBTransaction&&fI(t),uI(t,cI())?new Proxy(t,rh):t)}function Qn(t){if(t instanceof IDBRequest)return dI(t);if(Gu.has(t))return Gu.get(t);const e=gI(t);return e!==t&&(Gu.set(t,e),xd.set(e,t)),e}const Qu=t=>xd.get(t);function _I(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Qn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qn(o.result),u.oldVersion,u.newVersion,Qn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const yI=["get","getKey","getAll","getAllKeys","count"],vI=["put","add","delete","clear"],Yu=new Map;function Vm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yu.get(e))return Yu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yI.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Yu.set(e,s),s}pI(t=>({...t,get:(e,n,r)=>Vm(e,n)||t.get(e,n,r),has:(e,n)=>!!Vm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ih="@firebase/app",Nm="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Sv("@firebase/app"),SI="@firebase/app-compat",TI="@firebase/analytics-compat",II="@firebase/analytics",kI="@firebase/app-check-compat",xI="@firebase/app-check",AI="@firebase/auth",bI="@firebase/auth-compat",CI="@firebase/database",PI="@firebase/data-connect",RI="@firebase/database-compat",DI="@firebase/functions",VI="@firebase/functions-compat",NI="@firebase/installations",MI="@firebase/installations-compat",LI="@firebase/messaging",OI="@firebase/messaging-compat",jI="@firebase/performance",FI="@firebase/performance-compat",BI="@firebase/remote-config",UI="@firebase/remote-config-compat",zI="@firebase/storage",$I="@firebase/storage-compat",qI="@firebase/firestore",WI="@firebase/ai",HI="@firebase/firestore-compat",KI="firebase",GI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="[DEFAULT]",QI={[ih]:"fire-core",[SI]:"fire-core-compat",[II]:"fire-analytics",[TI]:"fire-analytics-compat",[xI]:"fire-app-check",[kI]:"fire-app-check-compat",[AI]:"fire-auth",[bI]:"fire-auth-compat",[CI]:"fire-rtdb",[PI]:"fire-data-connect",[RI]:"fire-rtdb-compat",[DI]:"fire-fn",[VI]:"fire-fn-compat",[NI]:"fire-iid",[MI]:"fire-iid-compat",[LI]:"fire-fcm",[OI]:"fire-fcm-compat",[jI]:"fire-perf",[FI]:"fire-perf-compat",[BI]:"fire-rc",[UI]:"fire-rc-compat",[zI]:"fire-gcs",[$I]:"fire-gcs-compat",[qI]:"fire-fst",[HI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Map,YI=new Map,oh=new Map;function Mm(t,e){try{t.container.addComponent(e)}catch(n){vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(oh.has(e))return vn.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,t);for(const n of al.values())Mm(n,t);for(const n of YI.values())Mm(n,t);return!0}function JI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function XI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Ev("app","Firebase",ZI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=GI;function kv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:sh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=wv()),!n)throw Yn.create("no-options");const s=al.get(i);if(s){if(ol(n,s.options)&&ol(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}const o=new iI(i);for(const u of oh.values())o.addComponent(u);const l=new ek(n,r,o);return al.set(i,l),l}function nk(t=sh){const e=al.get(t);if(!e&&t===sh&&wv())return kv();if(!e)throw Yn.create("no-app",{appName:t});return e}function gi(t,e,n){let r=QI[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vn.warn(o.join(" "));return}ll(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firebase-heartbeat-database",ik=1,uo="firebase-heartbeat-store";let Ju=null;function xv(){return Ju||(Ju=_I(rk,ik,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Ju}async function sk(t){try{const n=(await xv()).transaction(uo),r=await n.objectStore(uo).get(Av(t));return await n.done,r}catch(e){if(e instanceof zi)vn.warn(e.message);else{const n=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vn.warn(n.message)}}}async function Lm(t,e){try{const r=(await xv()).transaction(uo,"readwrite");await r.objectStore(uo).put(e,Av(t)),await r.done}catch(n){if(n instanceof zi)vn.warn(n.message);else{const r=Yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vn.warn(r.message)}}}function Av(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=1024,ak=30;class lk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ck(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Om();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ak){const o=hk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Om(),{heartbeatsToSend:r,unsentEntries:i}=uk(this._heartbeatsCache.heartbeats),s=sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vn.warn(n),""}}}function Om(){return new Date().toISOString().substring(0,10)}function uk(t,e=ok){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jm(t){return sl(JSON.stringify({version:2,heartbeats:t})).length}function hk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){ll(new lo("platform-logger",e=>new wI(e),"PRIVATE")),ll(new lo("heartbeat",e=>new lk(e),"PRIVATE")),gi(ih,Nm,t),gi(ih,Nm,"esm2020"),gi("fire-js","")}dk("");var fk="firebase",pk="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(fk,pk,"app");var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jn,bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function g(){}g.prototype=y.prototype,S.F=y.prototype,S.prototype=new g,S.prototype.constructor=S,S.D=function(x,A,C){for(var k=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)k[xe-2]=arguments[xe];return y.prototype[A].apply(x,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,g){g||(g=0);const x=Array(16);if(typeof y=="string")for(var A=0;A<16;++A)x[A]=y.charCodeAt(g++)|y.charCodeAt(g++)<<8|y.charCodeAt(g++)<<16|y.charCodeAt(g++)<<24;else for(A=0;A<16;++A)x[A]=y[g++]|y[g++]<<8|y[g++]<<16|y[g++]<<24;y=S.g[0],g=S.g[1],A=S.g[2];let C=S.g[3],k;k=y+(C^g&(A^C))+x[0]+3614090360&4294967295,y=g+(k<<7&4294967295|k>>>25),k=C+(A^y&(g^A))+x[1]+3905402710&4294967295,C=y+(k<<12&4294967295|k>>>20),k=A+(g^C&(y^g))+x[2]+606105819&4294967295,A=C+(k<<17&4294967295|k>>>15),k=g+(y^A&(C^y))+x[3]+3250441966&4294967295,g=A+(k<<22&4294967295|k>>>10),k=y+(C^g&(A^C))+x[4]+4118548399&4294967295,y=g+(k<<7&4294967295|k>>>25),k=C+(A^y&(g^A))+x[5]+1200080426&4294967295,C=y+(k<<12&4294967295|k>>>20),k=A+(g^C&(y^g))+x[6]+2821735955&4294967295,A=C+(k<<17&4294967295|k>>>15),k=g+(y^A&(C^y))+x[7]+4249261313&4294967295,g=A+(k<<22&4294967295|k>>>10),k=y+(C^g&(A^C))+x[8]+1770035416&4294967295,y=g+(k<<7&4294967295|k>>>25),k=C+(A^y&(g^A))+x[9]+2336552879&4294967295,C=y+(k<<12&4294967295|k>>>20),k=A+(g^C&(y^g))+x[10]+4294925233&4294967295,A=C+(k<<17&4294967295|k>>>15),k=g+(y^A&(C^y))+x[11]+2304563134&4294967295,g=A+(k<<22&4294967295|k>>>10),k=y+(C^g&(A^C))+x[12]+1804603682&4294967295,y=g+(k<<7&4294967295|k>>>25),k=C+(A^y&(g^A))+x[13]+4254626195&4294967295,C=y+(k<<12&4294967295|k>>>20),k=A+(g^C&(y^g))+x[14]+2792965006&4294967295,A=C+(k<<17&4294967295|k>>>15),k=g+(y^A&(C^y))+x[15]+1236535329&4294967295,g=A+(k<<22&4294967295|k>>>10),k=y+(A^C&(g^A))+x[1]+4129170786&4294967295,y=g+(k<<5&4294967295|k>>>27),k=C+(g^A&(y^g))+x[6]+3225465664&4294967295,C=y+(k<<9&4294967295|k>>>23),k=A+(y^g&(C^y))+x[11]+643717713&4294967295,A=C+(k<<14&4294967295|k>>>18),k=g+(C^y&(A^C))+x[0]+3921069994&4294967295,g=A+(k<<20&4294967295|k>>>12),k=y+(A^C&(g^A))+x[5]+3593408605&4294967295,y=g+(k<<5&4294967295|k>>>27),k=C+(g^A&(y^g))+x[10]+38016083&4294967295,C=y+(k<<9&4294967295|k>>>23),k=A+(y^g&(C^y))+x[15]+3634488961&4294967295,A=C+(k<<14&4294967295|k>>>18),k=g+(C^y&(A^C))+x[4]+3889429448&4294967295,g=A+(k<<20&4294967295|k>>>12),k=y+(A^C&(g^A))+x[9]+568446438&4294967295,y=g+(k<<5&4294967295|k>>>27),k=C+(g^A&(y^g))+x[14]+3275163606&4294967295,C=y+(k<<9&4294967295|k>>>23),k=A+(y^g&(C^y))+x[3]+4107603335&4294967295,A=C+(k<<14&4294967295|k>>>18),k=g+(C^y&(A^C))+x[8]+1163531501&4294967295,g=A+(k<<20&4294967295|k>>>12),k=y+(A^C&(g^A))+x[13]+2850285829&4294967295,y=g+(k<<5&4294967295|k>>>27),k=C+(g^A&(y^g))+x[2]+4243563512&4294967295,C=y+(k<<9&4294967295|k>>>23),k=A+(y^g&(C^y))+x[7]+1735328473&4294967295,A=C+(k<<14&4294967295|k>>>18),k=g+(C^y&(A^C))+x[12]+2368359562&4294967295,g=A+(k<<20&4294967295|k>>>12),k=y+(g^A^C)+x[5]+4294588738&4294967295,y=g+(k<<4&4294967295|k>>>28),k=C+(y^g^A)+x[8]+2272392833&4294967295,C=y+(k<<11&4294967295|k>>>21),k=A+(C^y^g)+x[11]+1839030562&4294967295,A=C+(k<<16&4294967295|k>>>16),k=g+(A^C^y)+x[14]+4259657740&4294967295,g=A+(k<<23&4294967295|k>>>9),k=y+(g^A^C)+x[1]+2763975236&4294967295,y=g+(k<<4&4294967295|k>>>28),k=C+(y^g^A)+x[4]+1272893353&4294967295,C=y+(k<<11&4294967295|k>>>21),k=A+(C^y^g)+x[7]+4139469664&4294967295,A=C+(k<<16&4294967295|k>>>16),k=g+(A^C^y)+x[10]+3200236656&4294967295,g=A+(k<<23&4294967295|k>>>9),k=y+(g^A^C)+x[13]+681279174&4294967295,y=g+(k<<4&4294967295|k>>>28),k=C+(y^g^A)+x[0]+3936430074&4294967295,C=y+(k<<11&4294967295|k>>>21),k=A+(C^y^g)+x[3]+3572445317&4294967295,A=C+(k<<16&4294967295|k>>>16),k=g+(A^C^y)+x[6]+76029189&4294967295,g=A+(k<<23&4294967295|k>>>9),k=y+(g^A^C)+x[9]+3654602809&4294967295,y=g+(k<<4&4294967295|k>>>28),k=C+(y^g^A)+x[12]+3873151461&4294967295,C=y+(k<<11&4294967295|k>>>21),k=A+(C^y^g)+x[15]+530742520&4294967295,A=C+(k<<16&4294967295|k>>>16),k=g+(A^C^y)+x[2]+3299628645&4294967295,g=A+(k<<23&4294967295|k>>>9),k=y+(A^(g|~C))+x[0]+4096336452&4294967295,y=g+(k<<6&4294967295|k>>>26),k=C+(g^(y|~A))+x[7]+1126891415&4294967295,C=y+(k<<10&4294967295|k>>>22),k=A+(y^(C|~g))+x[14]+2878612391&4294967295,A=C+(k<<15&4294967295|k>>>17),k=g+(C^(A|~y))+x[5]+4237533241&4294967295,g=A+(k<<21&4294967295|k>>>11),k=y+(A^(g|~C))+x[12]+1700485571&4294967295,y=g+(k<<6&4294967295|k>>>26),k=C+(g^(y|~A))+x[3]+2399980690&4294967295,C=y+(k<<10&4294967295|k>>>22),k=A+(y^(C|~g))+x[10]+4293915773&4294967295,A=C+(k<<15&4294967295|k>>>17),k=g+(C^(A|~y))+x[1]+2240044497&4294967295,g=A+(k<<21&4294967295|k>>>11),k=y+(A^(g|~C))+x[8]+1873313359&4294967295,y=g+(k<<6&4294967295|k>>>26),k=C+(g^(y|~A))+x[15]+4264355552&4294967295,C=y+(k<<10&4294967295|k>>>22),k=A+(y^(C|~g))+x[6]+2734768916&4294967295,A=C+(k<<15&4294967295|k>>>17),k=g+(C^(A|~y))+x[13]+1309151649&4294967295,g=A+(k<<21&4294967295|k>>>11),k=y+(A^(g|~C))+x[4]+4149444226&4294967295,y=g+(k<<6&4294967295|k>>>26),k=C+(g^(y|~A))+x[11]+3174756917&4294967295,C=y+(k<<10&4294967295|k>>>22),k=A+(y^(C|~g))+x[2]+718787259&4294967295,A=C+(k<<15&4294967295|k>>>17),k=g+(C^(A|~y))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+C&4294967295}r.prototype.v=function(S,y){y===void 0&&(y=S.length);const g=y-this.blockSize,x=this.C;let A=this.h,C=0;for(;C<y;){if(A==0)for(;C<=g;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<y;)if(x[A++]=S.charCodeAt(C++),A==this.blockSize){i(this,x),A=0;break}}else for(;C<y;)if(x[A++]=S[C++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=y},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;y=this.o*8;for(var g=S.length-8;g<S.length;++g)S[g]=y&255,y/=256;for(this.v(S),S=Array(16),y=0,g=0;g<4;++g)for(let x=0;x<32;x+=8)S[y++]=this.g[g]>>>x&255;return S};function s(S,y){var g=l;return Object.prototype.hasOwnProperty.call(g,S)?g[S]:g[S]=y(S)}function o(S,y){this.h=y;const g=[];let x=!0;for(let A=S.length-1;A>=0;A--){const C=S[A]|0;x&&C==y||(g[A]=C,x=!1)}this.g=g}var l={};function u(S){return-128<=S&&S<128?s(S,function(y){return new o([y|0],y<0?-1:0)}):new o([S|0],S<0?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return p;if(S<0)return D(h(-S));const y=[];let g=1;for(let x=0;S>=g;x++)y[x]=S/g|0,g*=4294967296;return new o(y,0)}function f(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return D(f(S.substring(1),y));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const g=h(Math.pow(y,8));let x=p;for(let C=0;C<S.length;C+=8){var A=Math.min(8,S.length-C);const k=parseInt(S.substring(C,C+A),y);A<8?(A=h(Math.pow(y,A)),x=x.j(A).add(h(k))):(x=x.j(g),x=x.add(h(k)))}return x}var p=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-D(this).m();let S=0,y=1;for(let g=0;g<this.g.length;g++){const x=this.i(g);S+=(x>=0?x:4294967296+x)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(b(this))return"-"+D(this).toString(S);const y=h(Math.pow(S,6));var g=this;let x="";for(;;){const A=R(g,y).g;g=I(g,A.j(y));let C=((g.g.length>0?g.g[0]:g.h)>>>0).toString(S);if(g=A,P(g))return C+x;for(;C.length<6;)C="0"+C;x=C+x}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(let y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=I(this,S),b(S)?-1:P(S)?0:1};function D(S){const y=S.g.length,g=[];for(let x=0;x<y;x++)g[x]=~S.g[x];return new o(g,~S.h).add(m)}t.abs=function(){return b(this)?D(this):this},t.add=function(S){const y=Math.max(this.g.length,S.g.length),g=[];let x=0;for(let A=0;A<=y;A++){let C=x+(this.i(A)&65535)+(S.i(A)&65535),k=(C>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);x=k>>>16,C&=65535,k&=65535,g[A]=k<<16|C}return new o(g,g[g.length-1]&-2147483648?-1:0)};function I(S,y){return S.add(D(y))}t.j=function(S){if(P(this)||P(S))return p;if(b(this))return b(S)?D(this).j(D(S)):D(D(this).j(S));if(b(S))return D(this.j(D(S)));if(this.l(w)<0&&S.l(w)<0)return h(this.m()*S.m());const y=this.g.length+S.g.length,g=[];for(var x=0;x<2*y;x++)g[x]=0;for(x=0;x<this.g.length;x++)for(let A=0;A<S.g.length;A++){const C=this.i(x)>>>16,k=this.i(x)&65535,xe=S.i(A)>>>16,Te=S.i(A)&65535;g[2*x+2*A]+=k*Te,v(g,2*x+2*A),g[2*x+2*A+1]+=C*Te,v(g,2*x+2*A+1),g[2*x+2*A+1]+=k*xe,v(g,2*x+2*A+1),g[2*x+2*A+2]+=C*xe,v(g,2*x+2*A+2)}for(S=0;S<y;S++)g[S]=g[2*S+1]<<16|g[2*S];for(S=y;S<2*y;S++)g[S]=0;return new o(g,0)};function v(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function T(S,y){this.g=S,this.h=y}function R(S,y){if(P(y))throw Error("division by zero");if(P(S))return new T(p,p);if(b(S))return y=R(D(S),y),new T(D(y.g),D(y.h));if(b(y))return y=R(S,D(y)),new T(D(y.g),y.h);if(S.g.length>30){if(b(S)||b(y))throw Error("slowDivide_ only works with positive integers.");for(var g=m,x=y;x.l(S)<=0;)g=L(g),x=L(x);var A=F(g,1),C=F(x,1);for(x=F(x,2),g=F(g,2);!P(x);){var k=C.add(x);k.l(S)<=0&&(A=A.add(g),C=k),x=F(x,1),g=F(g,1)}return y=I(S,A.j(y)),new T(A,y)}for(A=p;S.l(y)>=0;){for(g=Math.max(1,Math.floor(S.m()/y.m())),x=Math.ceil(Math.log(g)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),C=h(g),k=C.j(y);b(k)||k.l(S)>0;)g-=x,C=h(g),k=C.j(y);P(C)&&(C=m),A=A.add(C),S=I(S,k)}return new T(A,S)}t.B=function(S){return R(this,S).h},t.and=function(S){const y=Math.max(this.g.length,S.g.length),g=[];for(let x=0;x<y;x++)g[x]=this.i(x)&S.i(x);return new o(g,this.h&S.h)},t.or=function(S){const y=Math.max(this.g.length,S.g.length),g=[];for(let x=0;x<y;x++)g[x]=this.i(x)|S.i(x);return new o(g,this.h|S.h)},t.xor=function(S){const y=Math.max(this.g.length,S.g.length),g=[];for(let x=0;x<y;x++)g[x]=this.i(x)^S.i(x);return new o(g,this.h^S.h)};function L(S){const y=S.g.length+1,g=[];for(let x=0;x<y;x++)g[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(g,S.h)}function F(S,y){const g=y>>5;y%=32;const x=S.g.length-g,A=[];for(let C=0;C<x;C++)A[C]=y>0?S.i(C+g)>>>y|S.i(C+g+1)<<32-y:S.i(C+g);return new o(A,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Jn=o}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cv,ks,Pv,Ia,ah,Rv,Dv,Vv;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof sa=="object"&&sa];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var V=a[_];if(!(V in d))break e;d=d[V]}a=a[a.length-1],_=d[a],c=c(_),c!=_&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(c){var d=[],_;for(_ in c)Object.prototype.hasOwnProperty.call(c,_)&&d.push([_,c[_]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function u(a,c,d){return a.call.apply(a.bind,arguments)}function h(a,c,d){return h=u,h.apply(null,arguments)}function f(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function p(a,c){function d(){}d.prototype=c.prototype,a.Z=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Ob=function(_,V,M){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return c.prototype[V].apply(_,U)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function w(a){const c=a.length;if(c>0){const d=Array(c);for(let _=0;_<c;_++)d[_]=a[_];return d}return[]}function P(a,c){for(let _=1;_<arguments.length;_++){const V=arguments[_];var d=typeof V;if(d=d!="object"?d:V?Array.isArray(V)?"array":d:"null",d=="array"||d=="object"&&typeof V.length=="number"){d=a.length||0;const M=V.length||0;a.length=d+M;for(let U=0;U<M;U++)a[d+U]=V[U]}else a.push(V)}}class b{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function D(a){o.setTimeout(()=>{throw a},0)}function I(){var a=S;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class v{constructor(){this.h=this.g=null}add(c,d){const _=T.get();_.set(c,d),this.h?this.h.next=_:this.g=_,this.h=_}}var T=new b(()=>new R,a=>a.reset());class R{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,S=new v,y=()=>{const a=Promise.resolve(void 0);L=()=>{a.then(g)}};function g(){for(var a;a=I();){try{a.h.call(a.g)}catch(d){D(d)}var c=T;c.j(a),c.h<100&&(c.h++,a.next=c.g,c.g=a)}F=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};o.addEventListener("test",d,c),o.removeEventListener("test",d,c)}catch{}return a}();function k(a){return/^[\s\xa0]*$/.test(a)}function xe(a,c){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,c)}p(xe,A),xe.prototype.init=function(a,c){const d=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget,c||(d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement)),this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),ln=0;function un(a,c,d,_,V){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!_,this.ha=V,this.key=++ln,this.da=this.fa=!1}function z(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function K(a,c,d){for(const _ in a)c.call(d,a[_],_,a)}function J(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function ge(a){const c={};for(const d in a)c[d]=a[d];return c}const Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pr(a,c){let d,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(d in _)a[d]=_[d];for(let M=0;M<Ae.length;M++)d=Ae[M],Object.prototype.hasOwnProperty.call(_,d)&&(a[d]=_[d])}}function kt(a){this.src=a,this.g={},this.h=0}kt.prototype.add=function(a,c,d,_,V){const M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);const U=Vt(a,c,_,V);return U>-1?(c=a[U],d||(c.fa=!1)):(c=new un(c,this.src,M,!!_,V),c.fa=d,a.push(c)),c};function mr(a,c){const d=c.type;if(d in a.g){var _=a.g[d],V=Array.prototype.indexOf.call(_,c,void 0),M;(M=V>=0)&&Array.prototype.splice.call(_,V,1),M&&(z(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Vt(a,c,d,_){for(let V=0;V<a.length;++V){const M=a[V];if(!M.da&&M.listener==c&&M.capture==!!d&&M.ha==_)return V}return-1}var In="closure_lm_"+(Math.random()*1e6|0),Zl={};function hf(a,c,d,_,V){if(_&&_.once)return ff(a,c,d,_,V);if(Array.isArray(c)){for(let M=0;M<c.length;M++)hf(a,c[M],d,_,V);return null}return d=ru(d),a&&a[Te]?a.J(c,d,l(_)?!!_.capture:!!_,V):df(a,c,d,!1,_,V)}function df(a,c,d,_,V,M){if(!c)throw Error("Invalid event type");const U=l(V)?!!V.capture:!!V;let X=tu(a);if(X||(a[In]=X=new kt(a)),d=X.add(c,d,_,U,M),d.proxy)return d;if(_=ow(),d.proxy=_,_.src=a,_.listener=d,a.addEventListener)C||(V=U),V===void 0&&(V=!1),a.addEventListener(c.toString(),_,V);else if(a.attachEvent)a.attachEvent(mf(c.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ow(){function a(d){return c.call(a.src,a.listener,d)}const c=aw;return a}function ff(a,c,d,_,V){if(Array.isArray(c)){for(let M=0;M<c.length;M++)ff(a,c[M],d,_,V);return null}return d=ru(d),a&&a[Te]?a.K(c,d,l(_)?!!_.capture:!!_,V):df(a,c,d,!0,_,V)}function pf(a,c,d,_,V){if(Array.isArray(c))for(var M=0;M<c.length;M++)pf(a,c[M],d,_,V);else _=l(_)?!!_.capture:!!_,d=ru(d),a&&a[Te]?(a=a.i,M=String(c).toString(),M in a.g&&(c=a.g[M],d=Vt(c,d,_,V),d>-1&&(z(c[d]),Array.prototype.splice.call(c,d,1),c.length==0&&(delete a.g[M],a.h--)))):a&&(a=tu(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Vt(c,d,_,V)),(d=a>-1?c[a]:null)&&eu(d))}function eu(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[Te])mr(c.i,a);else{var d=a.type,_=a.proxy;c.removeEventListener?c.removeEventListener(d,_,a.capture):c.detachEvent?c.detachEvent(mf(d),_):c.addListener&&c.removeListener&&c.removeListener(_),(d=tu(c))?(mr(d,a),d.h==0&&(d.src=null,c[In]=null)):z(a)}}}function mf(a){return a in Zl?Zl[a]:Zl[a]="on"+a}function aw(a,c){if(a.da)a=!0;else{c=new xe(c,this);const d=a.listener,_=a.ha||a.src;a.fa&&eu(a),a=d.call(_,c)}return a}function tu(a){return a=a[In],a instanceof kt?a:null}var nu="__closure_events_fn_"+(Math.random()*1e9>>>0);function ru(a){return typeof a=="function"?a:(a[nu]||(a[nu]=function(c){return a.handleEvent(c)}),a[nu])}function Ye(){x.call(this),this.i=new kt(this),this.M=this,this.G=null}p(Ye,x),Ye.prototype[Te]=!0,Ye.prototype.removeEventListener=function(a,c,d,_){pf(this,a,c,d,_)};function it(a,c){var d,_=a.G;if(_)for(d=[];_;_=_.G)d.push(_);if(a=a.M,_=c.type||c,typeof c=="string")c=new A(c,a);else if(c instanceof A)c.target=c.target||a;else{var V=c;c=new A(_,a),pr(c,V)}V=!0;let M,U;if(d)for(U=d.length-1;U>=0;U--)M=c.g=d[U],V=Po(M,_,!0,c)&&V;if(M=c.g=a,V=Po(M,_,!0,c)&&V,V=Po(M,_,!1,c)&&V,d)for(U=0;U<d.length;U++)M=c.g=d[U],V=Po(M,_,!1,c)&&V}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var a=this.i;for(const c in a.g){const d=a.g[c];for(let _=0;_<d.length;_++)z(d[_]);delete a.g[c],a.h--}}this.G=null},Ye.prototype.J=function(a,c,d,_){return this.i.add(String(a),c,!1,d,_)},Ye.prototype.K=function(a,c,d,_){return this.i.add(String(a),c,!0,d,_)};function Po(a,c,d,_){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();let V=!0;for(let M=0;M<c.length;++M){const U=c[M];if(U&&!U.da&&U.capture==d){const X=U.listener,Le=U.ha||U.src;U.fa&&mr(a.i,U),V=X.call(Le,_)!==!1&&V}}return V&&!_.defaultPrevented}function lw(a,c){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:o.setTimeout(a,c||0)}function gf(a){a.g=lw(()=>{a.g=null,a.i&&(a.i=!1,gf(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class uw extends x{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:gf(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(a){x.call(this),this.h=a,this.g={}}p(Gi,x);var _f=[];function yf(a){K(a.g,function(c,d){this.g.hasOwnProperty(d)&&eu(c)},a),a.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),yf(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=o.JSON.stringify,cw=o.JSON.parse,hw=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function vf(){}function wf(){}var Qi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function su(){A.call(this,"d")}p(su,A);function ou(){A.call(this,"c")}p(ou,A);var gr={},Ef=null;function Ro(){return Ef=Ef||new Ye}gr.Ia="serverreachability";function Sf(a){A.call(this,gr.Ia,a)}p(Sf,A);function Yi(a){const c=Ro();it(c,new Sf(c))}gr.STAT_EVENT="statevent";function Tf(a,c){A.call(this,gr.STAT_EVENT,a),this.stat=c}p(Tf,A);function st(a){const c=Ro();it(c,new Tf(c,a))}gr.Ja="timingevent";function If(a,c){A.call(this,gr.Ja,a),this.size=c}p(If,A);function Ji(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},c)}function Xi(){this.g=!0}Xi.prototype.ua=function(){this.g=!1};function dw(a,c,d,_,V,M){a.info(function(){if(a.g)if(M){var U="",X=M.split("&");for(let ae=0;ae<X.length;ae++){var Le=X[ae].split("=");if(Le.length>1){const Be=Le[0];Le=Le[1];const Wt=Be.split("_");U=Wt.length>=2&&Wt[1]=="type"?U+(Be+"="+Le+"&"):U+(Be+"=redacted&")}}}else U=null;else U=M;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+c+`
`+d+`
`+U})}function fw(a,c,d,_,V,M,U){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+c+`
`+d+`
`+M+" "+U})}function qr(a,c,d,_){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+mw(a,d)+(_?" "+_:"")})}function pw(a,c){a.info(function(){return"TIMEOUT: "+c})}Xi.prototype.info=function(){};function mw(a,c){if(!a.g)return c;if(!c)return null;try{const M=JSON.parse(c);if(M){for(a=0;a<M.length;a++)if(Array.isArray(M[a])){var d=M[a];if(!(d.length<2)){var _=d[1];if(Array.isArray(_)&&!(_.length<1)){var V=_[0];if(V!="noop"&&V!="stop"&&V!="close")for(let U=1;U<_.length;U++)_[U]=""}}}}return iu(M)}catch{return c}}var Do={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xf;function au(){}p(au,vf),au.prototype.g=function(){return new XMLHttpRequest},xf=new au;function Zi(a){return encodeURIComponent(String(a))}function gw(a){var c=1;a=a.split(":");const d=[];for(;c>0&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function kn(a,c,d,_){this.j=a,this.i=c,this.l=d,this.S=_||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Af}function Af(){this.i=null,this.g="",this.h=!1}var bf={},lu={};function uu(a,c,d){a.M=1,a.A=No(qt(c)),a.u=d,a.R=!0,Cf(a,null)}function Cf(a,c){a.F=Date.now(),Vo(a),a.B=qt(a.A);var d=a.B,_=a.S;Array.isArray(_)||(_=[String(_)]),zf(d.i,"t",_),a.C=0,d=a.j.L,a.h=new Af,a.g=op(a.j,d?c:null,!a.u),a.P>0&&(a.O=new uw(h(a.Y,a,a.g),a.P)),c=a.V,d=a.g,_=a.ba;var V="readystatechange";Array.isArray(V)||(V&&(_f[0]=V.toString()),V=_f);for(let M=0;M<V.length;M++){const U=hf(d,V[M],_||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=a.J?ge(a.J):{},a.u?(a.v||(a.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,c)):(a.v="GET",a.g.ea(a.B,a.v,null,c)),Yi(),dw(a.i,a.v,a.B,a.l,a.S,a.u)}kn.prototype.ba=function(a){a=a.target;const c=this.O;c&&bn(a)==3?c.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{const X=bn(this.g),Le=this.g.ya(),ae=this.g.ca();if(!(X<3)&&(X!=3||this.g&&(this.h.h||this.g.la()||Qf(this.g)))){this.K||X!=4||Le==7||(Le==8||ae<=0?Yi(3):Yi(2)),cu(this);var c=this.g.ca();this.X=c;var d=_w(this);if(this.o=c==200,fw(this.i,this.v,this.B,this.l,this.S,X,c),this.o){if(this.U&&!this.L){t:{if(this.g){var _,V=this.g;if((_=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(_)){var M=_;break t}}M=null}if(a=M)qr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hu(this,a);else{this.o=!1,this.m=3,st(12),_r(this),es(this);break e}}if(this.R){a=!0;let Be;for(;!this.K&&this.C<d.length;)if(Be=yw(this,d),Be==lu){X==4&&(this.m=4,st(14),a=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==bf){this.m=4,st(15),qr(this.i,this.l,d,"[Invalid Chunk]"),a=!1;break}else qr(this.i,this.l,Be,null),hu(this,Be);if(Pf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),X!=4||d.length!=0||this.h.h||(this.m=1,st(16),a=!1),this.o=this.o&&a,!a)qr(this.i,this.l,d,"[Invalid Chunked Response]"),_r(this),es(this);else if(d.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),vu(U),U.P=!0,st(11))}}else qr(this.i,this.l,d,null),hu(this,d);X==4&&_r(this),this.o&&!this.K&&(X==4?np(this.j,this):(this.o=!1,Vo(this)))}else Dw(this.g),c==400&&d.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),_r(this),es(this)}}}catch{}finally{}};function _w(a){if(!Pf(a))return a.g.la();const c=Qf(a.g);if(c==="")return"";let d="";const _=c.length,V=bn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return _r(a),es(a),"";a.h.i=new o.TextDecoder}for(let M=0;M<_;M++)a.h.h=!0,d+=a.h.i.decode(c[M],{stream:!(V&&M==_-1)});return c.length=0,a.h.g+=d,a.C=0,a.h.g}function Pf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function yw(a,c){var d=a.C,_=c.indexOf(`
`,d);return _==-1?lu:(d=Number(c.substring(d,_)),isNaN(d)?bf:(_+=1,_+d>c.length?lu:(c=c.slice(_,_+d),a.C=_+d,c)))}kn.prototype.cancel=function(){this.K=!0,_r(this)};function Vo(a){a.T=Date.now()+a.H,Rf(a,a.H)}function Rf(a,c){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ji(h(a.aa,a),c)}function cu(a){a.D&&(o.clearTimeout(a.D),a.D=null)}kn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(pw(this.i,this.B),this.M!=2&&(Yi(),st(17)),_r(this),this.m=2,es(this)):Rf(this,this.T-a)};function es(a){a.j.I==0||a.K||np(a.j,a)}function _r(a){cu(a);var c=a.O;c&&typeof c.dispose=="function"&&c.dispose(),a.O=null,yf(a.V),a.g&&(c=a.g,a.g=null,c.abort(),c.dispose())}function hu(a,c){try{var d=a.j;if(d.I!=0&&(d.g==a||du(d.h,a))){if(!a.L&&du(d.h,a)&&d.I==3){try{var _=d.Ba.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<a.F)Fo(d),Oo(d);else break e;yu(d),st(18)}}else d.xa=V[1],0<d.xa-d.K&&V[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Ji(h(d.Va,d),6e3));Nf(d.h)<=1&&d.ta&&(d.ta=void 0)}else vr(d,11)}else if((a.L||d.g==a)&&Fo(d),!k(c))for(V=d.Ba.g.parse(c),c=0;c<V.length;c++){let ae=V[c];const Be=ae[0];if(!(Be<=d.K))if(d.K=Be,ae=ae[1],d.I==2)if(ae[0]=="c"){d.M=ae[1],d.ba=ae[2];const Wt=ae[3];Wt!=null&&(d.ka=Wt,d.j.info("VER="+d.ka));const wr=ae[4];wr!=null&&(d.za=wr,d.j.info("SVER="+d.za));const Cn=ae[5];Cn!=null&&typeof Cn=="number"&&Cn>0&&(_=1.5*Cn,d.O=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const Pn=a.g;if(Pn){const Uo=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var M=_.h;M.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(fu(M,M.h),M.h=null))}if(_.G){const wu=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;wu&&(_.wa=wu,ce(_.J,_.G,wu))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-a.F,d.j.info("Handshake RTT: "+d.T+"ms")),_=d;var U=a;if(_.na=sp(_,_.L?_.ba:null,_.W),U.L){Mf(_.h,U);var X=U,Le=_.O;Le&&(X.H=Le),X.D&&(cu(X),Vo(X)),_.g=U}else ep(_);d.i.length>0&&jo(d)}else ae[0]!="stop"&&ae[0]!="close"||vr(d,7);else d.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?vr(d,7):_u(d):ae[0]!="noop"&&d.l&&d.l.qa(ae),d.A=0)}}Yi(4)}catch{}}var vw=class{constructor(a,c){this.g=a,this.map=c}};function Df(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Nf(a){return a.h?1:a.g?a.g.size:0}function du(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function fu(a,c){a.g?a.g.add(c):a.h=c}function Mf(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}Df.prototype.cancel=function(){if(this.i=Lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Lf(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.G);return c}return w(a.i)}var Of=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ww(a,c){if(a){a=a.split("&");for(let d=0;d<a.length;d++){const _=a[d].indexOf("=");let V,M=null;_>=0?(V=a[d].substring(0,_),M=a[d].substring(_+1)):V=a[d],c(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function xn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;a instanceof xn?(this.l=a.l,ts(this,a.j),this.o=a.o,this.g=a.g,ns(this,a.u),this.h=a.h,pu(this,$f(a.i)),this.m=a.m):a&&(c=String(a).match(Of))?(this.l=!1,ts(this,c[1]||"",!0),this.o=rs(c[2]||""),this.g=rs(c[3]||"",!0),ns(this,c[4]),this.h=rs(c[5]||"",!0),pu(this,c[6]||"",!0),this.m=rs(c[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}xn.prototype.toString=function(){const a=[];var c=this.j;c&&a.push(is(c,jf,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(is(c,jf,!0),"@"),a.push(Zi(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&a.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(is(d,d.charAt(0)=="/"?Tw:Sw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",is(d,kw)),a.join("")},xn.prototype.resolve=function(a){const c=qt(this);let d=!!a.j;d?ts(c,a.j):d=!!a.o,d?c.o=a.o:d=!!a.g,d?c.g=a.g:d=a.u!=null;var _=a.h;if(d)ns(c,a.u);else if(d=!!a.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var V=c.h.lastIndexOf("/");V!=-1&&(_=c.h.slice(0,V+1)+_)}if(V=_,V==".."||V==".")_="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){_=V.lastIndexOf("/",0)==0,V=V.split("/");const M=[];for(let U=0;U<V.length;){const X=V[U++];X=="."?_&&U==V.length&&M.push(""):X==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),_&&U==V.length&&M.push("")):(M.push(X),_=!0)}_=M.join("/")}else _=V}return d?c.h=_:d=a.i.toString()!=="",d?pu(c,$f(a.i)):d=!!a.m,d&&(c.m=a.m),c};function qt(a){return new xn(a)}function ts(a,c,d){a.j=d?rs(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function ns(a,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);a.u=c}else a.u=null}function pu(a,c,d){c instanceof ss?(a.i=c,xw(a.i,a.l)):(d||(c=is(c,Iw)),a.i=new ss(c,a.l))}function ce(a,c,d){a.i.set(c,d)}function No(a){return ce(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function rs(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function is(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,Ew),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ew(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jf=/[#\/\?@]/g,Sw=/[#\?:]/g,Tw=/[#\?]/g,Iw=/[#\?@]/g,kw=/#/g;function ss(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function yr(a){a.g||(a.g=new Map,a.h=0,a.i&&ww(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=ss.prototype,t.add=function(a,c){yr(this),this.i=null,a=Wr(this,a);let d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function Ff(a,c){yr(a),c=Wr(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Bf(a,c){return yr(a),c=Wr(a,c),a.g.has(c)}t.forEach=function(a,c){yr(this),this.g.forEach(function(d,_){d.forEach(function(V){a.call(c,V,_,this)},this)},this)};function Uf(a,c){yr(a);let d=[];if(typeof c=="string")Bf(a,c)&&(d=d.concat(a.g.get(Wr(a,c))));else for(a=Array.from(a.g.values()),c=0;c<a.length;c++)d=d.concat(a[c]);return d}t.set=function(a,c){return yr(this),this.i=null,a=Wr(this,a),Bf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=Uf(this,a),a.length>0?String(a[0]):c):c};function zf(a,c,d){Ff(a,c),d.length>0&&(a.i=null,a.g.set(Wr(a,c),w(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(let _=0;_<c.length;_++){var d=c[_];const V=Zi(d);d=Uf(this,d);for(let M=0;M<d.length;M++){let U=V;d[M]!==""&&(U+="="+Zi(d[M])),a.push(U)}}return this.i=a.join("&")};function $f(a){const c=new ss;return c.i=a.i,a.g&&(c.g=new Map(a.g),c.h=a.h),c}function Wr(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function xw(a,c){c&&!a.j&&(yr(a),a.i=null,a.g.forEach(function(d,_){const V=_.toLowerCase();_!=V&&(Ff(this,_),zf(this,V,d))},a)),a.j=c}function Aw(a,c){const d=new Xi;if(o.Image){const _=new Image;_.onload=f(An,d,"TestLoadImage: loaded",!0,c,_),_.onerror=f(An,d,"TestLoadImage: error",!1,c,_),_.onabort=f(An,d,"TestLoadImage: abort",!1,c,_),_.ontimeout=f(An,d,"TestLoadImage: timeout",!1,c,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else c(!1)}function bw(a,c){const d=new Xi,_=new AbortController,V=setTimeout(()=>{_.abort(),An(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:_.signal}).then(M=>{clearTimeout(V),M.ok?An(d,"TestPingServer: ok",!0,c):An(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),An(d,"TestPingServer: error",!1,c)})}function An(a,c,d,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(d)}catch{}}function Cw(){this.g=new hw}function mu(a){this.i=a.Sb||null,this.h=a.ab||!1}p(mu,vf),mu.prototype.g=function(){return new Mo(this.i,this.h)};function Mo(a,c){Ye.call(this),this.H=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Mo,Ye),t=Mo.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=c,this.readyState=1,as(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(c.body=a),(this.H||o).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qf(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function qf(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?os(this):as(this),this.readyState==3&&qf(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,os(this))},t.Na=function(a){this.g&&(this.response=a,os(this))},t.ga=function(){this.g&&os(this)};function os(a){a.readyState=4,a.l=null,a.j=null,a.B=null,as(a)}t.setRequestHeader=function(a,c){this.A.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function as(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Wf(a){let c="";return K(a,function(d,_){c+=_,c+=":",c+=d,c+=`\r
`}),c}function gu(a,c,d){e:{for(_ in d){var _=!1;break e}_=!0}_||(d=Wf(d),typeof a=="string"?d!=null&&Zi(d):ce(a,c,d))}function Ie(a){Ye.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ie,Ye);var Pw=/^https?$/i,Rw=["POST","PUT"];t=Ie.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,c,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xf.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(M){Hf(this,M);return}if(a=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)d.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())d.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(M=>M.toLowerCase()=="content-type"),V=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Rw,c,void 0)>=0)||_||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,U]of d)this.g.setRequestHeader(M,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(M){Hf(this,M)}};function Hf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.o=5,Kf(a),Lo(a)}function Kf(a){a.A||(a.A=!0,it(a,"complete"),it(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,it(this,"complete"),it(this,"abort"),Lo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lo(this,!0)),Ie.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gf(this):this.Xa())},t.Xa=function(){Gf(this)};function Gf(a){if(a.h&&typeof s<"u"){if(a.v&&bn(a)==4)setTimeout(a.Ca.bind(a),0);else if(it(a,"readystatechange"),bn(a)==4){a.h=!1;try{const M=a.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var _;if(_=M===0){let U=String(a.D).match(Of)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),_=!Pw.test(U?U.toLowerCase():"")}d=_}if(d)it(a,"complete"),it(a,"success");else{a.o=6;try{var V=bn(a)>2?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.ca()+"]",Kf(a)}}finally{Lo(a)}}}}function Lo(a,c){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const d=a.g;a.g=null,c||it(a,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return bn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),cw(c)}};function Qf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Dw(a){const c={};a=(a.g&&bn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(k(a[_]))continue;var d=gw(a[_]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const M=c[V]||[];c[V]=M,M.push(d)}J(c,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Yf(a){this.za=0,this.i=[],this.j=new Xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ls("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ls("baseRetryDelayMs",5e3,a),this.Za=ls("retryDelaySeedMs",1e4,a),this.Ta=ls("forwardChannelMaxRetries",2,a),this.va=ls("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Df(a&&a.concurrentRequestLimit),this.Ba=new Cw,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Yf.prototype,t.ka=8,t.I=1,t.connect=function(a,c,d,_){st(0),this.W=a,this.H=c||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.J=sp(this,null,this.W),jo(this)};function _u(a){if(Jf(a),a.I==3){var c=a.V++,d=qt(a.J);if(ce(d,"SID",a.M),ce(d,"RID",c),ce(d,"TYPE","terminate"),us(a,d),c=new kn(a,a.j,c),c.M=2,c.A=No(qt(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(c.A.toString(),"")}catch{}!d&&o.Image&&(new Image().src=c.A,d=!0),d||(c.g=op(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Vo(c)}ip(a)}function Oo(a){a.g&&(vu(a),a.g.cancel(),a.g=null)}function Jf(a){Oo(a),a.v&&(o.clearTimeout(a.v),a.v=null),Fo(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function jo(a){if(!Vf(a.h)&&!a.m){a.m=!0;var c=a.Ea;L||y(),F||(L(),F=!0),S.add(c,a),a.D=0}}function Vw(a,c){return Nf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=c.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ji(h(a.Ea,a,c),rp(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const V=new kn(this,this.j,a);let M=this.o;if(this.U&&(M?(M=ge(M),pr(M,this.U)):M=this.U),this.u!==null||this.R||(V.J=M,M=null),this.S)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(c+=_,c>4096){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Zf(this,V,c),d=qt(this.J),ce(d,"RID",a),ce(d,"CVER",22),this.G&&ce(d,"X-HTTP-Session-Id",this.G),us(this,d),M&&(this.R?c="headers="+Zi(Wf(M))+"&"+c:this.u&&gu(d,this.u,M)),fu(this.h,V),this.Ra&&ce(d,"TYPE","init"),this.S?(ce(d,"$req",c),ce(d,"SID","null"),V.U=!0,uu(V,d,null)):uu(V,d,c),this.I=2}}else this.I==3&&(a?Xf(this,a):this.i.length==0||Vf(this.h)||Xf(this))};function Xf(a,c){var d;c?d=c.l:d=a.V++;const _=qt(a.J);ce(_,"SID",a.M),ce(_,"RID",d),ce(_,"AID",a.K),us(a,_),a.u&&a.o&&gu(_,a.u,a.o),d=new kn(a,a.j,d,a.D+1),a.u===null&&(d.J=a.o),c&&(a.i=c.G.concat(a.i)),c=Zf(a,d,1e3),d.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),fu(a.h,d),uu(d,_,c)}function us(a,c){a.H&&K(a.H,function(d,_){ce(c,_,d)}),a.l&&K({},function(d,_){ce(c,_,d)})}function Zf(a,c,d){d=Math.min(a.i.length,d);const _=a.l?h(a.l.Ka,a.l,a):null;e:{var V=a.i;let X=-1;for(;;){const Le=["count="+d];X==-1?d>0?(X=V[0].g,Le.push("ofs="+X)):X=0:Le.push("ofs="+X);let ae=!0;for(let Be=0;Be<d;Be++){var M=V[Be].g;const Wt=V[Be].map;if(M-=X,M<0)X=Math.max(0,V[Be].g-100),ae=!1;else try{M="req"+M+"_"||"";try{var U=Wt instanceof Map?Wt:Object.entries(Wt);for(const[wr,Cn]of U){let Pn=Cn;l(Cn)&&(Pn=iu(Cn)),Le.push(M+wr+"="+encodeURIComponent(Pn))}}catch(wr){throw Le.push(M+"type="+encodeURIComponent("_badmap")),wr}}catch{_&&_(Wt)}}if(ae){U=Le.join("&");break e}}U=void 0}return a=a.i.splice(0,d),c.G=a,U}function ep(a){if(!a.g&&!a.v){a.Y=1;var c=a.Da;L||y(),F||(L(),F=!0),S.add(c,a),a.A=0}}function yu(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ji(h(a.Da,a),rp(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,tp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ji(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),Oo(this),tp(this))};function vu(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function tp(a){a.g=new kn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var c=qt(a.na);ce(c,"RID","rpc"),ce(c,"SID",a.M),ce(c,"AID",a.K),ce(c,"CI",a.F?"0":"1"),!a.F&&a.ia&&ce(c,"TO",a.ia),ce(c,"TYPE","xmlhttp"),us(a,c),a.u&&a.o&&gu(c,a.u,a.o),a.O&&(a.g.H=a.O);var d=a.g;a=a.ba,d.M=1,d.A=No(qt(c)),d.u=null,d.R=!0,Cf(d,a)}t.Va=function(){this.C!=null&&(this.C=null,Oo(this),yu(this),st(19))};function Fo(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function np(a,c){var d=null;if(a.g==c){Fo(a),vu(a),a.g=null;var _=2}else if(du(a.h,c))d=c.G,Mf(a.h,c),_=1;else return;if(a.I!=0){if(c.o)if(_==1){d=c.u?c.u.length:0,c=Date.now()-c.F;var V=a.D;_=Ro(),it(_,new If(_,d)),jo(a)}else ep(a);else if(V=c.m,V==3||V==0&&c.X>0||!(_==1&&Vw(a,c)||_==2&&yu(a)))switch(d&&d.length>0&&(c=a.h,c.i=c.i.concat(d)),V){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function rp(a,c){let d=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(d*=2),d*c}function vr(a,c){if(a.j.info("Error code "+c),c==2){var d=h(a.bb,a),_=a.Ua;const V=!_;_=new xn(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ts(_,"https"),No(_),V?Aw(_.toString(),d):bw(_.toString(),d)}else st(2);a.I=0,a.l&&a.l.pa(c),ip(a),Jf(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ip(a){if(a.I=0,a.ja=[],a.l){const c=Lf(a.h);(c.length!=0||a.i.length!=0)&&(P(a.ja,c),P(a.ja,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.oa()}}function sp(a,c,d){var _=d instanceof xn?qt(d):new xn(d);if(_.g!="")c&&(_.g=c+"."+_.g),ns(_,_.u);else{var V=o.location;_=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;const M=new xn(null);_&&ts(M,_),c&&(M.g=c),V&&ns(M,V),d&&(M.h=d),_=M}return d=a.G,c=a.wa,d&&c&&ce(_,d,c),ce(_,"VER",a.ka),us(a,_),_}function op(a,c,d){if(c&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Aa&&!a.ma?new Ie(new mu({ab:d})):new Ie(a.ma),c.Fa(a.L),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ap(){}t=ap.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bo(){}Bo.prototype.g=function(a,c){return new _t(a,c)};function _t(a,c){Ye.call(this),this.g=new Yf(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(a?a["X-WebChannel-Client-Profile"]=c.sa:a={"X-WebChannel-Client-Profile":c.sa}),this.g.U=a,(a=c&&c.Qb)&&!k(a)&&(this.g.u=a),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!k(c)&&(this.g.G=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Hr(this)}p(_t,Ye),_t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){_u(this.g)},_t.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.v&&(d={},d.__data__=iu(a),a=d);c.i.push(new vw(c.Ya++,a)),c.I==3&&jo(c)},_t.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,_t.Z.N.call(this)};function lp(a){su.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}p(lp,su);function up(){ou.call(this),this.status=1}p(up,ou);function Hr(a){this.g=a}p(Hr,ap),Hr.prototype.ra=function(){it(this.g,"a")},Hr.prototype.qa=function(a){it(this.g,new lp(a))},Hr.prototype.pa=function(a){it(this.g,new up)},Hr.prototype.oa=function(){it(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Vv=function(){return new Bo},Dv=function(){return Ro()},Rv=gr,ah={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,Ia=Do,kf.COMPLETE="complete",Pv=kf,wf.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,ks=wf,Ie.prototype.listenOnce=Ie.prototype.K,Ie.prototype.getLastError=Ie.prototype.Ha,Ie.prototype.getLastErrorCode=Ie.prototype.ya,Ie.prototype.getStatus=Ie.prototype.ca,Ie.prototype.getResponseJson=Ie.prototype.La,Ie.prototype.getResponseText=Ie.prototype.la,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Fa,Cv=Ie}).apply(typeof sa<"u"?sa:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="12.8.0";function mk(t){$i=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Sv("@firebase/firestore");function Gr(){return Or.logLevel}function q(t,...e){if(Or.logLevel<=re.DEBUG){const n=e.map(Ad);Or.debug(`Firestore (${$i}): ${t}`,...n)}}function wn(t,...e){if(Or.logLevel<=re.ERROR){const n=e.map(Ad);Or.error(`Firestore (${$i}): ${t}`,...n)}}function bi(t,...e){if(Or.logLevel<=re.WARN){const n=e.map(Ad);Or.warn(`Firestore (${$i}): ${t}`,...n)}}function Ad(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Nv(t,r,n)}function Nv(t,e,n){let r=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wn(r),new Error(r)}function se(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Nv(e,i,r)}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class _k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yk{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){se(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new Mv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string",2055,{h:e}),new et(e)}}class vk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ek{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){se(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Sk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function lh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xu(i)===Xu(s)?ee(i,s):Xu(i)?1:-1}return ee(t.length,e.length)}const Tk=55296,Ik=57343;function Xu(t){const e=t.charCodeAt(0);return e>=Tk&&e<=Ik}function Ci(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="__name__";class Yt{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&G(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Yt.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ee(e.length,n.length)}static compareSegments(e,n){const r=Yt.isNumericId(e),i=Yt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yt.extractNumericId(e).compare(Yt.extractNumericId(n)):lh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}}class le extends Yt{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const kk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends Yt{construct(e,n,r){return new He(e,n,r)}static isValidIdentifier(e){return kk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Um}static keyField(){return new He([Um])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(le.fromString(e))}static fromName(e){return new H(le.fromString(e).popFirst(5))}static empty(){return new H(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xk(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zm(t){if(!H.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $m(t){if(H.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ov(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G(12329,{type:typeof t})}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fl(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e){const n={typeString:t};return e&&(n.value=e),n}function Io(t,e){if(!Ov(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-62135596800,Wm=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(e){return fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Wm);return new fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qm)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wm}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Io(e,fe._jsonSchema))return new fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ne("string",fe._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{static fromTimestamp(e){return new Q(e)}static min(){return new Q(new fe(0,0))}static max(){return new Q(new fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function Ak(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new fe(n+1,0):new fe(n,r));return new nr(i,H.empty(),e)}function bk(t){return new nr(t.readTime,t.key,co)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(Q.min(),H.empty(),co)}static max(){return new nr(Q.max(),H.empty(),co)}}function Ck(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==Pk)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Dk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function Ul(t){return t==null}function ul(t){return t===0&&1/t==-1/0}function Vk(t){return typeof t=="number"&&Number.isInteger(t)&&!ul(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="";function Nk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hm(e)),e=Mk(t.get(n),e);return Hm(e)}function Mk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case jv:n+="";break;default:n+=s}}return n}function Hm(t){return t+jv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}}class oa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??We.EMPTY,this.right=s??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new We(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new We(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gm(this.data.getIterator())}getIteratorFrom(e){return new Gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class Gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new wt([])}unionWith(e){let n=new Fe(He.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ci(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bv("Invalid base64 string: "+s):s}}(e);return new Qe(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(se(!!t,39018),typeof t=="string"){let e=0;const n=Lk.exec(t);if(se(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?Qe.fromBase64String(t):Qe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="server_timestamp",zv="__type__",$v="__previous_value__",qv="__local_write_time__";function Pd(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zv])==null?void 0:r.stringValue)===Uv}function zl(t){const e=t.mapValue.fields[$v];return Pd(e)?zl(e):e}function ho(t){const e=rr(t.mapValue.fields[qv].timestampValue);return new fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i,s,o,l,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=p}}const cl="(default)";class fo{constructor(e,n){this.projectId=e,this.database=n||cl}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===cl}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function jk(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__type__",Hv="__max__",aa={mapValue:{fields:{__type__:{stringValue:Hv}}}},Kv="__vector__",hl="value";function sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pd(t)?4:Bk(t)?9007199254740991:Fk(t)?10:11:G(28295,{value:t})}function on(t,e){if(t===e)return!0;const n=sr(t);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ho(t).isEqual(ho(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rr(i.timestampValue),l=rr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ir(i.bytesValue).isEqual(ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ce(i.doubleValue),l=Ce(s.doubleValue);return o===l?ul(o)===ul(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ci(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Km(o)!==Km(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!on(o[u],l[u])))return!1;return!0}(t,e);default:return G(52216,{left:t})}}function po(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function Pi(t,e){if(t===e)return 0;const n=sr(t),r=sr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ce(s.integerValue||s.doubleValue),u=Ce(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Qm(t.timestampValue,e.timestampValue);case 4:return Qm(ho(t),ho(e));case 5:return lh(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ir(s),u=ir(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=ee(l[h],u[h]);if(f!==0)return f}return ee(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ee(Ce(s.latitude),Ce(o.latitude));return l!==0?l:ee(Ce(s.longitude),Ce(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ym(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,w,P,b;const l=s.fields||{},u=o.fields||{},h=(m=l[hl])==null?void 0:m.arrayValue,f=(w=u[hl])==null?void 0:w.arrayValue,p=ee(((P=h==null?void 0:h.values)==null?void 0:P.length)||0,((b=f==null?void 0:f.values)==null?void 0:b.length)||0);return p!==0?p:Ym(h,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===aa.mapValue&&o===aa.mapValue)return 0;if(s===aa.mapValue)return 1;if(o===aa.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=lh(u[p],f[p]);if(m!==0)return m;const w=Pi(l[u[p]],h[f[p]]);if(w!==0)return w}return ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw G(23264,{he:n})}}function Qm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=rr(t),r=rr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Ym(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Pi(n[i],r[i]);if(s)return s}return ee(n.length,r.length)}function Ri(t){return uh(t)}function uh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uh(n.fields[o])}`;return i+"}"}(t.mapValue):G(61005,{value:t})}function ka(t){switch(sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zl(t);return e?16+ka(e):16;case 5:return 2*t.stringValue.length;case 6:return ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ka(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return dr(r.fields,(s,o)=>{i+=s.length+ka(o)}),i}(t.mapValue);default:throw G(13486,{value:t})}}function Jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ch(t){return!!t&&"integerValue"in t}function Rd(t){return!!t&&"arrayValue"in t}function Xm(t){return!!t&&"nullValue"in t}function Zm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xa(t){return!!t&&"mapValue"in t}function Fk(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Wv])==null?void 0:r.stringValue)===Kv}function Fs(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fs(t.arrayValue.values[n]);return e}return{...t}}function Bk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.value=e}static empty(){return new dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(n)}setAll(e){let n=He.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Fs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dt(Fs(this.value))}}function Gv(t){const e=[];return dr(t.fields,(n,r)=>{const i=new He([n]);if(xa(r)){const s=Gv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new nt(e,0,Q.min(),Q.min(),Q.min(),dt.empty(),0)}static newFoundDocument(e,n,r,i){return new nt(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new nt(e,2,n,Q.min(),Q.min(),dt.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,Q.min(),Q.min(),dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Pi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class Ve extends Qv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $k(e,n,r):n==="array-contains"?new Hk(e,r):n==="in"?new Kk(e,r):n==="not-in"?new Gk(e,r):n==="array-contains-any"?new Qk(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qk(e,r):new Wk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pi(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(Pi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends Qv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $t(e,n)}matches(e){return Yv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yv(t){return t.op==="and"}function Jv(t){return zk(t)&&Yv(t)}function zk(t){for(const e of t.filters)if(e instanceof $t)return!1;return!0}function hh(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Ri(t.value);if(Jv(t))return t.filters.map(e=>hh(e)).join(",");{const e=t.filters.map(n=>hh(n)).join(",");return`${t.op}(${e})`}}function Xv(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&on(r.value,i.value)}(t,e):t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Xv(o,i.filters[l]),!0):!1}(t,e):void G(19439)}function Zv(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Ri(n.value)}`}(t):t instanceof $t?function(n){return n.op.toString()+" {"+n.getFilters().map(Zv).join(" ,")+"}"}(t):"Filter"}class $k extends Ve{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class qk extends Ve{constructor(e,n){super(e,"in",n),this.keys=e0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wk extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=e0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e0(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class Hk extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rd(n)&&po(n.arrayValue,this.value)}}class Kk extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&po(this.value.arrayValue,n)}}class Gk extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!po(this.value.arrayValue,n)}}class Qk extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>po(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function ng(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Yk(t,e,n,r,i,s,o)}function Dd(t){const e=Y(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ri(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ri(r)).join(",")),e.Te=n}return e.Te}function Vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function dh(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jk(t,e,n,r,i,s,o,l){return new Hi(t,e,n,r,i,s,o,l)}function Nd(t){return new Hi(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xk(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function t0(t){return t.collectionGroup!==null}function Bs(t){const e=Y(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Fe(He.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new mo(s,r))}),n.has(He.keyField().canonicalString())||e.Ie.push(new mo(He.keyField(),r))}return e.Ie}function tn(t){const e=Y(t);return e.Ee||(e.Ee=Zk(e,Bs(t))),e.Ee}function Zk(t,e){if(t.limitType==="F")return ng(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new mo(i.field,s)});const n=t.endAt?new dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dl(t.startAt.position,t.startAt.inclusive):null;return ng(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fh(t,e){const n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ex(t,e){const n=t.explicitOrderBy.concat([e]);return new Hi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ph(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $l(t,e){return Vd(tn(t),tn(e))&&t.limitType===e.limitType}function n0(t){return`${Dd(tn(t))}|lt:${t.limitType}`}function Qr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zv(i)).join(", ")}]`),Ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ri(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ri(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function ql(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Bs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=eg(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Bs(r),i)||r.endAt&&!function(o,l,u){const h=eg(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Bs(r),i))}(t,e)}function tx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r0(t){return(e,n)=>{let r=!1;for(const i of Bs(t)){const s=nx(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nx(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Pi(u,h):G(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Se(H.comparator);function En(){return rx}const i0=new Se(H.comparator);function xs(...t){let e=i0;for(const n of t)e=e.insert(n.key,n);return e}function s0(t){let e=i0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Us()}function o0(){return Us()}function Us(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}const ix=new Se(H.comparator),sx=new Fe(H.comparator);function te(...t){let e=sx;for(const n of t)e=e.add(n);return e}const ox=new Fe(ee);function ax(){return ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(e)?"-0":e}}function a0(t){return{integerValue:""+t}}function lx(t,e){return Vk(e)?a0(e):Md(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this._=void 0}}function ux(t,e,n){return t instanceof fl?function(i,s){const o={fields:{[zv]:{stringValue:Uv},[qv]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pd(s)&&(s=zl(s)),s&&(o.fields[$v]=s),{mapValue:o}}(n,e):t instanceof go?u0(t,e):t instanceof _o?c0(t,e):function(i,s){const o=l0(i,s),l=ig(o)+ig(i.Ae);return ch(o)&&ch(i.Ae)?a0(l):Md(i.serializer,l)}(t,e)}function cx(t,e,n){return t instanceof go?u0(t,e):t instanceof _o?c0(t,e):n}function l0(t,e){return t instanceof pl?function(r){return ch(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fl extends Wl{}class go extends Wl{constructor(e){super(),this.elements=e}}function u0(t,e){const n=h0(e);for(const r of t.elements)n.some(i=>on(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends Wl{constructor(e){super(),this.elements=e}}function c0(t,e){let n=h0(e);for(const r of t.elements)n=n.filter(i=>!on(i,r));return{arrayValue:{values:n}}}class pl extends Wl{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ig(t){return Ce(t.integerValue||t.doubleValue)}function h0(t){return Rd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof go&&i instanceof go||r instanceof _o&&i instanceof _o?Ci(r.elements,i.elements,on):r instanceof pl&&i instanceof pl?on(r.Ae,i.Ae):r instanceof fl&&i instanceof fl}(t.transform,e.transform)}class dx{constructor(e,n){this.version=e,this.transformResults=n}}class Bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Aa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hl{}function d0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ld(t.key,Bt.none()):new ko(t.key,t.data,Bt.none());{const n=t.data,r=dt.empty();let i=new Fe(He.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fr(t.key,r,new wt(i.toArray()),Bt.none())}}function fx(t,e,n){t instanceof ko?function(i,s,o){const l=i.value.clone(),u=og(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,s,o){if(!Aa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=og(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(f0(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zs(t,e,n,r){return t instanceof ko?function(s,o,l,u){if(!Aa(s.precondition,o))return l;const h=s.value.clone(),f=ag(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(s,o,l,u){if(!Aa(s.precondition,o))return l;const h=ag(s.fieldTransforms,u,o),f=o.data;return f.setAll(f0(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Aa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function px(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=l0(r.transform,i||null);s!=null&&(n===null&&(n=dt.empty()),n.set(r.field,s))}return n||null}function sg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ci(r,i,(s,o)=>hx(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ko extends Hl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fr extends Hl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function og(t,e,n){const r=new Map;se(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,cx(o,l,n[i]))}return r}function ag(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ux(s,o,e))}return r}class Ld extends Hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mx extends Hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fx(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=d0(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,(n,r)=>sg(n,r))&&Ci(this.baseMutations,e.baseMutations,(n,r)=>sg(n,r))}}class Od{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return ix}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Od(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,ne;function vx(t){switch(t){case O.OK:return G(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return G(15467,{code:t})}}function p0(t){if(t===void 0)return wn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Re.OK:return O.OK;case Re.CANCELLED:return O.CANCELLED;case Re.UNKNOWN:return O.UNKNOWN;case Re.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Re.INTERNAL:return O.INTERNAL;case Re.UNAVAILABLE:return O.UNAVAILABLE;case Re.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Re.NOT_FOUND:return O.NOT_FOUND;case Re.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Re.ABORTED:return O.ABORTED;case Re.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Re.DATA_LOSS:return O.DATA_LOSS;default:return G(39323,{code:t})}}(ne=Re||(Re={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Jn([4294967295,4294967295],0);function lg(t){const e=wx().encode(t),n=new bv;return n.update(e),new Uint8Array(n.digest())}function ug(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jn([n,r],0),new Jn([i,s],0)]}class jd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new As(`Invalid padding: ${n}`);if(r<0)throw new As(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new As(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new As(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jn.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jn.fromNumber(r)));return i.compare(Ex)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lg(e),[r,i]=ug(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jd(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=lg(e),[r,i]=ug(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class As extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kl(Q.min(),i,new Se(ee),En(),te())}}class xo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xo(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class m0{constructor(e,n){this.targetId=e,this.Ce=n}}class g0{constructor(e,n,r=Qe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cg{constructor(){this.ve=0,this.Fe=hg(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=te(),n=te(),r=te();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:s})}}),new xo(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=hg()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Sx{constructor(e){this.Ge=e,this.ze=new Map,this.je=En(),this.He=la(),this.Je=la(),this.Ze=new Se(ee)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(dh(s))if(r===0){const o=new H(s.path);this.et(n,o,nt.newNoDocument(o,Q.min()))}else se(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ir(r).toUint8Array()}catch(u){if(u instanceof Bv)return bi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jd(o,i,s)}catch(u){return bi(u instanceof As?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&dh(l.target)){const u=new H(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,nt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=te();this.Je.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Kl(e,n,this.Ze,this.je,r);return this.je=En(),this.He=la(),this.Je=la(),this.Ze=new Se(ee),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new cg,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Fe(ee),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Fe(ee),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function la(){return new Se(H.comparator)}function hg(){return new Se(H.comparator)}const Tx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ix=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),kx=(()=>({and:"AND",or:"OR"}))();class xx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mh(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function ml(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ax(t,e){return ml(t,e.toTimestamp())}function nn(t){return se(!!t,49232),Q.fromTimestamp(function(n){const r=rr(n);return new fe(r.seconds,r.nanos)}(t))}function Fd(t,e){return gh(t,e).canonicalString()}function gh(t,e){const n=function(i){return new le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function y0(t){const e=le.fromString(t);return se(T0(e),10190,{key:e.toString()}),e}function _h(t,e){return Fd(t.databaseId,e.path)}function Zu(t,e){const n=y0(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(w0(n))}function v0(t,e){return Fd(t.databaseId,e)}function bx(t){const e=y0(t);return e.length===4?le.emptyPath():w0(e)}function yh(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w0(t){return se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dg(t,e,n){return{name:_h(t,e),fields:n.value.mapValue.fields}}function Cx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:G(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(se(f===void 0||typeof f=="string",58123),Qe.fromBase64String(f||"")):(se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Qe.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?O.UNKNOWN:p0(h.code);return new $(f,h.message||"")}(o);n=new g0(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zu(t,r.document.name),s=nn(r.document.updateTime),o=r.document.createTime?nn(r.document.createTime):Q.min(),l=new dt({mapValue:{fields:r.document.fields}}),u=nt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new ba(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zu(t,r.document),s=r.readTime?nn(r.readTime):Q.min(),o=nt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ba([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zu(t,r.document),s=r.removedTargetIds||[];n=new ba([],s,i,null)}else{if(!("filter"in e))return G(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yx(i,s),l=r.targetId;n=new m0(l,o)}}return n}function Px(t,e){let n;if(e instanceof ko)n={update:dg(t,e.key,e.value)};else if(e instanceof Ld)n={delete:_h(t,e.key)};else if(e instanceof fr)n={update:dg(t,e.key,e.data),updateMask:Fx(e.fieldMask)};else{if(!(e instanceof mx))return G(16599,{dt:e.type});n={verify:_h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof fl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof go)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof _o)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pl)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw G(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ax(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G(27497)}(t,e.precondition)),n}function Rx(t,e){return t&&t.length>0?(se(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?nn(i.updateTime):nn(s);return o.isEqual(Q.min())&&(o=nn(s)),new dx(o,i.transformResults||[])}(n,e))):[]}function Dx(t,e){return{documents:[v0(t,e.path)]}}function Vx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v0(t,i);const s=function(h){if(h.length!==0)return S0($t.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:Yr(m.field),direction:Lx(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=mh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function Nx(t){let e=bx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=E0(p);return m instanceof $t&&Jv(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(P){return new mo(Jr(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Ul(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,w=p.values||[];return new dl(w,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,w=p.values||[];return new dl(w,m)}(n.endAt)),Jk(e,i,o,s,l,"F",u,h)}function Mx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jr(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jr(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jr(n.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jr(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Jr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $t.create(n.compositeFilter.filters.map(r=>E0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}}(n.compositeFilter.op))}(t):G(30097,{filter:t})}function Lx(t){return Tx[t]}function Ox(t){return Ix[t]}function jx(t){return kx[t]}function Yr(t){return{fieldPath:t.canonicalString()}}function Jr(t){return He.fromServerFormat(t.fieldPath)}function S0(t){return t instanceof Ve?function(n){if(n.op==="=="){if(Zm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NAN"}};if(Xm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NAN"}};if(Xm(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(n.field),op:Ox(n.op),value:n.value}}}(t):t instanceof $t?function(n){const r=n.getFilters().map(i=>S0(i));return r.length===1?r[0]:{compositeFilter:{op:jx(n.op),filters:r}}}(t):G(54877,{filter:t})}function Fx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function I0(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s=Q.min(),o=Q.min(),l=Qe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.yt=e}}function Ux(t){const e=Nx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Sn=new $x}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(nr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class $x{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k0=41943040;class ct{static withCacheSize(e){return new ct(e,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(k0,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Di(0)}static ar(){return new Di(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LruGarbageCollector",qx=1048576;function mg([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class Wx{constructor(e){this.Pr=e,this.buffer=new Fe(mg),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){q(pg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wi(n)?q(pg,"Ignoring IndexedDB error during garbage collection: ",n):await qi(n)}await this.Ar(3e5)})}}class Kx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Bl.ce);const r=new Wx(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(fg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fg):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Gr()<=re.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function Gx(t,e){return new Kx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zs(r.mutation,i,wt.empty(),fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xs();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=En();const o=Us(),l=function(){return Us()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof fr)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),zs(f.mutation,h,f.mutation.getFieldMask(),fe.now())):o.set(h.key,wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>l.set(h,new Yx(f,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Us();let i=new Se((o,l)=>o-l),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||wt.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(i.get(l.batchId)||te()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=o0();f.forEach(m=>{if(!s.has(m)){const w=d0(n.get(m),r.get(m));w!==null&&p.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Xk(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Ar());let l=co,u=s;return o.next(h=>j.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,te())).next(f=>({batchId:l,changes:s0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xs();return this.indexManager.getCollectionParents(e,s).next(l=>j.forEach(l,u=>{const h=function(p,m){return new Hi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,nt.newInvalidDocument(f)))});let l=xs();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&zs(f.mutation,h,wt.empty(),fe.now()),ql(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:Ux(i.bundledQuery),readTime:nn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.overlays=new Se(H.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),s=n.length+1,o=new H(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Ar(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return j.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _x(n,r));let s=this.Lr.get(n);s===void 0&&(s=te(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.kr=new Fe(Ue.Kr),this.qr=new Fe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ue(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ue(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new H(new le([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new H(new le([])),r=new Ue(n,e),i=new Ue(n,e+1);let s=te();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ue(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return H.comparator(e.key,n.key)||ee(e.Hr,n.Hr)}static Ur(e,n){return ee(e.Hr,n.Hr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ue.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gx(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Jr=this.Jr.add(new Ue(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Cd:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const l=this.Zr(o.Hr);s.push(l)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(ee);return n.forEach(i=>{const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],l=>{r=r.add(l.Hr)})}),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Ue(new H(s),0);let l=new Fe(ee);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Hr)),!0)},o),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(n.mutations,i=>{const s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Ue(n,0),i=this.Jr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.ti=e,this.docs=function(){return new Se(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=En();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=En();const o=n.path,l=new H(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Ck(bk(f),r)<=0||(i.has(f.key)||ql(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G(9500)}ni(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rA(this)}getSize(e){return j.resolve(this.size)}}class rA extends Qx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.persistence=e,this.ri=new Ur(n=>Dd(n),Vd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.ii=0,this.si=new Bd,this.targetCount=0,this.oi=Di._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Di(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this._i={},this.overlays={},this.ai=new Bl(0),this.ui=!1,this.ui=!0,this.ci=new eA,this.referenceDelegate=e(this),this.li=new iA(this),this.indexManager=new zx,this.remoteDocumentCache=function(i){return new nA(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Bx(n),this.Pi=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new tA(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new sA(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return j.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class sA extends Rk{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Ri=new Bd,this.Ai=null}static Vi(e){return new Ud(e)}get di(){if(this.Ai)return this.Ai;throw G(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const i=H.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gl{constructor(e,n){this.persistence=e,this.fi=new Ur(r=>Nk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Gx(this,n)}static Vi(e,n){return new gl(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,Q.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ka(e.data.value)),n}wr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return QT()?8:Dk(KT())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oA;return this.ys(e,n,o).next(l=>{if(s.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Gr()<=re.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Gr()<=re.DEBUG&&q("QueryEngine","Query:",Qr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Gr()<=re.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):j.resolve())}gs(e,n){if(rg(n))return j.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ph(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.bs(n,l);return this.Ss(n,h,o,u.readTime)?this.gs(e,ph(n,null,"F")):this.Ds(e,h,n,u)}))})))}ps(e,n,r,i){return rg(n)||i.isEqual(Q.min())?j.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?j.resolve(null):(Gr()<=re.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qr(n)),this.Ds(e,o,n,Ak(i,co)).next(l=>l))})}bs(e,n){let r=new Fe(r0(e));return n.forEach((i,s)=>{ql(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Gr()<=re.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Qr(n)),this.fs.getDocumentsMatchingQuery(e,n,nr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",lA=3e8;class uA{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Se(ee),this.Fs=new Ur(s=>Dd(s),Vd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function cA(t,e,n,r){return new uA(t,e,n,r)}async function A0(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=te();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ns:h,removedBatchIds:o,addedBatchIds:l}))})})}function hA(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,m=p.keys();let w=j.resolve();return m.forEach(P=>{w=w.next(()=>f.getEntry(u,P)).next(b=>{const D=h.docVersions.get(P);se(D!==null,48541),b.version.compareTo(D)<0&&(p.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),f.addEntry(b)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=te();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function b0(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function dA(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,p)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Qe.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(b,D,I){return b.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=lA?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,w,f)&&l.push(n.li.updateTargetData(s,w))});let u=En(),h=te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(fA(s,o,e.documentUpdates).next(f=>{u=f.Bs,h=f.Ls})),!r.isEqual(Q.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return j.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.vs=i,s))}function fA(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=En();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Q.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):q($d,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Bs:o,Ls:i}})}function pA(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mA(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new Fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function vh(t,e,n){const r=Y(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wi(o))throw o;q($d,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function gg(t,e,n){const r=Y(t);let i=Q.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=Y(u),m=p.Fs.get(f);return m!==void 0?j.resolve(p.vs.get(m)):p.li.getTargetData(h,f)}(r,o,tn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:te())).next(l=>(gA(r,tx(e),l),{documents:l,ks:s})))}function gA(t,e,n){let r=t.Ms.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class _g{constructor(){this.activeTargetIds=ax()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _A{constructor(){this.vo=new _g,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _g,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="ConnectivityMonitor";class vg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(yg,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){q(yg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua=null;function wh(){return ua===null?ua=function(){return 268435456+Math.round(2147483648*Math.random())}():ua++,"0x"+ua.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RestConnection",vA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===cl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=wh(),l=this.Qo(e,n.toUriEncodedString());q(ec,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,s);const{host:h}=new URL(l),f=kd(h);return this.zo(e,l,u,r,f).then(p=>(q(ec,`Received RPC '${e}' ${o}: `,p),p),p=>{throw bi(ec,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=vA[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection",ws=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class _i extends wA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_i.c_){const e=Dv();ws(e,Rv.STAT_EVENT,n=>{n.stat===ah.PROXY?q(Ze,"STAT_EVENT: detected buffering proxy"):n.stat===ah.NOPROXY&&q(Ze,"STAT_EVENT: detected no buffering proxy")}),_i.c_=!0}}zo(e,n,r,i,s){const o=wh();return new Promise((l,u)=>{const h=new Cv;h.setWithCredentials(!0),h.listenOnce(Pv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ia.NO_ERROR:const p=h.getResponseJson();q(Ze,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Ia.TIMEOUT:q(Ze,`RPC '${e}' ${o} timed out`),u(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:const m=h.getStatus();if(q(Ze,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w==null?void 0:w.error;if(P&&P.status&&P.message){const b=function(I){const v=I.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN}(P.status);u(new $(b,P.message))}else u(new $(O.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new $(O.UNAVAILABLE,"Connection failed."));break;default:G(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{q(Ze,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);q(Ze,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=wh(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");q(Ze,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let p=!1,m=!1;const w=new EA({Ho:P=>{m?q(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(p||(q(Ze,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(Ze,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},Jo:()=>f.close()});return ws(f,ks.EventType.OPEN,()=>{m||(q(Ze,`RPC '${e}' stream ${i} transport opened.`),w.i_())}),ws(f,ks.EventType.CLOSE,()=>{m||(m=!0,q(Ze,`RPC '${e}' stream ${i} transport closed`),w.o_(),this.E_(f))}),ws(f,ks.EventType.ERROR,P=>{m||(m=!0,bi(Ze,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),w.o_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),ws(f,ks.EventType.MESSAGE,P=>{var b;if(!m){const D=P.data[0];se(!!D,16349);const I=D,v=(I==null?void 0:I.error)||((b=I[0])==null?void 0:b.error);if(v){q(Ze,`RPC '${e}' stream ${i} received error:`,v);const T=v.status;let R=function(S){const y=Re[S];if(y!==void 0)return p0(y)}(T),L=v.message;R===void 0&&(R=O.INTERNAL,L="Unknown error status: "+T+" with message "+v.message),m=!0,w.o_(new $(R,L)),f.close()}else q(Ze,`RPC '${e}' stream ${i} received:`,D),w.__(D)}}),_i.u_(),setTimeout(()=>{w.s_()},0),w}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Vv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){return new _i(t)}function tc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){return new xx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.c_=!1;class C0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="PersistentStream";class P0{constructor(e,n,r,i,s,o,l,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new C0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(wn(n.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(wg,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(q(wg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TA extends P0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Cx(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?nn(o.readTime):Q.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=yh(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=dh(u)?{documents:Dx(s,u)}:{query:Vx(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=_0(s,o.resumeToken);const h=mh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Q.min())>0){l.readTime=ml(s,o.snapshotVersion.toTimestamp());const h=mh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Mx(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=yh(this.serializer),n.removeTarget=e,this.K_(n)}}class IA extends P0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rx(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yh(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Px(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{}class xA extends kA{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,gh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,gh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function AA(t,e,n,r){return new xA(t,e,n,r)}class bA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="RemoteStore";class CA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{zr(this)&&(q(jr,"Restarting streams for network reachability change."),await async function(u){const h=Y(u);h.Ea.add(4),await Ao(h),h.Va.set("Unknown"),h.Ea.delete(4),await Ql(h)}(this))})}),this.Va=new bA(r,i)}}async function Ql(t){if(zr(t))for(const e of t.Ra)await e(!0)}async function Ao(t){for(const e of t.Ra)await e(!1)}function R0(t,e){const n=Y(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kd(n)?Hd(n):Ki(n).O_()&&Wd(n,e))}function qd(t,e){const n=Y(t),r=Ki(n);n.Ia.delete(e),r.O_()&&D0(n,e),n.Ia.size===0&&(r.O_()?r.L_():zr(n)&&n.Va.set("Unknown"))}function Wd(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ki(t).Z_(e)}function D0(t,e){t.da.$e(e),Ki(t).X_(e)}function Hd(t){t.da=new Sx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ki(t).start(),t.Va.ua()}function Kd(t){return zr(t)&&!Ki(t).x_()&&t.Ia.size>0}function zr(t){return Y(t).Ea.size===0}function V0(t){t.da=void 0}async function PA(t){t.Va.set("Online")}async function RA(t){t.Ia.forEach((e,n)=>{Wd(t,e)})}async function DA(t,e){V0(t),Kd(t)?(t.Va.ha(e),Hd(t)):t.Va.set("Unknown")}async function VA(t,e,n){if(t.Va.set("Online"),e instanceof g0&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.da.removeTarget(l))}(t,e)}catch(r){q(jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _l(t,r)}else if(e instanceof ba?t.da.Xe(e):e instanceof m0?t.da.st(e):t.da.tt(e),!n.isEqual(Q.min()))try{const r=await b0(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.da.Tt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Qe.EMPTY_BYTE_STRING,f.snapshotVersion)),D0(s,u);const p=new Fn(f.target,u,h,f.sequenceNumber);Wd(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q(jr,"Failed to raise snapshot:",r),await _l(t,r)}}async function _l(t,e,n){if(!Wi(e))throw e;t.Ea.add(1),await Ao(t),t.Va.set("Offline"),n||(n=()=>b0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(jr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ql(t)})}function N0(t,e){return e().catch(n=>_l(t,n,e))}async function Yl(t){const e=Y(t),n=or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;NA(e);)try{const i=await pA(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,MA(e,i)}catch(i){await _l(e,i)}M0(e)&&L0(e)}function NA(t){return zr(t)&&t.Ta.length<10}function MA(t,e){t.Ta.push(e);const n=or(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function M0(t){return zr(t)&&!or(t).x_()&&t.Ta.length>0}function L0(t){or(t).start()}async function LA(t){or(t).ra()}async function OA(t){const e=or(t);for(const n of t.Ta)e.ea(n.mutations)}async function jA(t,e,n){const r=t.Ta.shift(),i=Od.from(r,e,n);await N0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yl(t)}async function FA(t,e){e&&or(t).Y_&&await async function(r,i){if(function(o){return vx(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();or(r).B_(),await N0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yl(r)}}(t,e),M0(t)&&L0(t)}async function Eg(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),q(jr,"RemoteStore received new credentials");const r=zr(n);n.Ea.add(3),await Ao(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ql(n)}async function BA(t,e){const n=Y(t);e?(n.Ea.delete(2),await Ql(n)):e||(n.Ea.add(2),await Ao(n),n.Va.set("Unknown"))}function Ki(t){return t.ma||(t.ma=function(n,r,i){const s=Y(n);return s.sa(),new TA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:PA.bind(null,t),Yo:RA.bind(null,t),t_:DA.bind(null,t),J_:VA.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Kd(t)?Hd(t):t.Va.set("Unknown")):(await t.ma.stop(),V0(t))})),t.ma}function or(t){return t.fa||(t.fa=function(n,r,i){const s=Y(n);return s.sa(),new IA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LA.bind(null,t),t_:FA.bind(null,t),ta:OA.bind(null,t),na:jA.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Yl(t)):(await t.fa.stop(),t.Ta.length>0&&(q(jr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Gd(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(t,e){if(wn("AsyncQueue",`${e}: ${t}`),Wi(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{static emptySet(e){return new yi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=xs(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.ga=new Se(H.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):G(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vi{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Vi(e,n,yi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class zA{constructor(){this.queries=Tg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Y(n),s=i.queries;i.queries=Tg(),s.forEach((o,l)=>{for(const u of l.ba)u.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function Tg(){return new Ur(t=>n0(t),$l)}async function $A(t,e){const n=Y(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new UA,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Qd(o,`Initialization of query '${Qr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Yd(n)}async function qA(t,e){const n=Y(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WA(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.ba)l.Fa(i)&&(r=!0);o.wa=i}}r&&Yd(n)}function HA(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Yd(t){t.Ca.forEach(e=>{e.next()})}var Eh,Ig;(Ig=Eh||(Eh={})).Ma="default",Ig.Cache="cache";class KA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Eh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.key=e}}class j0{constructor(e){this.key=e}}class GA{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=te(),this.mutatedKeys=te(),this.eu=r0(e),this.tu=new yi(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Sg,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),w=ql(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),b=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;m&&w?m.data.isEqual(w.data)?P!==b&&(r.track({type:3,doc:w}),D=!0):this.su(m,w)||(r.track({type:2,doc:w}),D=!0,(u&&this.eu(w,u)>0||h&&this.eu(w,h)<0)&&(l=!0)):!m&&w?(r.track({type:0,doc:w}),D=!0):m&&!w&&(r.track({type:1,doc:m}),D=!0,(u||h)&&(l=!0)),D&&(w?(o=o.add(w),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(w,P){const b=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Vt:D})}};return b(w)-b(P)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,h=u!==this.Xa;return this.Xa=u,o.length!==0||h?{snapshot:new Vi(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sg,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=te(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new j0(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new O0(r))}),n}cu(e){this.Za=e.ks,this.Ya=te();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jd="SyncEngine";class QA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YA{constructor(e){this.key=e,this.hu=!1}}class JA{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ur(l=>n0(l),$l),this.Iu=new Map,this.Eu=new Set,this.Ru=new Se(H.comparator),this.Au=new Map,this.Vu=new Bd,this.du={},this.mu=new Map,this.fu=Di.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XA(t,e,n=!0){const r=q0(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await F0(r,e,n,!0),i}async function ZA(t,e){const n=q0(t);await F0(n,e,!0,!1)}async function F0(t,e,n,r){const i=await mA(t.localStore,tn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await eb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&R0(t.remoteStore,i),l}async function eb(t,e,n,r,i){t.pu=(p,m,w)=>async function(b,D,I,v){let T=D.view.ru(I);T.Ss&&(T=await gg(b.localStore,D.query,!1).then(({documents:S})=>D.view.ru(S,T)));const R=v&&v.targetChanges.get(D.targetId),L=v&&v.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(T,b.isPrimaryClient,R,L);return xg(b,D.targetId,F.au),F.snapshot}(t,p,m,w);const s=await gg(t.localStore,e,!0),o=new GA(e,s.ks),l=o.ru(s.documents),u=xo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);xg(t,n,h.au);const f=new QA(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function tb(t,e,n){const r=Y(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!$l(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qd(r.remoteStore,i.targetId),Sh(r,i.targetId)}).catch(qi)):(Sh(r,i.targetId),await vh(r.localStore,i.targetId,!0))}async function nb(t,e){const n=Y(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qd(n.remoteStore,r.targetId))}async function rb(t,e,n){const r=cb(t);try{const i=await function(o,l){const u=Y(o),h=fe.now(),f=l.reduce((w,P)=>w.add(P.key),te());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let P=En(),b=te();return u.xs.getEntries(w,f).next(D=>{P=D,P.forEach((I,v)=>{v.isValidDocument()||(b=b.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,P)).next(D=>{p=D;const I=[];for(const v of l){const T=px(v,p.get(v.key).overlayedDocument);T!=null&&I.push(new fr(v.key,T,Gv(T.value.mapValue),Bt.exists(!0)))}return u.mutationQueue.addMutationBatch(w,h,I,l)}).next(D=>{m=D;const I=D.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(w,D.batchId,I)})}).then(()=>({batchId:m.batchId,changes:s0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.du[o.currentUser.toKey()];h||(h=new Se(ee)),h=h.insert(l,u),o.du[o.currentUser.toKey()]=h}(r,i.batchId,n),await bo(r,i.changes),await Yl(r.remoteStore)}catch(i){const s=Qd(i,"Failed to persist write");n.reject(s)}}async function B0(t,e){const n=Y(t);try{const r=await dA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?se(o.hu,14607):i.removedDocuments.size>0&&(se(o.hu,42227),o.hu=!1))}),await bo(n,r,e)}catch(r){await qi(r)}}function kg(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Y(o);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const m of p.ba)m.va(l)&&(h=!0)}),h&&Yd(u)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ib(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Se(H.comparator);o=o.insert(s,nt.newNoDocument(s,Q.min()));const l=te().add(s),u=new Kl(Q.min(),new Map,new Se(ee),o,l);await B0(r,u),r.Ru=r.Ru.remove(s),r.Au.delete(e),Xd(r)}else await vh(r.localStore,e,!1).then(()=>Sh(r,e,n)).catch(qi)}async function sb(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await hA(n.localStore,e);z0(n,r,null),U0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bo(n,i)}catch(i){await qi(i)}}async function ob(t,e,n){const r=Y(t);try{const i=await function(o,l){const u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(se(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);z0(r,e,n),U0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bo(r,i)}catch(i){await qi(i)}}function U0(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function z0(t,e,n){const r=Y(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Sh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||$0(t,r)})}function $0(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qd(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Xd(t))}function xg(t,e,n){for(const r of n)r instanceof O0?(t.Vu.addReference(r.key,e),ab(t,r)):r instanceof j0?(q(Jd,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||$0(t,r.key)):G(19791,{wu:r})}function ab(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(q(Jd,"New document in limbo: "+n),t.Eu.add(r),Xd(t))}function Xd(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new H(le.fromString(e)),r=t.fu.next();t.Au.set(r,new YA(n)),t.Ru=t.Ru.insert(n,r),R0(t.remoteStore,new Fn(tn(Nd(n.path)),r,"TargetPurposeLimboResolution",Bl.ce))}}async function bo(t,e,n){const r=Y(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){i.push(h);const p=zd.Es(u.targetId,h);s.push(p)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(u,h){const f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(h,m=>j.forEach(m.Ts,w=>f.persistence.referenceDelegate.addReference(p,m.targetId,w)).next(()=>j.forEach(m.Is,w=>f.persistence.referenceDelegate.removeReference(p,m.targetId,w)))))}catch(p){if(!Wi(p))throw p;q($d,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const w=f.vs.get(m),P=w.snapshotVersion,b=w.withLastLimboFreeSnapshotVersion(P);f.vs=f.vs.insert(m,b)}}}(r.localStore,s))}async function lb(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){q(Jd,"User change. New user:",e.toKey());const r=await A0(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bo(n,r.Ns)}}function ub(t,e){const n=Y(t),r=n.Au.get(e);if(r&&r.hu)return te().add(r.key);{let i=te();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function q0(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ub.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ib.bind(null,e),e.Pu.J_=WA.bind(null,e.eventManager),e.Pu.yu=HA.bind(null,e.eventManager),e}function cb(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ob.bind(null,e),e}class yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cA(this.persistence,new aA,e.initialUser,this.serializer)}Cu(e){return new x0(Ud.Vi,this.serializer)}Du(e){return new _A}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yl.provider={build:()=>new yl};class hb extends yl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){se(this.persistence.referenceDelegate instanceof gl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ct.withCacheSize(this.cacheSizeBytes):ct.DEFAULT;return new x0(r=>gl.Vi(r,n),this.serializer)}}class Th{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lb.bind(null,this.syncEngine),await BA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zA}()}createDatastore(e){const n=Gl(e.databaseInfo.databaseId),r=SA(e.databaseInfo);return AA(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new CA(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>kg(this.syncEngine,n,0),function(){return vg.v()?new vg:new yA}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,f){const p=new JA(i,s,o,l,u,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Y(i);q(jr,"RemoteStore shutting down."),s.Ea.add(5),await Ao(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Th.provider={build:()=>new Th};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class fb{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(ar,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(ar,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nc(t,e){t.asyncQueue.verifyOperationInProgress(),q(ar,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await A0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pb(t);q(ar,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Eg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Eg(e.remoteStore,i)),t._onlineComponents=e}async function pb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(ar,"Using user provided OfflineComponentProvider");try{await nc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bi("Error using user provided cache. Falling back to memory cache: "+n),await nc(t,new yl)}}else q(ar,"Using default OfflineComponentProvider"),await nc(t,new hb(void 0));return t._offlineComponents}async function W0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(ar,"Using user provided OnlineComponentProvider"),await Ag(t,t._uninitializedComponentsProvider._online)):(q(ar,"Using default OnlineComponentProvider"),await Ag(t,new Th))),t._onlineComponents}function mb(t){return W0(t).then(e=>e.syncEngine)}async function bg(t){const e=await W0(t),n=e.eventManager;return n.onListen=XA.bind(null,e.syncEngine),n.onUnlisten=tb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nb.bind(null,e.syncEngine),n}function gb(t,e,n,r){const i=new db(r),s=new KA(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>$A(await bg(t),s)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>qA(await bg(t),s))}}function _b(t,e){const n=new Pr;return t.asyncQueue.enqueueAndForget(async()=>rb(await mb(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="ComponentProvider",Cg=new Map;function vb(t,e,n,r,i){return new Ok(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,H0(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firestore.googleapis.com",Pg=!0;class Rg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K0,this.ssl=Pg}else this.host=e.host,this.ssl=e.ssl??Pg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qx)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gk;switch(r.type){case"firstParty":return new wk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cg.get(n);r&&(q(yb,"Removing Datastore"),Cg.delete(n),r.terminate())}(this),Promise.resolve()}}function wb(t,e,n,r={}){var h;t=Xn(t,Jl);const i=kd(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(zT(`https://${l}`),HT("Firestore",!0)),s.host!==K0&&s.host!==l&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!ol(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=et.MOCK_USER;else{f=$T(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(m)}t._authCredentials=new _k(new Mv(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class Me{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Io(n,Me._jsonSchema))return new Me(e,r||null,new H(le.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ne("string",Me._jsonSchemaVersion),referencePath:Ne("string")};class Zn extends $r{constructor(e,n,r){super(e,n,Nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new H(e))}withConverter(e){return new Zn(this.firestore,e,this._path)}}function Dg(t,e,...n){if(t=sn(t),Lv("collection","path",e),t instanceof Jl){const r=le.fromString(e,...n);return $m(r),new Zn(t,null,r)}{if(!(t instanceof Me||t instanceof Zn))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return $m(r),new Zn(t.firestore,null,r)}}function Ih(t,e,...n){if(t=sn(t),arguments.length===1&&(e=bd.newId()),Lv("doc","path",e),t instanceof Jl){const r=le.fromString(e,...n);return zm(r),new Me(t,null,new H(r))}{if(!(t instanceof Me||t instanceof Zn))throw new $(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return zm(r),new Me(t.firestore,t instanceof Zn?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="AsyncQueue";class Ng{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new C0(this,"async_queue_retry"),this._c=()=>{const r=tc();r&&q(Vg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Pr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wi(e))throw e;q(Vg,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,wn("INTERNAL UNHANDLED ERROR: ",Mg(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Gd.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&G(47125,{Pc:Mg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Mg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ni extends Jl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ng,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ng(e),this._firestoreClient=void 0,await e}}}function Eb(t,e){const n=typeof t=="object"?t:nk(),r=typeof t=="string"?t:e||cl,i=JI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BT("firestore");s&&wb(i,...s)}return i}function G0(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sb(t),t._firestoreClient}function Sb(t){var r,i,s,o;const e=t._freezeSettings(),n=vb(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fb(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bt(Qe.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bt(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Io(e,bt._jsonSchema))return bt.fromBase64String(e.bytes)}}bt._jsonSchemaVersion="firestore/bytes/1.0",bt._jsonSchema={type:Ne("string",bt._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rn._jsonSchemaVersion}}static fromJSON(e){if(Io(e,rn._jsonSchema))return new rn(e.latitude,e.longitude)}}rn._jsonSchemaVersion="firestore/geoPoint/1.0",rn._jsonSchema={type:Ne("string",rn._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ut._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Io(e,Ut._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ut(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ut._jsonSchemaVersion="firestore/vectorValue/1.0",Ut._jsonSchema={type:Ne("string",Ut._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^__.*__$/;class Ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ko(e,this.data,n,this.fieldTransforms)}}class Q0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Y0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{dataSource:t})}}class tf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vl(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Y0(this.dataSource)&&Tb.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gl(e)}createContext(e,n,r,i=!1){return new tf({dataSource:e,methodName:n,targetDoc:r,path:He.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nf(t){const e=t._freezeSettings(),n=Gl(t._databaseId);return new kb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xb(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);rf("Data must be an object, but it was:",o,r);const l=J0(r,o);let u,h;if(s.merge)u=new wt(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=Mi(e,p,n);if(!o.contains(m))throw new $(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ew(f,m)||f.push(m)}u=new wt(f),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new Ib(new dt(l),u,h)}class Xl extends ef{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xl}}function Ab(t,e,n,r){const i=t.createContext(1,e,n);rf("Data must be an object, but it was:",i,r);const s=[],o=dt.empty();dr(r,(u,h)=>{const f=Z0(e,u,n);h=sn(h);const p=i.childContextForFieldPath(f);if(h instanceof Xl)s.push(f);else{const m=Co(h,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new wt(s);return new Q0(o,l,i.fieldTransforms)}function bb(t,e,n,r,i,s){const o=t.createContext(1,e,n),l=[Mi(e,r,n)],u=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Mi(e,s[m])),u.push(s[m+1]);const h=[],f=dt.empty();for(let m=l.length-1;m>=0;--m)if(!ew(h,l[m])){const w=l[m];let P=u[m];P=sn(P);const b=o.childContextForFieldPath(w);if(P instanceof Xl)h.push(w);else{const D=Co(P,b);D!=null&&(h.push(w),f.set(w,D))}}const p=new wt(h);return new Q0(f,p,o.fieldTransforms)}function Cb(t,e,n,r=!1){return Co(n,t.createContext(r?4:3,e))}function Co(t,e){if(X0(t=sn(t)))return rf("Unsupported field value:",e,t),J0(t,e);if(t instanceof ef)return function(r,i){if(!Y0(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Co(l,i.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fe.fromDate(r);return{timestampValue:ml(i.serializer,s)}}if(r instanceof fe){const s=new fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ml(i.serializer,s)}}if(r instanceof rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bt)return{bytesValue:_0(i.serializer,r._byteString)};if(r instanceof Me){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ut)return function(o,l){const u=o instanceof Ut?o.toArray():o;return{mapValue:{fields:{[Wv]:{stringValue:Kv},[hl]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return Md(l.serializer,f)})}}}}}}(r,i);if(I0(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Fl(r)}`)}(t,e)}function J0(t,e){const n={};return Fv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(t,(r,i)=>{const s=Co(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function X0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fe||t instanceof rn||t instanceof bt||t instanceof Me||t instanceof ef||t instanceof Ut||I0(t))}function rf(t,e,n){if(!X0(n)||!Ov(n)){const r=Fl(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Mi(t,e,n){if((e=sn(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return Z0(t,e);throw vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pb=new RegExp("[~\\*/\\[\\]]");function Z0(t,e,n){if(e.search(Pb)>=0)throw vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zd(...e.split("."))._internalPath}catch{throw vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new $(O.INVALID_ARGUMENT,l+t+u)}function ew(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[hl].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ce(o.doubleValue));return new Ut(n)}convertGeoPoint(e){return new rn(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const n=rr(e);return new fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);se(T0(r),9688,{name:e});const i=new fo(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new bt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,n)}}const Lg="@firebase/firestore",Og="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Mi("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Db extends nw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sf{}class rw extends sf{}function Nb(t,e,...n){let r=[];e instanceof sf&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof af).length,l=s.filter(u=>u instanceof of).length;if(o>1||o>0&&l>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class of extends rw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new of(e,n,r)}_apply(e){const n=this._parse(e);return iw(e._query,n),new $r(e.firestore,e.converter,fh(e._query,n))}_parse(e){const n=nf(e.firestore);return function(s,o,l,u,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Bg(p,f);const P=[];for(const b of p)P.push(Fg(u,s,b));m={arrayValue:{values:P}}}else m=Fg(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Bg(p,f),m=Cb(l,o,p,f==="in"||f==="not-in");return Ve.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class af extends sf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new af(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)iw(o,u),o=fh(o,u)}(e._query,n),new $r(e.firestore,e.converter,fh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lf extends rw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lf(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mo(s,o)}(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,ex(e._query,n))}}function Mb(t,e="asc"){const n=e,r=Mi("orderBy",t);return lf._create(r,n)}function Fg(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(e)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(le.fromString(n));if(!H.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jm(t,new H(r))}if(n instanceof Me)return Jm(t,n._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fl(n)}.`)}function Bg(t,e){if(!Array.isArray(t)||t.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iw(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Lb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rr extends nw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mi("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rr._jsonSchema={type:Ne("string",Rr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Ca extends Rr{data(e={}){return super.data(e)}}class vi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ca(this._firestore,this._userDataWriter,r.key,r,new bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Ob(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi._jsonSchemaVersion="firestore/querySnapshot/1.0",vi._jsonSchema={type:Ne("string",vi._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function jb(t,e,n,...r){t=Xn(t,Me);const i=Xn(t.firestore,Ni),s=nf(i);let o;return o=typeof(e=sn(e))=="string"||e instanceof Zd?bb(s,"updateDoc",t._key,e,n,r):Ab(s,"updateDoc",t._key,e),uf(i,[o.toMutation(t._key,Bt.exists(!0))])}function Fb(t){return uf(Xn(t.firestore,Ni),[new Ld(t._key,Bt.none())])}function Bb(t,e){const n=Xn(t.firestore,Ni),r=Ih(t),i=Lb(t.converter,e),s=nf(t.firestore);return uf(n,[xb(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bt.exists(!1))]).then(()=>r)}function Ub(t,...e){var h,f,p;t=sn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jg(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jg(e[r])){const m=e[r];e[r]=(h=m.next)==null?void 0:h.bind(m),e[r+1]=(f=m.error)==null?void 0:f.bind(m),e[r+2]=(p=m.complete)==null?void 0:p.bind(m)}let s,o,l;if(t instanceof Me)o=Xn(t.firestore,Ni),l=Nd(t._key.path),s={next:m=>{e[r]&&e[r](zb(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Xn(t,$r);o=Xn(m.firestore,Ni),l=m._query;const w=new tw(o);s={next:P=>{e[r]&&e[r](new vi(o,w,m,P))},error:e[r+1],complete:e[r+2]},Vb(t._query)}const u=G0(o);return gb(u,l,i,s)}function uf(t,e){const n=G0(t);return _b(n,e)}function zb(t,e,n){const r=n.docs.get(e._key),i=new tw(t);return new Rr(t,i,e._key,r,new bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){mk(tk),ll(new lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ni(new yk(r.getProvider("auth-internal")),new Ek(o,r.getProvider("app-check-internal")),jk(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),gi(Lg,Og,e),gi(Lg,Og,"esm2020")})();const $b={apiKey:"AIzaSyAAoWo0hEu3t5rXM1TbP9xQVxpKp4d0psI",authDomain:"kisanbazaar-1b2bc.firebaseapp.com",projectId:"kisanbazaar-1b2bc",storageBucket:"kisanbazaar-1b2bc.firebasestorage.app",messagingSenderId:"230716705602",appId:"1:230716705602:web:31cdf0c823459b78f516db"},qb=kv($b),ca=Eb(qb),sw=N.createContext(),Wb=()=>N.useContext(sw),Hb=({children:t})=>{const{t:e}=Ui(),n=[{id:"mock-1",title:"Fresh Tomato",title_hi:" ",title_mr:" ",commodity:"tomato",type:"Sell",category:"Vegetables",price:"20",unit:"kg",quantity:"500",location:"Burhanpur",seller:"Ramesh Kumar",contactMobile:"919876543210",image:"https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&w=300&q=80",description:"Desi tomato, fully organic.",description_hi:" ,    ",description_mr:" ,  .",timestamp:Date.now()},{id:"mock-2",title:"Basmati Rice",title_hi:" ",title_mr:" ",commodity:"rice",type:"Sell",category:"Grains",price:"4500",unit:"quintal",quantity:"10",location:"Nepanagar",seller:"Suresh Patel",contactMobile:"919876543211",image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?auto=format&fit=crop&w=300&q=80",description:"High quality Basmati rice.",description_hi:"    ",description_mr:"   .",timestamp:Date.now()},{id:"mock-3",title:"Banana",title_hi:"",title_mr:"",commodity:"banana",type:"Sell",category:"Fruits",price:"1500",unit:"quintal",quantity:"50",location:"Ambada",seller:"Mukesh Bhai",contactMobile:"919876543212",image:"https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?auto=format&fit=crop&w=300&q=80",description:"Sweet and fresh bananas.",description_hi:"    ",description_mr:"   .",timestamp:Date.now()},{id:"mock-4",title:"Need Tomato",title_hi:" ",title_mr:" ",commodity:"tomato",type:"Buy",category:"Vegetables",price:"18",unit:"kg",quantity:"200",location:"Indore",seller:"Rahul Singh",contactMobile:"919876543213",description:"Looking for bulk tomatoes.",description_hi:"   ",description_mr:"    .",timestamp:Date.now()}],[r,i]=N.useState([]),[s,o]=N.useState(!0);N.useEffect(()=>{const T=Nb(Dg(ca,"listings"),Mb("timestamp","desc")),R=Ub(T,L=>{const F=L.docs.map(S=>({id:S.id,...S.data()}));F.length===0?i(n):i(F),o(!1)},L=>{console.error("Error fetching listings:",L),i(n),o(!1)});return()=>R()},[]);const l=async T=>{try{const R=await Bb(Dg(ca,"listings"),{...T,timestamp:Date.now()});console.log("Document written with ID: ",R.id)}catch(R){console.error("Error adding document: ",R),alert("Error saving listing. Please check your connection.")}},u=async(T,R)=>{if(!(typeof T=="string"&&T.startsWith("mock-")))try{const L=Ih(ca,"listings",T);await jb(L,R)}catch(L){console.error("Error updating document: ",L)}},h=async T=>{if(typeof T=="string"&&T.startsWith("mock-")){i(R=>R.filter(L=>L.id!==T));return}try{await Fb(Ih(ca,"listings",T))}catch(R){console.error("Error deleting document: ",R)}},f=T=>r.filter(R=>R.contactMobile===T),[p,m]=N.useState(!1),w=()=>{m(T=>!T)},P=()=>{const T=new Map;return r.forEach(R=>{if(R.seller&&!T.has(R.seller))T.set(R.seller,{name:R.seller,location:R.location||`${R.district||""}, ${R.state||""}`,state:R.state||"",district:R.district||"",tehsil:R.tehsil||"",products:[R.title||R.commodity],contactMobile:R.contactMobile||"",rating:(Math.random()*2+3).toFixed(1)});else if(R.seller){const L=T.get(R.seller);L.products.includes(R.title||R.commodity)||L.products.push(R.title||R.commodity)}}),Array.from(T.values())},b=(T,R,L=null)=>{if(!r||!Array.isArray(r))return{eligible:!0};const F=r.filter(A=>A&&A.contactMobile===T),S=L?F.filter(A=>A.id!==L):F;if(S.length>=5)return{eligible:!1,reason:"limit",message:e("limit_reached")};if(!R||typeof R!="string")return{eligible:!0};const y=R.toLowerCase().trim(),g=Date.now()-7*24*60*60*1e3;return S.filter(A=>{if(!A)return!1;const C=(A.commodity||"").toLowerCase().trim(),k=new Date(A.timestamp||A.id).getTime();return C===y&&k>g}).length>=2?{eligible:!1,reason:"duplicate",message:e("duplicate_limit")}:{eligible:!0}},D=(()=>{const T=new Set;return r.filter(R=>{const L=R.contactMobile||"unknown",F=(R.commodity||"").toLowerCase().trim(),S=(R.type||"Sell").toLowerCase(),y=`${L}_${F}_${S}`;return T.has(y)?!1:(T.add(y),!0)})})(),I=D.filter(T=>T.type==="Sell"),v=D.filter(T=>T.type==="Buy");return E.jsx(sw.Provider,{value:{listings:r,publicListings:D,sellerListings:I,buyerPosts:v,addListing:l,updateListing:u,deleteListing:h,getUserListings:f,isRestrictedMode:p,toggleRestriction:w,getUniqueSellers:P,checkListingEligibility:b,loading:s},children:t})};const Kb="modulepreload",Gb=function(t){return"/"+t},Ug={},me=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Gb(s),s in Ug)return;Ug[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":Kb,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},ha={wheat:"gehu",gehu:"wheat",gehun:"wheat",kanak:"wheat",rice:"chawal",chawal:"rice",dhaan:"rice",basmati:"rice",paddy:"rice",maize:"makka",corn:"makka",makka:"maize",bhutta:"maize",millet:"bajra",bajra:"millet",sorghum:"jowar",jowar:"sorghum",barley:"jau",jau:"barley",gram:"chana",chickpea:"chana","bengal gram":"chana",chana:"gram",channa:"gram","pigeon pea":"arhar","red gram":"arhar",arhar:"pigeon pea",tuar:"pigeon pea",toor:"pigeon pea",tur:"pigeon pea","tur dal":"arhar dal","black chana":"kala chana","kala chana":"black chana","kabuli chana":"safed chana","safed chana":"kabuli chana","dollar chana":"kabuli chana",lentil:"masoor",masoor:"lentil","black gram":"urad",urad:"black gram","green gram":"moong",mung:"green gram",moong:"green gram",soybean:"soya",soyabean:"soya",soya:"soybean",mustard:"sarson",sarson:"mustard",rai:"mustard",groundnut:"moongfali",peanut:"moongfali",moongfali:"groundnut",singdana:"groundnut",sunflower:"surajmukhi",surajmukhi:"sunflower",sesame:"til",til:"sesame",onion:"pyaz",pyaz:"onion",kanda:"onion",dungri:"onion",potato:"aloo",aloo:"potato",batata:"potato",tomato:"tamatar",tamatar:"tomato",garlic:"lahsun",lahsun:"garlic",ginger:"adrak",adrak:"ginger",chilli:"mirch",chilly:"mirch",mirch:"chilli",mirchi:"chilli",cabbage:"patta gobhi","patta gobhi":"cabbage",gobhi:"cabbage",cauliflower:"phool gobhi","phool gobhi":"cauliflower",brinjal:"baingan",eggplant:"baingan",aubergine:"baingan",baingan:"brinjal","lady finger":"bhindi",okra:"bhindi",bhindi:"lady finger",pea:"matar",peas:"matar",matar:"pea",carrot:"gajar",gajar:"carrot",radish:"mooli",mooli:"radish",spinach:"palak",palak:"spinach",fenugreek:"methi",methi:"fenugreek","bottle gourd":"lauki",lauki:"bottle gourd",ghiya:"bottle gourd","bitter gourd":"karela",karela:"bitter gourd",pumpkin:"kaddu",kaddu:"pumpkin",kashiphal:"pumpkin",cucumber:"kheera",kheera:"cucumber",kakdi:"cucumber",banana:"kela",kela:"banana",mango:"aam",aam:"mango",apple:"seb",seb:"apple",pomegranate:"anar",anar:"pomegranate",orange:"santra",santra:"orange",narangi:"orange",grapes:"angoor",angoor:"grapes",papaya:"papita",papita:"papaya",guava:"amrood",amrood:"guava",watermelon:"tarbooz",tarbooz:"watermelon",muskmelon:"kharbuja",kharbuja:"muskmelon",cotton:"kapas",kapas:"cotton",narma:"cotton",rui:"cotton",sugarcane:"ganna",ganna:"sugarcane",turmeric:"haldi",haldi:"turmeric",linseed:"alsi",alsi:"linseed","flax seed":"alsi",lemon:"nimbu",nimbu:"lemon","betel leaf":"paan",paan:"betel leaf",jute:"patshan",patshan:"jute",:"wheat",:"rice",:"rice",:"maize",:"soybean",:"millet",:"sorghum",:"barley",:"gram",:"pigeon pea",:"lentil",:"black gram",:"green gram",:"mustard",:"groundnut",:"sunflower",:"sesame",:"linseed",:"onion",:"potato",:"tomato",:"garlic",:"ginger",:"chilli",:"cabbage",:"cauliflower",:"brinjal",:"lady finger",:"pea",:"carrot",:"radish",:"spinach",:"fenugreek",:"bottle gourd",:"bitter gourd",:"pumpkin",:"cucumber",:"cucumber",:"banana",:"mango",:"apple",:"pomegranate",:"orange",:"grapes",:"papaya",:"guava",:"watermelon",:"muskmelon",:"lemon",:"cotton",:"sugarcane",:"turmeric",:"coriander",kaanda:"onion",:"onion",lasun:"garlic",lason:"garlic",:"garlic",bhendi:"lady finger",:"lady finger",:"potato",vange:"brinjal",wangy:"brinjal",:"brinjal",:"tomato","phul-kobi":"cauliflower",phulkobi:"cauliflower",flower:"cauliflower",:"cauliflower",:"cauliflower",kobi:"cabbage",:"cabbage",karale:"bitter gourd",:"bitter gourd","dudhi bhopla":"bottle gourd"," ":"bottle gourd",dodka:"ridge gourd",tura:"ridge gourd",:"ridge gourd",vatana:"peas",:"peas",tandul:"rice",bhat:"rice",taandul:"rice",:"rice",:"rice",gahu:"wheat",:"wheat",jowari:"sorghum",jwari:"sorghum",:"sorghum",bajri:"millet",:"millet",maka:"maize",:"maize",nachni:"finger millet",nagli:"finger millet",ragi:"finger millet",:"finger millet",:"finger millet",:"pigeon pea",udid:"black gram",:"black gram",mug:"green gram",:"green gram",harbara:"chickpea",:"chickpea",:"chickpea",chavli:"cowpea",lobia:"cowpea",:"cowpea",amba:"mango",hapus:"mango",:"mango",kele:"banana",keli:"banana",:"banana",:"banana",draksha:"grapes",draksh:"grapes",:"grapes",dalimb:"pomegranate",:"pomegranate",sitaphal:"custard apple","custard apple":"custard apple",:"custard apple",papai:"papaya",:"papaya",krishi:"agriculture",sheti:"agriculture",:"agriculture",:"agriculture",pike:"crops",pik:"crop",:"crops",kapani:"harvest",:"harvest",perani:"sowing",pearni:"sowing",:"sowing",sinchan:"irrigation",:"irrigation",khat:"fertilizer",khata:"fertilizer",:"fertilizer",mati:"soil",maati:"soil",:"soil",shetkari:"farmer",kisan:"farmer",:"farmer",oos:"sugarcane",us:"sugarcane",:"sugarcane",ganna:"sugarcane",halad:"turmeric",haldi:"turmeric",:"turmeric",:"turmeric",ale:"ginger",aal:"ginger",:"ginger",:"ginger",kapus:"cotton",kaapus:"cotton",:"cotton",bhuimug:"groundnut",shingdana:"groundnut",:"groundnut",:"groundnut",dalimb:"pomegranate",:"pomegranate",draksh:"grapes",:"grapes",kanda:"onion",kaanda:"onion",:"onion",batata:"potato",:"potato",tomato:"tomato",:"tomato",soyabin:"soybean",:"soybean",maka:"maize",makka:"maize",:"maize",gahu:"wheat",gahhu:"wheat",:"wheat",tandul:"rice",taandul:"rice",:"rice",bhaat:"rice",:"rice",harbhara:"gram",chana:"gram",:"gram",:"gram",tur:"pigeon pea",toor:"pigeon pea",twar:"pigeon pea",:"pigeon pea",mirchi:"chilli",mirch:"chilli",:"chilli",:"chilli",lasun:"garlic",lason:"garlic",:"garlic",kothimbir:"coriander",dhaniya:"coriander",:"coriander",:"coriander",methi:"fenugreek",:"fenugreek",:"onion",:"potato",:"tomato",:"garlic",:"ginger",:"ginger",:"chilli",:"coriander",:"brinjal",:"lady finger",:"lady finger",:"cauliflower",:"cabbage",:"cluster beans",:"drumstick",:"bitter gourd"," ":"bottle gourd",:"ridge gourd",:"sponge gourd",:"cowpea",wal:"field beans",:"field beans",:"field beans",:"french beans",:"maize",:"sorghum",:"millet",:"finger millet",:"little millet",:"little millet",:"amaranth",:"horse gram",:"moth bean",:"pigeon pea",:"green gram",:"black gram",:"lentil",:"chickpea",:"chickpea",:"pea",:"groundnut",:"groundnut",:"sunflower",:"safflower",:"linseed",:"sesame",:"mustard",:"soybean",:"cotton",:"sugarcane",:"turmeric",:"mango",:"banana",:"grapes",:"pomegranate",:"papaya",:"custard apple",:"guava",:"sapota",:"apple",:"orange",:"sweet lime",:"lemon",:"watermelon",:"muskmelon",:"coconut",:"arecanut",:"cashew nut"},zg=t=>{if(!t)return[];const e=t.toLowerCase().trim(),n=new Set([e]);ha[e]&&n.add(ha[e]);for(const[i,s]of Object.entries(ha))s===e&&n.add(i),i===e&&n.add(s);return Array.from(n).forEach(i=>{for(const[s,o]of Object.entries(ha))s===i&&n.add(o),o===i&&n.add(s)}),Array.from(n)},Qb=(t,e)=>{const n=[];for(let r=0;r<=e.length;r++)n[r]=[r];for(let r=0;r<=t.length;r++)n[0][r]=r;for(let r=1;r<=e.length;r++)for(let i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,n[r][i-1]+1,n[r-1][i]+1);return n[e.length][t.length]},Yb=(t,e,n=2)=>{const r=t.toLowerCase().trim(),i=e.toLowerCase().trim();return i.includes(r)?!0:r.length<3||Math.abs(r.length-i.length)>n?!1:Qb(r,i)<=n},cf=[{id:"tomato",en:"Tomato",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["tamatar","tomato","tomatot","tometo"]},{id:"potato",en:"Potato",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["aalu","batata","potato","alu"]},{id:"onion",en:"Onion",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["pyaj","kanda","onion","pyaaj"]},{id:"cabbage",en:"Cabbage",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["pattagobhi","kobi","cabbage","patta gobhi"]},{id:"cauliflower",en:"Cauliflower",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["fulgobhi","flower","cauliflower","phool gobhi"]},{id:"brinjal",en:"Brinjal",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["baingan","vangi","brinjal","eggplant"]},{id:"ladyfinger",en:"Ladyfinger / Bhindi",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["bhindi","bhendi","bendi","ladyfinger","okra"]},{id:"carrot",en:"Carrot",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["gajar","carrot"]},{id:"peas",en:"Peas",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["matar","watana","peas"]},{id:"spinach",en:"Spinach / Palak",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["palak","spinach"]},{id:"methi",en:"Fenugreek / Methi",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["methi","menthi","fenugreek"]},{id:"coriander",en:"Coriander",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["dhaniya","kothimbir","coriander","dhanya"]},{id:"chilli",en:"Green Chilli",hi:" ",mr:" ",category:"Vegetables",unit:"Kg",icon:"",tags:["mirchi","chilli","mirch"]},{id:"cucumber",en:"Cucumber",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["khira","kakdi","cucumber"]},{id:"bittergourd",en:"Bitter Gourd",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["karela","karle","bitter gourd"]},{id:"bottlegourd",en:"Bottle Gourd",hi:"",mr:" ",category:"Vegetables",unit:"Kg",icon:"",tags:["lauki","dudhi","bottle gourd"]},{id:"pumpkin",en:"Pumpkin",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["kaddu","bhopla","pumpkin"]},{id:"radish",en:"Radish",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["mooli","mula","radish","muli"]},{id:"capsicum",en:"Capsicum",hi:" ",mr:" ",category:"Vegetables",unit:"Kg",icon:"",tags:["shimlapuri","shimla mirch","capsicum"]},{id:"drumstick",en:"Drumstick",hi:"",mr:"",category:"Vegetables",unit:"Kg",icon:"",tags:["shevga","sahjan","drumstick"]},{id:"banana",en:"Banana",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["kela","keli","banana"]},{id:"mango",en:"Mango",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["aam","amba","mango"]},{id:"apple",en:"Apple",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["seb","safarachand","apple"]},{id:"orange",en:"Orange",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["santara","orange"]},{id:"grapes",en:"Grapes",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["angoor","draksha","grapes","black grapes","green grapes"]},{id:"pomegranate",en:"Pomegranate",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["anaar","dalimb","pomegranate"]},{id:"papaya",en:"Papaya",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["papita","papai","papaya"]},{id:"watermelon",en:"Watermelon",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["tarbuj","tarbhuj","watermelon"]},{id:"guava",en:"Guava",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["amrud","peru","guava"]},{id:"lemon",en:"Lemon",hi:"",mr:"",category:"Fruits",unit:"Kg",icon:"",tags:["nimbu","limbu","lemon"]},{id:"wheat",en:"Wheat",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["gehu","gahu","wheat"]},{id:"rice",en:"Rice",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["chawal","tandul","rice","paddy"]},{id:"maize",en:"Maize",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["makka","maka","maize","corn"]},{id:"bajra",en:"Pearl Millet",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["bajra","millet"]},{id:"jowar",en:"Sorghum",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["jowar","jawari","sorghum"]},{id:"barley",en:"Barley",hi:"",mr:"",category:"Grains",unit:"Quintal",icon:"",tags:["jau","barley"]},{id:"chickpea",en:"Chickpea",hi:"",mr:"",category:"Pulses",unit:"Quintal",icon:"",tags:["chana","harbhara","chickpea","gram"]},{id:"pigeon_pea",en:"Pigeon Pea",hi:" ",mr:" ",category:"Pulses",unit:"Quintal",icon:"",tags:["tuar","tur","pigeon pea","tur dal","toor","arhar"]},{id:"moong",en:"Green Gram",hi:"",mr:"",category:"Pulses",unit:"Quintal",icon:"",tags:["moong","mug","green gram"]},{id:"urad",en:"Black Gram",hi:"",mr:"",category:"Pulses",unit:"Quintal",icon:"",tags:["urad","udid","black gram"]},{id:"masoor",en:"Lentil",hi:"",mr:"",category:"Pulses",unit:"Quintal",icon:"",tags:["masur","lentil"]},{id:"soybean",en:"Soybean",hi:"",mr:"",category:"Oilseeds",unit:"Quintal",icon:"",tags:["soyabean","soybean"]},{id:"groundnut",en:"Groundnut",hi:"",mr:"",category:"Oilseeds",unit:"Quintal",icon:"",tags:["mungfali","shengdana","groundnut","peanut"]},{id:"mustard",en:"Mustard",hi:"",mr:"",category:"Oilseeds",unit:"Quintal",icon:"",tags:["sarson","mohari","mustard"]},{id:"sunflower",en:"Sunflower",hi:"",mr:"",category:"Oilseeds",unit:"Quintal",icon:"",tags:["surajmukhi","suryaphul","sunflower"]},{id:"cotton",en:"Cotton",hi:"",mr:"",category:"Cash Crops",unit:"Quintal",icon:"",tags:["kapaas","kapus","cotton"]},{id:"sugarcane",en:"Sugarcane",hi:"",mr:"",category:"Cash Crops",unit:"Ton",icon:"",tags:["ganna","us","sugarcane"]},{id:"turmeric",en:"Turmeric",hi:"",mr:"",category:"Spices",unit:"Quintal",icon:"",tags:["haldi","halad","turmeric"]},{id:"ginger",en:"Ginger",hi:"",mr:"",category:"Spices",unit:"Kg",icon:"",tags:["adrak","ale","ginger"]},{id:"garlic",en:"Garlic",hi:"",mr:"",category:"Spices",unit:"Kg",icon:"",tags:["lahsun","lasun","garlic"]}],HC=t=>{if(!t||t.length<1)return[];const e=t.toLowerCase().trim();return cf.filter(n=>{const r=n.en.toLowerCase().includes(e)||n.hi.includes(e)||n.mr.includes(e)||n.id.includes(e),i=n.tags&&n.tags.some(s=>s.toLowerCase().includes(e));return r||i}).slice(0,8)},Jb=t=>cf.find(e=>e.id===t),KC=t=>{const e=Jb(t);return e?e.unit:"Kg"},$g=["Wheat","Rice","Maize","Soybean","Black Chana","Kabuli Chana","Green Gram","Black Gram","Tur Dal","Mustard","Barley","Millet","Sorghum","Linseed","Banana","Mango","Orange","Papaya","Grapes","Pomegranate","Apple","Guava","Watermelon","Muskmelon","Lemon","Onion","Potato","Tomato","Brinjal","Cabbage","Cauliflower","Okra","Cucumber","Pumpkin","Radish","Carrot","Spinach","Bottle Gourd","Bitter Gourd","Peas","Garlic","Ginger","Chilly","Coriander","Fenugreek","Lady Finger","Cotton","Sugarcane","Turmeric","Jute","Tobacco","Betel Leaf","Groundnut"],Xb=["Indore","Bhopal","Ujjain","Dewas","Jabalpur","Pune","Ahmednagar","Nashik","Nagpur","Jaipur"],Zb=()=>{const[t,e]=N.useState(""),[n,r]=N.useState([]),[i,s]=N.useState("Buyers"),o=To(),{user:l}=Td(),{t:u,language:h}=Ui();N.useEffect(()=>{(l==null?void 0:l.role)==="buyer"?s("Sellers"):s("Buyers")},[l]);const{publicListings:f}=Wb();return N.useEffect(()=>{if(!t.trim()){const g={};f.forEach(C=>{const k=(C.commodity||"").toLowerCase().trim();k&&(g[k]=(g[k]||0)+1)});let x=Object.entries(g).sort((C,k)=>k[1]-C[1]).slice(0,5).map(([C])=>C);x.length===0&&(x=["Wheat","Soybean","Tomato","Onion","Milk"]);const A=x.map(C=>{const k=C.charAt(0).toUpperCase()+C.slice(1);let xe=k;return $g.map(Te=>Te.toLowerCase()),{text:` ${xe} (${u("trending")})`,type:"Market",term:k}});r(A);return}if(t.length<2){r([]);return}const m=t.toLowerCase();let w=[];const P=new Set;$g.forEach(g=>{zg(g).some(C=>{const k=C.toLowerCase();return k.includes(m)||m.includes(k)||Yb(m,k,1)})&&P.add(g)});const b=mv(),D=gv(),I=b.filter(g=>g.toLowerCase().includes(m)||m.includes(g.toLowerCase())),v=D.filter(g=>g.toLowerCase().includes(m)||m.includes(g.toLowerCase())),T=Xb.filter(g=>g.toLowerCase().includes(m)),R=new Set([...I,...v,...T]),L=m.includes("sow")||m.includes("buai")||m.includes("buaie")||m.includes("seed"),F=m.includes("harvest")||m.includes("katai")||m.includes("cutting"),S=m.includes("care")||m.includes("tips")||m.includes("rog")||m.includes("medicine"),y=m.includes("weather")||m.includes("mosam")||m.includes("mausam");(y||R.size>0)&&R.forEach(g=>{w.push({text:`${g} ${u("weather_label")}`,type:"Weather",term:g})}),Array.from(P).forEach(g=>{const x=zg(g),A=cf.find(Te=>Te.en.toLowerCase()===g.toLowerCase());let C=g;A&&(h==="hi"?C=A.hi:h==="mr"?C=A.mr:C=A.en);const k=f.filter(Te=>{const ln=(Te.title||"").toLowerCase(),un=(Te.commodity||"").toLowerCase(),z=(Te.type||"").toLowerCase();return(z==="sell"||!z)&&x.some(J=>ln.includes(J)||un.includes(J))}).length,xe=f.filter(Te=>{const ln=(Te.title||"").toLowerCase(),un=(Te.commodity||"").toLowerCase();return(Te.type||"").toLowerCase()==="buy"&&x.some(K=>ln.includes(K)||un.includes(K))}).length;L?w.push({text:`${C} ${u("sowing")}`,type:"Advisory",term:g,subtype:"sowing"}):F?w.push({text:`${C} ${u("harvesting")}`,type:"Advisory",term:g,subtype:"harvesting"}):S?w.push({text:`${C} ${u("care_tips")}`,type:"Advisory",term:g,subtype:"care"}):(w.push({text:`${C} ${u("sellers_label")} (${k})`,type:"Sellers",term:g}),w.push({text:`${C} ${u("buyers_label")} (${xe})`,type:"Market",term:g,modeOverride:"Buyers"}),w.push({text:`${C} ${u("rates_label")}`,type:"Rates",term:g}),w.push({text:`${C} ${u("farming_tips")}`,type:"Advisory",term:g,subtype:"general"}))}),P.size===0&&R.size>0&&R.forEach(g=>{y||(w.push({text:`${u("sellers_in")} ${g}`,type:"Sellers",term:g}),w.push({text:`${u("mandi_rates_in")} ${g}`,type:"Rates",term:g}))}),r(w.slice(0,10))},[t,f]),{query:t,setQuery:e,searchMode:i,setSearchMode:s,suggestions:n,handleSearchRaw:(m,w,P,b)=>{const D=m||t;let I=b||w;if(!D.trim())return;const v=D.toLowerCase();I||(v.includes("weather")||v.includes("mosam")||v.includes("mausam")?I="Weather":v.includes("rate")||v.includes("bhav")||v.includes("price")||v.includes("mandi")?I="Rates":v.includes("tip")||v.includes("care")||v.includes("sowing")||v.includes("advisory")?I="Advisory":I=i);let T="/marketplace",R="search";if(I==="Weather"){o(`/weather?city=${encodeURIComponent(D.replace(/weather|mosam|mausam/gi,"").trim()||D)}`),r([]),e("");return}if(I==="Advisory"){const L=D.replace(/tips?|care|sowing|advisory/gi,"").trim()||D;o(`/advisory?crop=${encodeURIComponent(L)}&topic=${P||"general"}`),r([]),e("");return}I==="Rates"?T="/rates":(I==="Sellers"||I==="Market")&&(T="/sellers"),o(`${T}?${R}=${encodeURIComponent(D)}`),r([]),e("")}}},eC=()=>{const{user:t}=Td();an();const{query:e,setQuery:n,searchMode:r,setSearchMode:i,suggestions:s,handleSearchRaw:o}=Zb(),[l,u]=N.useState(!1),[h,f]=N.useState(null),[p,m]=N.useState(!1),[w,P]=N.useState(!1),{language:b,t:D,changeLanguage:I}=Ui(),{alerts:v,unreadCount:T,markAsRead:R,clearAll:L}=bT(),F=()=>u(!l),S=g=>{f(h===g?null:g)},y=()=>{u(!1),f(null),m(!1)};return E.jsxs("header",{style:{backgroundColor:"var(--color-surface)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:1e3},children:[E.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.5rem",borderBottom:"1px solid #eee",flexWrap:"nowrap",gap:"8px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"4px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[E.jsxs(be,{to:"/",onClick:y,style:{display:"flex",alignItems:"center",gap:"4px",textDecoration:"none"},children:[E.jsx("img",{src:"/images/logo.png",alt:"Logo",style:{height:"28px",width:"auto",objectFit:"contain"}}),E.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"800",color:"var(--color-primary)",fontFamily:"serif",whiteSpace:"nowrap"},className:"logo-text",children:"KisanBazaar"}),E.jsx("style",{children:`
                                @media (max-width: 340px) { .logo-text { display: none; } }
                            `})]}),E.jsx("button",{onClick:F,className:"mobile-menu-btn",style:{background:"#f8fafc",border:"1px solid #e2e8f0",padding:"4px 6px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",color:"#333",display:"flex",alignItems:"center",gap:"2px",fontWeight:"bold"},children:E.jsx("span",{children:""})})]}),E.jsxs("div",{className:"header-actions",style:{display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[E.jsx("div",{style:{display:"flex",gap:"2px",backgroundColor:"#f1f5f9",padding:"2px",borderRadius:"12px"},children:["en","hi","mr"].map(g=>E.jsx("button",{onClick:()=>I(g),style:{padding:"4px 6px",fontSize:"0.6rem",fontWeight:"800",borderRadius:"10px",border:"none",cursor:"pointer",backgroundColor:b===g?"var(--color-primary)":"transparent",color:b===g?"white":"#64748b",transition:"all 0.2s",textTransform:"uppercase",minWidth:"24px"},children:g==="en"?"EN":g==="hi"?"":""},g))}),E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("button",{onClick:()=>m(!p),style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",position:"relative"},title:"Notifications",children:["",T>0&&E.jsx("span",{style:{position:"absolute",top:"0",right:"0",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"18px",height:"18px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:"2px solid white"},children:T})]}),p&&E.jsxs("div",{className:"fade-in",style:{position:"absolute",top:"45px",right:"0",width:"320px",maxHeight:"70vh",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"12px",zIndex:1010,overflowY:"auto",border:"1px solid #e2e8f0"},children:[E.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8fafc"},children:[E.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:D("notifications")}),E.jsx("button",{onClick:L,style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",fontWeight:"bold"},children:D("clear_all")})]}),v.length===0?E.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:D("no_new_alerts")})]}):E.jsx("div",{style:{padding:"0.5rem"},children:v.map(g=>{const x=b==="hi"?g.titleHi||g.title:b==="mr"&&(g.titleMr||g.titleHi)||g.title,A=b==="hi"?g.messageHi||g.message:b==="mr"&&(g.messageMr||g.messageHi)||g.message;return E.jsx("div",{onClick:()=>R(g.id),style:{padding:"1rem",borderRadius:"8px",marginBottom:"0.5rem",backgroundColor:g.read?"transparent":"#f0f9ff",borderLeft:`4px solid ${g.type==="weather"?"#ef4444":g.type.includes("market")?"#f59e0b":"#10b981"}`,cursor:"pointer",transition:"background-color 0.2s"},children:E.jsxs("div",{style:{display:"flex",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.2rem"},children:g.icon}),E.jsxs("div",{style:{flex:1},children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9rem",marginBottom:"2px"},children:x}),E.jsx("p",{style:{fontSize:"0.8rem",margin:"5px 0",lineHeight:"1.4",color:"#334155"},children:A}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[E.jsx("span",{style:{fontSize:"0.7rem",color:"#94a3b8"},children:new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),E.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(g.whatsappMsg)}`,target:"_blank",rel:"noopener noreferrer",onClick:C=>C.stopPropagation(),style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.75rem",color:"#25D366",textDecoration:"none",fontWeight:"bold",padding:"4px 8px",backgroundColor:"#f0fff4",borderRadius:"4px"},children:[D("share_whatsapp")," "]})]})]})]})},g.id)})}),E.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f8fafc",borderTop:"1px solid #f1f5f9",textAlign:"center"},children:[E.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"0.85rem",color:"#475569"},children:D("want_alerts_whatsapp")}),E.jsx("a",{href:`https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(D("whatsapp_subscribe_msg"))}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{padding:"0.5rem 1rem",fontSize:"0.8rem",display:"inline-flex",alignItems:"center",gap:"5px",textDecoration:"none",borderRadius:"8px"},children:D("subscribe_now")})]})]})]}),t?E.jsxs(be,{to:"/profile",style:{display:"flex",alignItems:"center",gap:"5px",textDecoration:"none",backgroundColor:"#f0fdf4",padding:"4px 8px",borderRadius:"15px",border:"1px solid #dcfce7"},children:[E.jsx("img",{src:t.avatar,alt:"Profile",style:{width:"24px",height:"24px",borderRadius:"50%"}}),E.jsx("span",{style:{fontWeight:"600",color:"#166534",fontSize:"0.8rem"},className:"user-name-short",children:t.name.split(" ")[0]})]}):E.jsxs(be,{to:"/login",className:"btn btn-primary",onClick:y,style:{padding:"0.4rem 0.8rem",fontSize:"0.8rem",borderRadius:"15px",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx("span",{children:""})," ",E.jsx("span",{className:"login-text",children:"Login"})]})]})]}),E.jsx("style",{children:`
                    .mobile-menu-btn { display: none !important; }
                    .user-name-short { display: inline; }
                    
                    @media (max-width: 768px) {
                        .mobile-menu-btn { display: flex !important; }
                        .desktop-nav { display: none !important; }
                        .login-text { font-size: 0.75rem; }
                        .voice-search-desktop { display: none !important; }
                        .voice-icon-mobile { display: inline-flex !important; }
                        .search-icon { display: none !important; }
                        
                        .header-search { 
                            order: 3; 
                            width: 100% !important; 
                            margin: 5px 0 !important; 
                            flex: 1 1 100% !important;
                            max-width: 100% !important;
                        }

                        .mobile-nav-open { 
                            display: flex !important; 
                            flex-direction: column; 
                            width: 100%; 
                            padding-top: 1rem;
                            animation: slideDown 0.3s ease;
                        }
                    }

                    @media (min-width: 769px) {
                        .header-actions { margin-left: auto; }
                        .voice-icon-mobile { display: none !important; }
                    }

                    @keyframes slideDown {
                        from { opacity: 0; transform: translateY(-10px); }
                        to { opacity: 1; transform: translateY(0); }
                    }
                `}),E.jsxs("div",{className:"header-search",style:{position:"relative",display:"flex",alignItems:"center",flexWrap:"nowrap",flex:"1 1 300px",maxWidth:"500px",margin:"0 auto",zIndex:1002},children:[E.jsxs("div",{style:{display:"flex",width:"100%",border:"1px solid #cbd5e1",borderRadius:"50px",overflow:"hidden",height:"42px",backgroundColor:"#f8fafc",transition:"all 0.3s ease",boxShadow:w?"0 0 0 3px rgba(34, 197, 94, 0.2)":"none"},className:"search-input-wrapper",children:[E.jsx("input",{type:"text",placeholder:"Search crops, mandi rates, or weather...",value:e,onChange:g=>n(g.target.value),onFocus:()=>P(!0),onBlur:()=>{setTimeout(()=>P(!1),200)},onKeyPress:g=>g.key==="Enter"&&o(),style:{flex:1,border:"none",padding:"0 12px",outline:"none",fontSize:"0.95rem",minWidth:"0",height:"100%",backgroundColor:"transparent",color:"#1e293b"}}),e&&E.jsx("button",{onClick:()=>{n(""),document.querySelector('input[placeholder="Search crops, mandi rates, or weather..."]').focus()},style:{background:"transparent",border:"none",cursor:"pointer",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontSize:"1.2rem",height:"100%",outline:"none"},title:"Clear search",onMouseDown:g=>g.preventDefault(),children:""}),E.jsx("button",{onClick:()=>{const g=new(window.SpeechRecognition||window.webkitSpeechRecognition);g.lang="hi-IN",g.onstart=()=>{n("Listening...")},g.onresult=x=>{const A=x.results[0][0].transcript;n(A),o(A)},g.start()},className:"voice-search-desktop",style:{background:"transparent",border:"none",cursor:"pointer",padding:"0 12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s",borderLeft:"1px solid #e2e8f0",height:"60%",alignSelf:"center",flexShrink:0},title:"Voice Search",children:E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#2E7D32"},children:[E.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),E.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),E.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),E.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}),E.jsxs("button",{onClick:()=>o(),style:{width:"auto",border:"none",padding:"0 1.2rem",background:"var(--color-primary)",color:"white",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",fontSize:"1.1rem",transition:"background-color 0.2s",flexShrink:0},onMouseEnter:g=>g.target.style.opacity="0.9",onMouseLeave:g=>g.target.style.opacity="1",children:[E.jsx("span",{className:"search-icon",children:""}),E.jsx("span",{className:"voice-icon-mobile",onClick:g=>{g.stopPropagation();const x=new(window.SpeechRecognition||window.webkitSpeechRecognition);x.lang="hi-IN",x.onstart=()=>{n("Listening...")},x.onresult=A=>{const C=A.results[0][0].transcript;n(C),o(C)},x.start()},style:{cursor:"pointer"},children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),E.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),E.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),E.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})})]})]}),w&&s.length>0&&E.jsx("div",{style:{position:"absolute",top:"40px",left:"0",right:"0",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",border:"1px solid #e2e8f0",overflow:"hidden",zIndex:1003},children:s.map((g,x)=>E.jsxs("div",{onClick:()=>{i(g.type),o(g.term,g.type,g.subtype,g.modeOverride)},style:{padding:"10px 15px",cursor:"pointer",borderBottom:x<s.length-1?"1px solid #f1f5f9":"none",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9rem"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="#f8fafc",onMouseLeave:A=>A.currentTarget.style.backgroundColor="white",children:[E.jsx("span",{children:g.text}),E.jsx("span",{style:{fontSize:"0.7rem",padding:"2px 6px",borderRadius:"4px",backgroundColor:"#eff6ff",color:"#3b82f6"},children:g.type})]},x))})]})]}),E.jsx("div",{className:`container ${l?"mobile-nav-open":"desktop-nav"}`,style:{padding:"0.8rem 1rem"},children:E.jsxs("nav",{style:{display:"flex",gap:l?"1rem":"var(--spacing-lg)",flexDirection:l?"column":"row",fontSize:"0.95rem",fontWeight:"500",color:"#555"},children:[E.jsxs("div",{className:"nav-item dropdown",children:[E.jsxs("span",{onClick:()=>l&&S("buyer"),style:{paddingBottom:l?"2px":"10px",fontWeight:"bold",cursor:"pointer",display:"flex",justifyContent:l?"space-between":"flex-start",alignItems:"center"},children:[D("buyer_section"),E.jsx("span",{children:l&&h==="buyer"?"":""})]}),E.jsxs("div",{className:"dropdown-content",style:{position:l?"static":"absolute",boxShadow:l?"none":"0 8px 16px rgba(0,0,0,0.1)",border:l?"none":"1px solid #eee",display:l?h==="buyer"?"block":"none":void 0},children:[E.jsx(be,{to:"/sell?type=Buy",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("request_crop")}),E.jsx(be,{to:"/my-products",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("my_posts")}),E.jsx(be,{to:"/sellers",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("view_sellers")})]})]}),E.jsxs("div",{className:"nav-item dropdown",children:[E.jsxs("span",{onClick:()=>l&&S("seller"),style:{paddingBottom:l?"2px":"10px",fontWeight:"bold",cursor:"pointer",display:"flex",justifyContent:l?"space-between":"flex-start",alignItems:"center"},children:[D("seller_section"),E.jsx("span",{children:l&&h==="seller"?"":""})]}),E.jsxs("div",{className:"dropdown-content",style:{position:l?"static":"absolute",boxShadow:l?"none":"0 8px 16px rgba(0,0,0,0.1)",border:l?"none":"1px solid #eee",display:l?h==="seller"?"block":"none":void 0},children:[E.jsx(be,{to:"/sell?type=Sell",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("list_product")}),E.jsx(be,{to:"/my-products",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("my_products")}),E.jsx(be,{to:"/marketplace?type=Buy",onClick:y,style:{padding:l?"0.5rem 0 0.5rem 1rem":"12px 16px"},children:D("view_buyers")})]})]})]})})]})},tC=()=>{const{t}=Ui(),[e,n]=N.useState({name:"",mobile:"",suggestion:""}),[r,i]=N.useState(!1),s=l=>{const{name:u,value:h}=l.target;n(f=>({...f,[u]:h}))},o=l=>{if(l.preventDefault(),!e.suggestion.trim()){alert(t("placeholder_suggestion").replace("*","").trim());return}const u=JSON.parse(localStorage.getItem("kisan_feedback")||"[]"),h={...e,id:Date.now(),timestamp:new Date().toLocaleString()};localStorage.setItem("kisan_feedback",JSON.stringify([h,...u])),i(!0),n({name:"",mobile:"",suggestion:""}),setTimeout(()=>i(!1),3e3)};return E.jsxs("div",{style:{maxWidth:"400px"},children:[E.jsx("h4",{style:{color:"var(--color-secondary)",marginBottom:"var(--spacing-md)"},children:t("feedback_title")}),r?E.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.1)",padding:"var(--spacing-md)",borderRadius:"8px",color:"#fff",textAlign:"center"},children:t("feedback_success")}):E.jsxs("form",{onSubmit:o,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[E.jsx("input",{type:"text",name:"name",placeholder:t("placeholder_name"),value:e.name,onChange:s,style:{padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"rgba(255,255,255,0.9)",fontSize:"0.9rem"}}),E.jsx("input",{type:"tel",name:"mobile",placeholder:t("placeholder_mobile"),value:e.mobile,onChange:s,style:{padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"rgba(255,255,255,0.9)",fontSize:"0.9rem"}}),E.jsx("textarea",{name:"suggestion",required:!0,placeholder:t("placeholder_suggestion"),value:e.suggestion,onChange:s,rows:"3",style:{padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"rgba(255,255,255,0.9)",fontSize:"0.9rem",resize:"none"}}),E.jsx("button",{type:"submit",style:{padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"var(--color-secondary)",color:"var(--color-primary)",fontWeight:"700",cursor:"pointer",transition:"opacity 0.2s"},onMouseOver:l=>l.target.style.opacity="0.9",onMouseOut:l=>l.target.style.opacity="1",children:t("submit")})]})]})},nC=()=>{const{t}=Ui();return E.jsxs("footer",{style:{backgroundColor:"var(--color-primary)",color:"white",padding:"var(--spacing-xl) 0",marginTop:"auto"},children:[E.jsxs("div",{className:"container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--spacing-lg)"},children:[E.jsxs("div",{children:[E.jsx("h3",{style:{color:"white",marginBottom:"var(--spacing-md)"},children:t("app_name")}),E.jsx("p",{style:{opacity:.9},children:t("footer_desc")})]}),E.jsxs("div",{children:[E.jsx("h4",{style:{color:"var(--color-secondary)",marginBottom:"var(--spacing-md)"},children:t("important_links")}),E.jsxs("ul",{style:{listStyle:"none",opacity:.9},children:[E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/",style:{color:"white",textDecoration:"none"},children:t("home")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/about",style:{color:"white",textDecoration:"none"},children:t("about_us")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/advisory",style:{color:"white",textDecoration:"none"},children:t("integrated_farming")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/pashu-palan",style:{color:"white",textDecoration:"none"},children:t("animal_husbandry")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/partner",style:{color:"white",textDecoration:"none"},children:t("be_partner")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/fpo-registration",style:{color:"white",textDecoration:"none"},children:t("fpo")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/help",style:{color:"white",textDecoration:"none"},children:t("help")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/privacy",style:{color:"white",textDecoration:"none"},children:t("privacy_policy")})}),E.jsx("li",{style:{marginBottom:"8px"},children:E.jsx(be,{to:"/admin/dashboard",style:{color:"rgba(255,255,255,0.5)",textDecoration:"none",fontSize:"0.8rem"},children:"Admin Dashboard"})})]})]}),E.jsxs("div",{children:[E.jsx("h4",{style:{color:"var(--color-secondary)",marginBottom:"var(--spacing-md)"},children:t("contact_us")}),E.jsxs("p",{style:{marginBottom:"8px"},children:[t("email"),": support@kisanbazaar.com"]}),E.jsxs("p",{style:{marginBottom:"8px"},children:[t("phone"),": +91 99879 17394"]}),E.jsx("p",{children:t("address")})]}),E.jsx(tC,{})]}),E.jsxs("div",{className:"container",style:{marginTop:"var(--spacing-lg)",paddingTop:"var(--spacing-md)",borderTop:"1px solid rgba(255,255,255,0.1)",textAlign:"center",opacity:.7},children:[" ",new Date().getFullYear()," Kisan Bazaar. All rights reserved."]})]})};class rC extends Ch.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#F8F5F2",color:"#1E4A35",padding:"2rem",textAlign:"center"},children:[E.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong."}),E.jsxs("p",{style:{marginBottom:"2rem",color:"#666"},children:["We're sorry, but the application encountered an unexpected error.",E.jsx("br",{}),"(  ,      )"]}),E.jsx("details",{style:{whiteSpace:"pre-wrap",marginBottom:"2rem",color:"#d32f2f"},children:this.state.error&&this.state.error.toString()}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[E.jsx("button",{onClick:()=>window.history.back(),style:{padding:"0.8rem 2rem",backgroundColor:"#fff",color:"#1E4A35",border:"1px solid #1E4A35",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"},children:" Go Back"}),E.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.8rem 2rem",backgroundColor:"#1E4A35",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"},children:"Refresh Page (  )"}),E.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"0.8rem 2rem",backgroundColor:"var(--color-primary)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"},children:"Go Home"})]}),E.jsxs("div",{style:{marginTop:"2rem"},children:[E.jsx("p",{style:{fontSize:"0.8rem",color:"#888",marginBottom:"0.5rem"},children:"Still stuck? (   ?)"}),E.jsx("button",{onClick:()=>{window.confirm("This will clear all app data and reset completely. Continue? (        ?)")&&(localStorage.clear(),sessionStorage.clear(),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(let n of e)n.unregister()}),window.location.href="/")},style:{background:"none",border:"none",color:"#d32f2f",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem"},children:" Hard Reset App (  )"})]})]}):this.props.children}}const iC=()=>E.jsx("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",style:{position:"fixed",bottom:"80px",right:"25px",backgroundColor:"#25D366",color:"white",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",zIndex:9999,textDecoration:"none",transition:"transform 0.3s ease"},onMouseOver:t=>t.currentTarget.style.transform="scale(1.1)",onMouseOut:t=>t.currentTarget.style.transform="scale(1)",title:"Chat on WhatsApp",children:E.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",style:{width:"35px",height:"35px"}})}),sC=({onTranscript:t,disabled:e=!1})=>{const[n,r]=N.useState(!1),[i,s]=N.useState(!0);N.useEffect(()=>{"webkitSpeechRecognition"in window||"SpeechRecognition"in window||(s(!1),alert("Voice Search is not supported in this browser. Please use Chrome or Edge."))},[]);const o=()=>{n?u():l()},l=()=>{r(!0);const h=window.SpeechRecognition||window.webkitSpeechRecognition,f=new h;f.lang="hi-IN",f.interimResults=!1,f.maxAlternatives=1,f.onresult=p=>{const m=p.results[0][0].transcript;t(m),r(!1)},f.onerror=p=>{console.error("Speech recognition error",p.error),p.error==="not-allowed"?alert("Microphone access blocked. Please allow microphone permissions in your browser settings."):p.error==="no-speech"||alert("Voice Error: "+p.error),r(!1)},f.onend=()=>{r(!1)},f.start()},u=()=>{r(!1)};return i?E.jsx("button",{onClick:o,disabled:e,title:"Speak to Search ( )",style:{background:n?"#ff4d4d":"white",border:n?"2px solid #ff4d4d":"2px solid #4CAF50",cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",width:"60px",height:"60px",position:"fixed",bottom:"150px",right:"25px",zIndex:1e3},children:E.jsx("span",{style:{fontSize:"1.8rem",display:"flex",alignItems:"center",justifyContent:"center"},children:n?"":E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",viewBox:"0 96 960 960",width:"32",fill:n?"white":"#4CAF50",children:E.jsx("path",{d:"M480 576q-33 0-56.5-23.5T400 496V256q0-33 23.5-56.5T480 176q33 0 56.5 23.5T560 256v240q0 33-23.5 56.5T480 576Zm0 200q-76 0-138.5-43T264 616h61q14 55 59.5 87.5T480 736q52 0 97-32.5T635 616h61q-15 76-77.5 119T480 776Zm-40 180v-99q-126-17-203-108.5T160 546h40q0 117 81.5 198.5T480 826q117 0 198.5-81.5T760 546h40q0 120-77 211.5T520 866v90h-80Z"})})})}):null},oC=()=>{const t=To(),[e,n]=Ch.useState(""),r=i=>{console.log("Voice Command Received:",i),n(i);const s=i.toLowerCase();setTimeout(()=>n(""),4e3),s.includes("news")||s.includes("samachar")||s.includes("khabar")?t("/news"):s.includes("sell")||s.includes("bechna")||s.includes("vikreta")?t("/sell?type=Sell"):s.includes("buy")||s.includes("kharidna")||s.includes("kharidar")||s.includes("buyer")||s.includes("marketplace")?t("/marketplace"):s.includes("weather")||s.includes("mausam")||s.includes("barish")?t("/weather"):s.includes("rate")||s.includes("bhav")||s.includes("mandi")||s.includes("price")?t("/rates"):s.includes("chaupal")||s.includes("community")||s.includes("prashn")||s.includes("madal")?t("/chaupal"):s.includes("animal")||s.includes("pashu")||s.includes("gay")||s.includes("bhains")?t("/pashu-palan"):s.includes("home")||s.includes("mukhya")||s.includes("wapas")?t("/"):s.includes("seller")||s.includes("directory")?t("/sellers"):s.length>2&&t(`/marketplace?search=${encodeURIComponent(s)}`)};return E.jsxs(E.Fragment,{children:[E.jsx(sC,{onTranscript:r}),e&&E.jsxs("div",{style:{position:"fixed",bottom:"150px",right:"25px",backgroundColor:"#333",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"0.9rem",zIndex:2e3,boxShadow:"0 2px 5px rgba(0,0,0,0.2)",maxWidth:"200px",wordWrap:"break-word",animation:"fadeIn 0.3s ease"},children:['Heard: "',e,'"']})]})},aC=()=>{const{t}=Ui();return E.jsxs("nav",{className:"mobile-bottom-nav",children:[E.jsx("style",{children:`
                .mobile-bottom-nav {
                    position: fixed;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    background-color: white;
                    display: none; /* Hidden on Desktop */
                    justify-content: space-around;
                    align-items: center;
                    padding: 0.5rem 0;
                    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
                    z-index: 2000; /* Ensure on top */
                    border-top: 1px solid #eee;
                    flex-direction: row; /* Force row */
                    height: 60px; /* Fixed height */
                }

                .mobile-nav-item {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-decoration: none;
                    color: #666;
                    font-size: 0.75rem;
                    gap: 4px;
                }

                .mobile-nav-item.active {
                    color: var(--color-primary);
                    font-weight: bold;
                }

                .mobile-nav-icon {
                    font-size: 1.5rem;
                }

                @media (max-width: 768px) {
                    .mobile-bottom-nav {
                        display: flex;
                    }
                    /* Add padding to body or footer to prevent overlap */
                    body {
                        padding-bottom: 60px;
                    }
                }
            `}),E.jsxs(ys,{to:"/",className:({isActive:e})=>`mobile-nav-item ${e?"active":""}`,children:[E.jsx("span",{className:"mobile-nav-icon",children:""}),E.jsx("span",{children:t("home")})]}),E.jsxs(ys,{to:"/sell?type=Sell",className:({isActive:e})=>`mobile-nav-item ${e?"active":""}`,children:[E.jsx("span",{className:"mobile-nav-icon",children:""}),E.jsx("span",{children:t("sell")})]}),E.jsxs(ys,{to:"/marketplace",className:({isActive:e})=>`mobile-nav-item ${e?"active":""}`,children:[E.jsx("span",{className:"mobile-nav-icon",children:""}),E.jsx("span",{children:t("buy")})]}),E.jsxs(ys,{to:"/rates",className:({isActive:e})=>`mobile-nav-item ${e?"active":""}`,children:[E.jsx("span",{className:"mobile-nav-icon",children:""}),E.jsx("span",{children:t("nav_rates")})]}),E.jsxs(ys,{to:"/profile",className:({isActive:e})=>`mobile-nav-item ${e?"active":""}`,children:[E.jsx("span",{className:"mobile-nav-icon",children:""}),E.jsx("span",{children:t("nav_profile")})]})]})},lC=({children:t,allowedRole:e})=>{const{user:n,loading:r}=Td(),i=an();return r?E.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading..."}):n?e&&n.role!==e?E.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"red"},children:[E.jsx("h2",{children:"Access Denied"}),E.jsx("p",{children:"You do not have permission to view this page."}),E.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"10px 20px",marginTop:"20px",cursor:"pointer"},children:"Go Home"})]}):t:E.jsx(JS,{to:"/login",state:{from:i},replace:!0})},uC=()=>{const[t,e]=N.useState(navigator.onLine);return N.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t?null:E.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#d32f2f",color:"white",textAlign:"center",padding:"8px",zIndex:1e4,fontSize:"0.9rem",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[E.jsx("span",{children:""}),E.jsxs("span",{children:["No Internet Connection. You are offline.",E.jsx("br",{}),"(      )"]})]})},cC=()=>{const[t,e]=N.useState(!1);N.useEffect(()=>{localStorage.getItem("kb_privacy_consent")||e(!0)},[]);const n=()=>{localStorage.setItem("kb_privacy_consent","true"),e(!1)};return t?E.jsxs("div",{className:"fade-in",style:{position:"fixed",bottom:"70px",left:"20px",right:"20px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",padding:"1.25rem",zIndex:9999,border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",gap:"12px",maxWidth:"500px",margin:"0 auto"},children:[E.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{style:{flex:1},children:[E.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1rem",color:"var(--color-dark)"},children:"Privacy & Cookies (  )"}),E.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b",lineHeight:"1.4"},children:["We use cookies to improve your marketplace experience and send alerts. By using Kisan Bazaar, you agree to our ",E.jsx(be,{to:"/privacy",style:{color:"var(--color-primary)",fontWeight:"bold",textDecoration:"none"},children:"Privacy Policy"}),"."]})]})]}),E.jsxs("div",{style:{display:"flex",gap:"8px"},children:[E.jsx("button",{onClick:n,className:"btn btn-primary",style:{flex:1,padding:"0.6rem",fontSize:"0.85rem",borderRadius:"8px"},children:"Accept & Close ( )"}),E.jsx(be,{to:"/privacy",className:"btn btn-outline",style:{flex:1,padding:"0.6rem",fontSize:"0.85rem",borderRadius:"8px",textAlign:"center",textDecoration:"none"},children:"Learn More ( )"})]})]}):null},hC=N.lazy(()=>me(()=>import("./Home-c3fd40ed.js"),[])),dC=N.lazy(()=>me(()=>import("./Buyer-59ad6f0b.js"),[])),fC=N.lazy(()=>me(()=>import("./Seller-21a147f2.js"),["assets/Seller-21a147f2.js","assets/LocationSelector-a0b5afa8.js"])),pC=N.lazy(()=>me(()=>import("./MyProducts-a09879dd.js"),[])),mC=N.lazy(()=>me(()=>import("./Products-6fe290b6.js"),[])),gC=N.lazy(()=>me(()=>import("./Contact-d53d0789.js"),[])),_C=N.lazy(()=>me(()=>import("./MandiRates-85d5cbb2.js"),["assets/MandiRates-85d5cbb2.js","assets/LocationSelector-a0b5afa8.js","assets/BackToHomeButton-ed2d2b44.js"])),yC=N.lazy(()=>me(()=>import("./Partner-beb3bb7c.js"),["assets/Partner-beb3bb7c.js","assets/BackToHomeButton-ed2d2b44.js"])),vC=N.lazy(()=>me(()=>import("./News-e89f04e2.js"),["assets/News-e89f04e2.js","assets/BackToHomeButton-ed2d2b44.js"])),wC=N.lazy(()=>me(()=>import("./Weather-62538772.js"),["assets/Weather-62538772.js","assets/LocationSelector-a0b5afa8.js","assets/BackToHomeButton-ed2d2b44.js"])),EC=N.lazy(()=>me(()=>import("./CropAdvisory-37883c5c.js"),["assets/CropAdvisory-37883c5c.js","assets/BackToHomeButton-ed2d2b44.js"])),SC=N.lazy(()=>me(()=>import("./About-314858e4.js"),["assets/About-314858e4.js","assets/BackToHomeButton-ed2d2b44.js"])),TC=N.lazy(()=>me(()=>import("./NotFound-f8f77661.js"),[])),IC=N.lazy(()=>me(()=>import("./Chaupal-0041f67f.js"),["assets/Chaupal-0041f67f.js","assets/BackToHomeButton-ed2d2b44.js"])),kC=N.lazy(()=>me(()=>import("./PashuPalan-7df569f8.js"),["assets/PashuPalan-7df569f8.js","assets/BackToHomeButton-ed2d2b44.js"])),xC=N.lazy(()=>me(()=>import("./Transport-ee379827.js"),["assets/Transport-ee379827.js","assets/LocationSelector-a0b5afa8.js","assets/BackToHomeButton-ed2d2b44.js"])),AC=N.lazy(()=>me(()=>import("./SellerDirectory-46caea3f.js"),["assets/SellerDirectory-46caea3f.js","assets/LocationSelector-a0b5afa8.js","assets/BackToHomeButton-ed2d2b44.js"])),bC=N.lazy(()=>me(()=>import("./Login-5e0d6618.js"),[])),CC=N.lazy(()=>me(()=>import("./Profile-f0d2e027.js"),[])),PC=N.lazy(()=>me(()=>import("./Help-a7077658.js"),["assets/Help-a7077658.js","assets/BackToHomeButton-ed2d2b44.js"])),RC=N.lazy(()=>me(()=>import("./PrivacyPolicy-f228772c.js"),[])),DC=N.lazy(()=>me(()=>import("./AdminDashboard-395c7fd3.js"),[])),VC=N.lazy(()=>me(()=>import("./FPORegistration-b385b49c.js"),["assets/FPORegistration-b385b49c.js","assets/BackToHomeButton-ed2d2b44.js"])),NC=N.lazy(()=>me(()=>import("./TradeArea-94f273c0.js"),["assets/TradeArea-94f273c0.js","assets/BackToHomeButton-ed2d2b44.js"])),MC=()=>E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",color:"var(--color-primary)"},children:[E.jsx("div",{className:"spinner"}),E.jsx("style",{children:`
      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--color-primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    `})]});function LC(){const{pathname:t}=an();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),E.jsx(rC,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[E.jsx(eC,{}),E.jsx("main",{style:{flex:1},children:E.jsx(N.Suspense,{fallback:E.jsx(MC,{}),children:E.jsxs(ZS,{children:[E.jsx(de,{path:"/",element:E.jsx(hC,{})}),E.jsx(de,{path:"/login",element:E.jsx(bC,{})}),E.jsx(de,{path:"/profile",element:E.jsx(CC,{})}),E.jsx(de,{path:"/marketplace",element:E.jsx(dC,{})}),E.jsx(de,{path:"/sell",element:E.jsx(fC,{})}),E.jsx(de,{path:"/my-products",element:E.jsx(pC,{})}),E.jsx(de,{path:"/products",element:E.jsx(mC,{})}),E.jsx(de,{path:"/rates",element:E.jsx(_C,{})}),E.jsx(de,{path:"/partner",element:E.jsx(yC,{})}),E.jsx(de,{path:"/news",element:E.jsx(vC,{})}),E.jsx(de,{path:"/weather",element:E.jsx(wC,{})}),E.jsx(de,{path:"/advisory",element:E.jsx(EC,{})}),E.jsx(de,{path:"/chaupal",element:E.jsx(IC,{})}),E.jsx(de,{path:"/pashu-palan",element:E.jsx(kC,{})}),E.jsx(de,{path:"/transport",element:E.jsx(xC,{})}),E.jsx(de,{path:"/sellers",element:E.jsx(AC,{})}),E.jsx(de,{path:"/contact",element:E.jsx(gC,{})}),E.jsx(de,{path:"/help",element:E.jsx(PC,{})}),E.jsx(de,{path:"/about",element:E.jsx(SC,{})}),E.jsx(de,{path:"/privacy",element:E.jsx(RC,{})}),E.jsx(de,{path:"/admin/dashboard",element:E.jsx(lC,{allowedRole:"Admin",children:E.jsx(DC,{})})}),E.jsx(de,{path:"/fpo-registration",element:E.jsx(VC,{})}),E.jsx(de,{path:"/trade-area",element:E.jsx(NC,{})}),E.jsx(de,{path:"*",element:E.jsx(TC,{})})]})})}),E.jsx(iC,{}),E.jsx(oC,{}),E.jsx(aC,{}),E.jsx(cC,{}),E.jsx(uC,{}),E.jsx(nC,{})]})})}function OC(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let l,u;const h=async(p=!0)=>{await u};async function f(){if("serviceWorker"in navigator){if(l=await me(()=>import("./workbox-window.prod.es5-d772c227.js"),[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{o==null||o(p)}),!l)return;l.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),l.addEventListener("installed",p=>{p.isUpdate||r==null||r()}),l.register({immediate:e}).then(p=>{s?s("/sw.js",p):i==null||i(p)}).catch(p=>{o==null||o(p)})}}return u=f(),h}nv(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(lT,{children:E.jsx(pT,{children:E.jsx(mT,{children:E.jsx(CT,{children:E.jsx(Hb,{children:E.jsx(LC,{})})})})})})}));const jC=OC({onNeedRefresh(){confirm("New content available. Reload?")&&jC(!0)},onOfflineReady(){console.log("App is ready to work offline")}});export{be as L,Ch as R,me as _,Td as a,Wb as b,ha as c,To as d,qC as e,AT as f,zg as g,an as h,KC as i,E as j,kT as k,xT as l,FC as m,wT as n,IT as o,$C as p,zC as q,N as r,HC as s,UC as t,Ui as u,gT as v,_T as w,yT as x,pv as y,BC as z};
