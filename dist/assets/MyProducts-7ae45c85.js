import{e as u,u as m,i as y,r as f,j as e}from"./index-6bbc8bfa.js";const b=({show:l,onConfirm:d,onCancel:t,productName:s})=>{const{t:i}=m();return l?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:3e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:e.jsxs("div",{className:"card fade-in",style:{maxWidth:"450px",width:"100%",textAlign:"center",padding:"2rem"},children:[e.jsx("div",{style:{width:"70px",height:"70px",margin:"0 auto 1.5rem",borderRadius:"50%",background:"linear-gradient(135deg, #D32F2F 0%, #F44336 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),e.jsx("h3",{style:{color:"#333",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"bold"},children:i("delete_confirm_title")}),s&&e.jsx("p",{style:{color:"#666",fontSize:"0.95rem",marginBottom:"1.5rem",padding:"10px",background:"#f9f9f9",borderRadius:"4px"},children:e.jsx("strong",{children:s})}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:t,style:{flex:1,padding:"1rem",fontSize:"1.1rem",fontWeight:"bold",backgroundColor:"#f5f5f5",color:"#666",border:"2px solid #ddd",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s"},onMouseOver:o=>o.target.style.backgroundColor="#e0e0e0",onMouseOut:o=>o.target.style.backgroundColor="#f5f5f5",children:["âŒ ",i("delete_confirm_no")]}),e.jsxs("button",{onClick:d,style:{flex:1,padding:"1rem",fontSize:"1.1rem",fontWeight:"bold",backgroundColor:"#D32F2F",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 12px rgba(211, 47, 47, 0.3)"},onMouseOver:o=>o.target.style.backgroundColor="#B71C1C",onMouseOut:o=>o.target.style.backgroundColor="#D32F2F",children:["âœ“ ",i("delete_confirm_yes")]})]})]})}):null},v=()=>{const{getUserListings:l,deleteListing:d}=u(),{t}=m(),s=y(),[i,o]=f.useState({show:!1,id:null,name:""}),a=localStorage.getItem("kisan_user_mobile");if(!a)return e.jsxs("div",{className:"container",style:{padding:"var(--spacing-xl) 0",textAlign:"center"},children:[e.jsx("h2",{children:t("please_sign_in")}),e.jsx("button",{onClick:()=>s("/sell"),className:"btn btn-primary",style:{marginTop:"1rem"},children:t("sign_in_btn")})]});const c=l(a),x=r=>{localStorage.setItem("edit_listing",JSON.stringify(r)),s("/sell")},p=r=>{o({show:!0,id:r.id,name:r.commodity})},g=()=>{d(i.id),o({show:!1,id:null,name:""})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container",style:{padding:"var(--spacing-xl) 0"},children:[e.jsx("h1",{style:{marginBottom:"var(--spacing-lg)",borderBottom:"3px solid var(--color-primary)",paddingBottom:"0.5rem",color:"var(--color-primary)"},children:t("my_products_list")}),c.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"#f9f9f9",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ðŸ“¦"}),e.jsx("h3",{style:{color:"#666",marginBottom:"0.5rem"},children:t("no_posts_title")}),e.jsxs("button",{onClick:()=>s("/sell"),className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1.1rem"},children:["âž• ",t("post_first_req")]})]}):e.jsx("div",{className:"products-grid",style:{display:"grid",gap:"1.5rem"},children:c.map(r=>e.jsxs("div",{className:"card product-card",style:{display:"flex",flexDirection:"row",gap:"1.5rem",alignItems:"center",padding:"1.5rem",flexWrap:"wrap"},children:[e.jsx("div",{style:{width:"120px",height:"120px",minWidth:"120px",borderRadius:"8px",overflow:"hidden",background:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",border:"1px solid #e2e8f0"},children:(()=>{const n=Array.isArray(r.images)&&r.images.length>0&&r.images[0],h=r.image&&typeof r.image=="string"&&r.image.length>5;return n?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r.images[0],alt:r.commodity,style:{width:"100%",height:"100%",objectFit:"cover"}}),r.images.length>1&&e.jsxs("div",{style:{position:"absolute",bottom:"5px",right:"5px",background:"rgba(0,0,0,0.6)",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:["+",r.images.length-1]})]}):h?e.jsx("img",{src:r.image,alt:r.commodity,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{textAlign:"center",color:"#94a3b8"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"ðŸ–¼ï¸"}),e.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px"},children:t("no_photo")})]})})()}),e.jsxs("div",{style:{flex:"1 1 300px"},children:[e.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"bold",marginBottom:"0.5rem",backgroundColor:r.type==="Buy"?"#FFEBEE":"#E8F5E9",color:r.type==="Buy"?"#D32F2F":"#2E7D32"},children:r.type==="Buy"?`ðŸ”´ ${t("want_to_buy")}`:`ðŸŸ¢ ${t("want_to_sell")}`}),e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",color:"#333"},children:r.commodity}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.5rem",fontSize:"0.95rem",color:"#666"},children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[t("quantity"),":"]})," ",r.quantity," ",r.unit]}),e.jsxs("div",{children:[e.jsxs("strong",{children:[t("price"),":"]})," â‚¹",r.targetPrice,"/",r.priceUnit]}),e.jsxs("div",{children:[e.jsxs("strong",{children:[t("location"),":"]})," ",r.district,", ",r.state]}),r.type==="Sell"&&e.jsxs("div",{children:[e.jsxs("strong",{children:[t("quality"),":"]})," ",r.quality]})]})]}),e.jsxs("div",{className:"action-buttons",style:{display:"flex",flexDirection:"column",gap:"0.8rem",flex:"1 1 100%",marginTop:"1rem","@media (min-width: 768px)":{flex:"0 0 auto",marginTop:0}},children:[e.jsx("style",{children:`
                                        @media (min-width: 768px) {
                                            .product-card { flex-wrap: nowrap !important; }
                                            .action-buttons { flex: 0 0 auto !important; margin-top: 0 !important; }
                                        }
                                    `}),e.jsxs("button",{onClick:()=>x(r),style:{padding:"0.8rem 1.5rem",fontSize:"1rem",fontWeight:"bold",backgroundColor:"#2E7D32",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.3s",whiteSpace:"nowrap",width:"100%"},onMouseOver:n=>n.target.style.backgroundColor="#1B5E20",onMouseOut:n=>n.target.style.backgroundColor="#2E7D32",children:["âœï¸ ",t("edit_product")]}),e.jsxs("button",{onClick:()=>p(r),style:{padding:"0.8rem 1.5rem",fontSize:"1rem",fontWeight:"bold",backgroundColor:"#D32F2F",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.3s",whiteSpace:"nowrap",width:"100%"},onMouseOver:n=>n.target.style.backgroundColor="#B71C1C",onMouseOut:n=>n.target.style.backgroundColor="#D32F2F",children:["ðŸ—‘ï¸ ",t("delete_product")]})]})]},r.id))})]}),e.jsx(b,{show:i.show,productName:i.name,onConfirm:g,onCancel:()=>o({show:!1,id:null,name:""})})]})};export{v as default};
